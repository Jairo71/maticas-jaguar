(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function O0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var mm={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function TA(){if(Ov)return zl;Ov=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var f in s)f!=="key"&&(l[f]=s[f])}else l=s;return s=l.ref,{$$typeof:r,type:a,key:c,ref:s!==void 0?s:null,props:l}}return zl.Fragment=e,zl.jsx=n,zl.jsxs=n,zl}var Pv;function bA(){return Pv||(Pv=1,mm.exports=TA()),mm.exports}var F=bA(),pm={exports:{}},Pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function AA(){if(Mv)return Pe;Mv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function _(M){return M===null||typeof M!="object"?null:(M=v&&M[v]||M["@@iterator"],typeof M=="function"?M:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,q={};function V(M,ee,re){this.props=M,this.context=ee,this.refs=q,this.updater=re||A}V.prototype.isReactComponent={},V.prototype.setState=function(M,ee){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ee,"setState")},V.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function k(){}k.prototype=V.prototype;function B(M,ee,re){this.props=M,this.context=ee,this.refs=q,this.updater=re||A}var H=B.prototype=new k;H.constructor=B,I(H,V.prototype),H.isPureReactComponent=!0;var G=Array.isArray,Z={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function U(M,ee,re,ie,ue,ae){return re=ae.ref,{$$typeof:r,type:M,key:ee,ref:re!==void 0?re:null,props:ae}}function T(M,ee){return U(M.type,ee,void 0,void 0,void 0,M.props)}function b(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function x(M){var ee={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(re){return ee[re]})}var D=/\/+/g;function P(M,ee){return typeof M=="object"&&M!==null&&M.key!=null?x(""+M.key):ee.toString(36)}function C(){}function K(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(C,C):(M.status="pending",M.then(function(ee){M.status==="pending"&&(M.status="fulfilled",M.value=ee)},function(ee){M.status==="pending"&&(M.status="rejected",M.reason=ee)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Y(M,ee,re,ie,ue){var ae=typeof M;(ae==="undefined"||ae==="boolean")&&(M=null);var ge=!1;if(M===null)ge=!0;else switch(ae){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(M.$$typeof){case r:case e:ge=!0;break;case g:return ge=M._init,Y(ge(M._payload),ee,re,ie,ue)}}if(ge)return ue=ue(M),ge=ie===""?"."+P(M,0):ie,G(ue)?(re="",ge!=null&&(re=ge.replace(D,"$&/")+"/"),Y(ue,ee,re,"",function(Oe){return Oe})):ue!=null&&(b(ue)&&(ue=T(ue,re+(ue.key==null||M&&M.key===ue.key?"":(""+ue.key).replace(D,"$&/")+"/")+ge)),ee.push(ue)),1;ge=0;var De=ie===""?".":ie+":";if(G(M))for(var Ae=0;Ae<M.length;Ae++)ie=M[Ae],ae=De+P(ie,Ae),ge+=Y(ie,ee,re,ae,ue);else if(Ae=_(M),typeof Ae=="function")for(M=Ae.call(M),Ae=0;!(ie=M.next()).done;)ie=ie.value,ae=De+P(ie,Ae++),ge+=Y(ie,ee,re,ae,ue);else if(ae==="object"){if(typeof M.then=="function")return Y(K(M),ee,re,ie,ue);throw ee=String(M),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return ge}function R(M,ee,re){if(M==null)return M;var ie=[],ue=0;return Y(M,ie,"","",function(ae){return ee.call(re,ae,ue++)}),ie}function N(M){if(M._status===-1){var ee=M._result;ee=ee(),ee.then(function(re){(M._status===0||M._status===-1)&&(M._status=1,M._result=re)},function(re){(M._status===0||M._status===-1)&&(M._status=2,M._result=re)}),M._status===-1&&(M._status=0,M._result=ee)}if(M._status===1)return M._result.default;throw M._result}var te=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function X(){}return Pe.Children={map:R,forEach:function(M,ee,re){R(M,function(){ee.apply(this,arguments)},re)},count:function(M){var ee=0;return R(M,function(){ee++}),ee},toArray:function(M){return R(M,function(ee){return ee})||[]},only:function(M){if(!b(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Pe.Component=V,Pe.Fragment=n,Pe.Profiler=s,Pe.PureComponent=B,Pe.StrictMode=a,Pe.Suspense=m,Pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,Pe.__COMPILER_RUNTIME={__proto__:null,c:function(M){return Z.H.useMemoCache(M)}},Pe.cache=function(M){return function(){return M.apply(null,arguments)}},Pe.cloneElement=function(M,ee,re){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ie=I({},M.props),ue=M.key,ae=void 0;if(ee!=null)for(ge in ee.ref!==void 0&&(ae=void 0),ee.key!==void 0&&(ue=""+ee.key),ee)!j.call(ee,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&ee.ref===void 0||(ie[ge]=ee[ge]);var ge=arguments.length-2;if(ge===1)ie.children=re;else if(1<ge){for(var De=Array(ge),Ae=0;Ae<ge;Ae++)De[Ae]=arguments[Ae+2];ie.children=De}return U(M.type,ue,void 0,void 0,ae,ie)},Pe.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},Pe.createElement=function(M,ee,re){var ie,ue={},ae=null;if(ee!=null)for(ie in ee.key!==void 0&&(ae=""+ee.key),ee)j.call(ee,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ue[ie]=ee[ie]);var ge=arguments.length-2;if(ge===1)ue.children=re;else if(1<ge){for(var De=Array(ge),Ae=0;Ae<ge;Ae++)De[Ae]=arguments[Ae+2];ue.children=De}if(M&&M.defaultProps)for(ie in ge=M.defaultProps,ge)ue[ie]===void 0&&(ue[ie]=ge[ie]);return U(M,ae,void 0,void 0,null,ue)},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(M){return{$$typeof:f,render:M}},Pe.isValidElement=b,Pe.lazy=function(M){return{$$typeof:g,_payload:{_status:-1,_result:M},_init:N}},Pe.memo=function(M,ee){return{$$typeof:y,type:M,compare:ee===void 0?null:ee}},Pe.startTransition=function(M){var ee=Z.T,re={};Z.T=re;try{var ie=M(),ue=Z.S;ue!==null&&ue(re,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(X,te)}catch(ae){te(ae)}finally{Z.T=ee}},Pe.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},Pe.use=function(M){return Z.H.use(M)},Pe.useActionState=function(M,ee,re){return Z.H.useActionState(M,ee,re)},Pe.useCallback=function(M,ee){return Z.H.useCallback(M,ee)},Pe.useContext=function(M){return Z.H.useContext(M)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(M,ee){return Z.H.useDeferredValue(M,ee)},Pe.useEffect=function(M,ee,re){var ie=Z.H;if(typeof re=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(M,ee)},Pe.useId=function(){return Z.H.useId()},Pe.useImperativeHandle=function(M,ee,re){return Z.H.useImperativeHandle(M,ee,re)},Pe.useInsertionEffect=function(M,ee){return Z.H.useInsertionEffect(M,ee)},Pe.useLayoutEffect=function(M,ee){return Z.H.useLayoutEffect(M,ee)},Pe.useMemo=function(M,ee){return Z.H.useMemo(M,ee)},Pe.useOptimistic=function(M,ee){return Z.H.useOptimistic(M,ee)},Pe.useReducer=function(M,ee,re){return Z.H.useReducer(M,ee,re)},Pe.useRef=function(M){return Z.H.useRef(M)},Pe.useState=function(M){return Z.H.useState(M)},Pe.useSyncExternalStore=function(M,ee,re){return Z.H.useSyncExternalStore(M,ee,re)},Pe.useTransition=function(){return Z.H.useTransition()},Pe.version="19.1.1",Pe}var Lv;function mp(){return Lv||(Lv=1,pm.exports=AA()),pm.exports}var le=mp();const SA=O0(le);var gm={exports:{}},Bl={},ym={exports:{}},_m={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function wA(){return Vv||(Vv=1,(function(r){function e(R,N){var te=R.length;R.push(N);e:for(;0<te;){var X=te-1>>>1,M=R[X];if(0<s(M,N))R[X]=N,R[te]=M,te=X;else break e}}function n(R){return R.length===0?null:R[0]}function a(R){if(R.length===0)return null;var N=R[0],te=R.pop();if(te!==N){R[0]=te;e:for(var X=0,M=R.length,ee=M>>>1;X<ee;){var re=2*(X+1)-1,ie=R[re],ue=re+1,ae=R[ue];if(0>s(ie,te))ue<M&&0>s(ae,ie)?(R[X]=ae,R[ue]=te,X=ue):(R[X]=ie,R[re]=te,X=re);else if(ue<M&&0>s(ae,te))R[X]=ae,R[ue]=te,X=ue;else break e}}return N}function s(R,N){var te=R.sortIndex-N.sortIndex;return te!==0?te:R.id-N.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();r.unstable_now=function(){return c.now()-f}}var m=[],y=[],g=1,v=null,_=3,A=!1,I=!1,q=!1,V=!1,k=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function G(R){for(var N=n(y);N!==null;){if(N.callback===null)a(y);else if(N.startTime<=R)a(y),N.sortIndex=N.expirationTime,e(m,N);else break;N=n(y)}}function Z(R){if(q=!1,G(R),!I)if(n(m)!==null)I=!0,j||(j=!0,P());else{var N=n(y);N!==null&&Y(Z,N.startTime-R)}}var j=!1,U=-1,T=5,b=-1;function x(){return V?!0:!(r.unstable_now()-b<T)}function D(){if(V=!1,j){var R=r.unstable_now();b=R;var N=!0;try{e:{I=!1,q&&(q=!1,B(U),U=-1),A=!0;var te=_;try{t:{for(G(R),v=n(m);v!==null&&!(v.expirationTime>R&&x());){var X=v.callback;if(typeof X=="function"){v.callback=null,_=v.priorityLevel;var M=X(v.expirationTime<=R);if(R=r.unstable_now(),typeof M=="function"){v.callback=M,G(R),N=!0;break t}v===n(m)&&a(m),G(R)}else a(m);v=n(m)}if(v!==null)N=!0;else{var ee=n(y);ee!==null&&Y(Z,ee.startTime-R),N=!1}}break e}finally{v=null,_=te,A=!1}N=void 0}}finally{N?P():j=!1}}}var P;if(typeof H=="function")P=function(){H(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,K=C.port2;C.port1.onmessage=D,P=function(){K.postMessage(null)}}else P=function(){k(D,0)};function Y(R,N){U=k(function(){R(r.unstable_now())},N)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(R){R.callback=null},r.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<R?Math.floor(1e3/R):5},r.unstable_getCurrentPriorityLevel=function(){return _},r.unstable_next=function(R){switch(_){case 1:case 2:case 3:var N=3;break;default:N=_}var te=_;_=N;try{return R()}finally{_=te}},r.unstable_requestPaint=function(){V=!0},r.unstable_runWithPriority=function(R,N){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var te=_;_=R;try{return N()}finally{_=te}},r.unstable_scheduleCallback=function(R,N,te){var X=r.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?X+te:X):te=X,R){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=te+M,R={id:g++,callback:N,priorityLevel:R,startTime:te,expirationTime:M,sortIndex:-1},te>X?(R.sortIndex=te,e(y,R),n(m)===null&&R===n(y)&&(q?(B(U),U=-1):q=!0,Y(Z,te-X))):(R.sortIndex=M,e(m,R),I||A||(I=!0,j||(j=!0,P()))),R},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(R){var N=_;return function(){var te=_;_=N;try{return R.apply(this,arguments)}finally{_=te}}}})(_m)),_m}var Uv;function RA(){return Uv||(Uv=1,ym.exports=wA()),ym.exports}var vm={exports:{}},An={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function CA(){if(kv)return An;kv=1;var r=mp();function e(m){var y="https://react.dev/errors/"+m;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)y+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(m,y,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:m,containerInfo:y,implementation:g}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,y){if(m==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,An.createPortal=function(m,y){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return l(m,y,null,g)},An.flushSync=function(m){var y=c.T,g=a.p;try{if(c.T=null,a.p=2,m)return m()}finally{c.T=y,a.p=g,a.d.f()}},An.preconnect=function(m,y){typeof m=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(m,y))},An.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},An.preinit=function(m,y){if(typeof m=="string"&&y&&typeof y.as=="string"){var g=y.as,v=f(g,y.crossOrigin),_=typeof y.integrity=="string"?y.integrity:void 0,A=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;g==="style"?a.d.S(m,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:A}):g==="script"&&a.d.X(m,{crossOrigin:v,integrity:_,fetchPriority:A,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},An.preinitModule=function(m,y){if(typeof m=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var g=f(y.as,y.crossOrigin);a.d.M(m,{crossOrigin:g,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(m)},An.preload=function(m,y){if(typeof m=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var g=y.as,v=f(g,y.crossOrigin);a.d.L(m,g,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},An.preloadModule=function(m,y){if(typeof m=="string")if(y){var g=f(y.as,y.crossOrigin);a.d.m(m,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:g,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(m)},An.requestFormReset=function(m){a.d.r(m)},An.unstable_batchedUpdates=function(m,y){return m(y)},An.useFormState=function(m,y,g){return c.H.useFormState(m,y,g)},An.useFormStatus=function(){return c.H.useHostTransitionStatus()},An.version="19.1.1",An}var qv;function IA(){if(qv)return vm.exports;qv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),vm.exports=CA(),vm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function xA(){if(jv)return Bl;jv=1;var r=RA(),e=mp(),n=IA();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function l(t){var i=t,o=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(o=i.return),t=i.return;while(t)}return i.tag===3?o:null}function c(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function f(t){if(l(t)!==t)throw Error(a(188))}function m(t){var i=t.alternate;if(!i){if(i=l(t),i===null)throw Error(a(188));return i!==t?null:t}for(var o=t,u=i;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return f(d),t;if(p===u)return f(d),i;p=p.sibling}throw Error(a(188))}if(o.return!==u.return)o=d,u=p;else{for(var w=!1,O=d.child;O;){if(O===o){w=!0,o=d,u=p;break}if(O===u){w=!0,u=d,o=p;break}O=O.sibling}if(!w){for(O=p.child;O;){if(O===o){w=!0,o=p,u=d;break}if(O===u){w=!0,u=p,o=d;break}O=O.sibling}if(!w)throw Error(a(189))}}if(o.alternate!==u)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),H=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function K(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case I:return"Fragment";case V:return"Profiler";case q:return"StrictMode";case Z:return"Suspense";case j:return"SuspenseList";case b:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case A:return"Portal";case H:return(t.displayName||"Context")+".Provider";case B:return(t._context.displayName||"Context")+".Consumer";case G:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case U:return i=t.displayName||null,i!==null?i:K(t.type)||"Memo";case T:i=t._payload,t=t._init;try{return K(t(i))}catch{}}return null}var Y=Array.isArray,R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},X=[],M=-1;function ee(t){return{current:t}}function re(t){0>M||(t.current=X[M],X[M]=null,M--)}function ie(t,i){M++,X[M]=t.current,t.current=i}var ue=ee(null),ae=ee(null),ge=ee(null),De=ee(null);function Ae(t,i){switch(ie(ge,i),ie(ae,t),ie(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?sv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=sv(i),t=ov(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}re(ue),ie(ue,t)}function Oe(){re(ue),re(ae),re(ge)}function Be(t){t.memoizedState!==null&&ie(De,t);var i=ue.current,o=ov(i,t.type);i!==o&&(ie(ae,t),ie(ue,o))}function $e(t){ae.current===t&&(re(ue),re(ae)),De.current===t&&(re(De),Vl._currentValue=te)}var ht=Object.prototype.hasOwnProperty,In=r.unstable_scheduleCallback,Wt=r.unstable_cancelCallback,at=r.unstable_shouldYield,It=r.unstable_requestPaint,Ve=r.unstable_now,nt=r.unstable_getCurrentPriorityLevel,Et=r.unstable_ImmediatePriority,At=r.unstable_UserBlockingPriority,st=r.unstable_NormalPriority,un=r.unstable_LowPriority,dt=r.unstable_IdlePriority,Xe=r.log,Jt=r.unstable_setDisableYieldValue,We=null,Fe=null;function Ze(t){if(typeof Xe=="function"&&Jt(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(We,t)}catch{}}var yt=Math.clz32?Math.clz32:Mt,Pt=Math.log,xn=Math.LN2;function Mt(t){return t>>>=0,t===0?32:31-(Pt(t)/xn|0)|0}var cn=256,Zt=4194304;function Bt(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Rr(t,i,o){var u=t.pendingLanes;if(u===0)return 0;var d=0,p=t.suspendedLanes,w=t.pingedLanes;t=t.warmLanes;var O=u&134217727;return O!==0?(u=O&~p,u!==0?d=Bt(u):(w&=O,w!==0?d=Bt(w):o||(o=O&~t,o!==0&&(d=Bt(o))))):(O=u&~p,O!==0?d=Bt(O):w!==0?d=Bt(w):o||(o=u&~t,o!==0&&(d=Bt(o)))),d===0?0:i!==0&&i!==d&&(i&p)===0&&(p=d&-d,o=i&-i,p>=o||p===32&&(o&4194048)!==0)?i:d}function ni(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function ri(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ui(){var t=cn;return cn<<=1,(cn&4194048)===0&&(cn=256),t}function dr(){var t=Zt;return Zt<<=1,(Zt&62914560)===0&&(Zt=4194304),t}function fr(t){for(var i=[],o=0;31>o;o++)i.push(t);return i}function en(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ln(t,i,o,u,d,p){var w=t.pendingLanes;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=o,t.entangledLanes&=o,t.errorRecoveryDisabledLanes&=o,t.shellSuspendCounter=0;var O=t.entanglements,z=t.expirationTimes,ne=t.hiddenUpdates;for(o=w&~o;0<o;){var he=31-yt(o),me=1<<he;O[he]=0,z[he]=-1;var se=ne[he];if(se!==null)for(ne[he]=null,he=0;he<se.length;he++){var oe=se[he];oe!==null&&(oe.lane&=-536870913)}o&=~me}u!==0&&hn(t,u,0),p!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=p&~(w&~i))}function hn(t,i,o){t.pendingLanes|=i,t.suspendedLanes&=~i;var u=31-yt(i);t.entangledLanes|=i,t.entanglements[u]=t.entanglements[u]|1073741824|o&4194090}function mr(t,i){var o=t.entangledLanes|=i;for(t=t.entanglements;o;){var u=31-yt(o),d=1<<u;d&i|t[u]&i&&(t[u]|=i),o&=~d}}function pr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Vn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Tn(){var t=N.p;return t!==0?t:(t=window.event,t===void 0?32:Rv(t.type))}function Du(t,i){var o=N.p;try{return N.p=t,i()}finally{N.p=o}}var _t=Math.random().toString(36).slice(2),Ft="__reactFiber$"+_t,Lt="__reactProps$"+_t,Wn="__reactContainer$"+_t,zo="__reactEvents$"+_t,gd="__reactListeners$"+_t,ki="__reactHandles$"+_t,Ou="__reactResources$"+_t,Oa="__reactMarker$"+_t;function qi(t){delete t[Ft],delete t[Lt],delete t[zo],delete t[gd],delete t[ki]}function ii(t){var i=t[Ft];if(i)return i;for(var o=t.parentNode;o;){if(i=o[Wn]||o[Ft]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(t=hv(t);t!==null;){if(o=t[Ft])return o;t=hv(t)}return i}t=o,o=t.parentNode}return null}function Cr(t){if(t=t[Ft]||t[Wn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Ir(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function Nn(t){var i=t[Ou];return i||(i=t[Ou]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function xt(t){t[Oa]=!0}var Bo=new Set,ws={};function gr(t,i){ai(t,i),ai(t+"Capture",i)}function ai(t,i){for(ws[t]=i,t=0;t<i.length;t++)Bo.add(i[t])}var Pu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mu={},Pa={};function Lu(t){return ht.call(Pa,t)?!0:ht.call(Mu,t)?!1:Pu.test(t)?Pa[t]=!0:(Mu[t]=!0,!1)}function ji(t,i,o){if(Lu(i))if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+o)}}function xr(t,i,o){if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+o)}}function dn(t,i,o,u){if(u===null)t.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttributeNS(i,o,""+u)}}var Ma,Vu;function si(t){if(Ma===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Ma=i&&i[1]||"",Vu=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ma+t+Vu}var Rs=!1;function Cs(t,i){if(!t||Rs)return"";Rs=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(oe){var se=oe}Reflect.construct(t,[],me)}else{try{me.call()}catch(oe){se=oe}t.call(me.prototype)}}else{try{throw Error()}catch(oe){se=oe}(me=t())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(oe){if(oe&&se&&typeof oe.stack=="string")return[oe.stack,se.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),w=p[0],O=p[1];if(w&&O){var z=w.split(`
`),ne=O.split(`
`);for(d=u=0;u<z.length&&!z[u].includes("DetermineComponentFrameRoot");)u++;for(;d<ne.length&&!ne[d].includes("DetermineComponentFrameRoot");)d++;if(u===z.length||d===ne.length)for(u=z.length-1,d=ne.length-1;1<=u&&0<=d&&z[u]!==ne[d];)d--;for(;1<=u&&0<=d;u--,d--)if(z[u]!==ne[d]){if(u!==1||d!==1)do if(u--,d--,0>d||z[u]!==ne[d]){var he=`
`+z[u].replace(" at new "," at ");return t.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",t.displayName)),he}while(1<=u&&0<=d);break}}}finally{Rs=!1,Error.prepareStackTrace=o}return(o=t?t.displayName||t.name:"")?si(o):""}function Fo(t){switch(t.tag){case 26:case 27:case 5:return si(t.type);case 16:return si("Lazy");case 13:return si("Suspense");case 19:return si("SuspenseList");case 0:case 15:return Cs(t.type,!1);case 11:return Cs(t.type.render,!1);case 1:return Cs(t.type,!0);case 31:return si("Activity");default:return""}}function Is(t){try{var i="";do i+=Fo(t),t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Dn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ho(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function yd(t){var i=Ho(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),u=""+t[i];if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,p=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(w){u=""+w,p.call(this,w)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(w){u=""+w},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function xs(t){t._valueTracker||(t._valueTracker=yd(t))}function Go(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return t&&(u=Ho(t)?t.checked?"true":"false":t.value),t=u,t!==o?(i.setValue(t),!0):!1}function La(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var _d=/[\n"\\]/g;function Vt(t){return t.replace(_d,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Bn(t,i,o,u,d,p,w,O){t.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.type=w:t.removeAttribute("type"),i!=null?w==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Dn(i)):t.value!==""+Dn(i)&&(t.value=""+Dn(i)):w!=="submit"&&w!=="reset"||t.removeAttribute("value"),i!=null?zi(t,w,Dn(i)):o!=null?zi(t,w,Dn(o)):u!=null&&t.removeAttribute("value"),d==null&&p!=null&&(t.defaultChecked=!!p),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?t.name=""+Dn(O):t.removeAttribute("name")}function Va(t,i,o,u,d,p,w,O){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),i!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||i!=null))return;o=o!=null?""+Dn(o):"",i=i!=null?""+Dn(i):o,O||i===t.value||(t.value=i),t.defaultValue=i}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=O?t.checked:!!u,t.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(t.name=w)}function zi(t,i,o){i==="number"&&La(t.ownerDocument)===t||t.defaultValue===""+o||(t.defaultValue=""+o)}function oi(t,i,o,u){if(t=t.options,i){i={};for(var d=0;d<o.length;d++)i["$"+o[d]]=!0;for(o=0;o<t.length;o++)d=i.hasOwnProperty("$"+t[o].value),t[o].selected!==d&&(t[o].selected=d),d&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Dn(o),i=null,d=0;d<t.length;d++){if(t[d].value===o){t[d].selected=!0,u&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function ot(t,i,o){if(i!=null&&(i=""+Dn(i),i!==t.value&&(t.value=i),o==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=o!=null?""+Dn(o):""}function Ua(t,i,o,u){if(i==null){if(u!=null){if(o!=null)throw Error(a(92));if(Y(u)){if(1<u.length)throw Error(a(93));u=u[0]}o=u}o==null&&(o=""),i=o}o=Dn(i),t.defaultValue=o,u=t.textContent,u===o&&u!==""&&u!==null&&(t.value=u)}function Jn(t,i){if(i){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=i;return}}t.textContent=i}var ka=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uu(t,i,o){var u=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":u?t.setProperty(i,o):typeof o!="number"||o===0||ka.has(i)?i==="float"?t.cssFloat=o:t[i]=(""+o).trim():t[i]=o+"px"}function Qo(t,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var d in i)u=i[d],i.hasOwnProperty(d)&&o[d]!==u&&Uu(t,d,u)}else for(var p in i)i.hasOwnProperty(p)&&Uu(t,p,i[p])}function Ko(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ed=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ns(t){return Ed.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var li=null;function Zn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ui=null,ci=null;function Yo(t){var i=Cr(t);if(i&&(t=i.stateNode)){var o=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Bn(t,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Vt(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==t&&u.form===t.form){var d=u[Lt]||null;if(!d)throw Error(a(90));Bn(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<o.length;i++)u=o[i],u.form===t.form&&Go(u)}break e;case"textarea":ot(t,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&oi(t,!!o.multiple,i,!1)}}}var Nr=!1;function ku(t,i,o){if(Nr)return t(i,o);Nr=!0;try{var u=t(i);return u}finally{if(Nr=!1,(ui!==null||ci!==null)&&(Dc(),ui&&(i=ui,t=ci,ci=ui=null,Yo(i),t)))for(i=0;i<t.length;i++)Yo(t[i])}}function qa(t,i){var o=t.stateNode;if(o===null)return null;var u=o[Lt]||null;if(u===null)return null;o=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),er=!1;if(yr)try{var ja={};Object.defineProperty(ja,"passive",{get:function(){er=!0}}),window.addEventListener("test",ja,ja),window.removeEventListener("test",ja,ja)}catch{er=!1}var Dr=null,Bi=null,hi=null;function $o(){if(hi)return hi;var t,i=Bi,o=i.length,u,d="value"in Dr?Dr.value:Dr.textContent,p=d.length;for(t=0;t<o&&i[t]===d[t];t++);var w=o-t;for(u=1;u<=w&&i[o-u]===d[p-u];u++);return hi=d.slice(t,1<u?1-u:void 0)}function Or(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Pr(){return!0}function Xo(){return!1}function tn(t){function i(o,u,d,p,w){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=p,this.target=w,this.currentTarget=null;for(var O in t)t.hasOwnProperty(O)&&(o=t[O],this[O]=o?o(p):p[O]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Pr:Xo,this.isPropagationStopped=Xo,this}return g(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Pr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Pr)},persist:function(){},isPersistent:Pr}),i}var et={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ds=tn(et),za=g({},et,{view:0,detail:0}),qu=tn(za),Os,Ps,Mr,Ba=g({},za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ga,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mr&&(Mr&&t.type==="mousemove"?(Os=t.screenX-Mr.screenX,Ps=t.screenY-Mr.screenY):Ps=Os=0,Mr=t),Os)},movementY:function(t){return"movementY"in t?t.movementY:Ps}}),tr=tn(Ba),ju=g({},Ba,{dataTransfer:0}),Td=tn(ju),Fa=g({},za,{relatedTarget:0}),Ms=tn(Fa),Wo=g({},et,{animationName:0,elapsedTime:0,pseudoElement:0}),Ls=tn(Wo),zu=g({},et,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Vs=tn(zu),bd=g({},et,{data:0}),Jo=tn(bd),Ha={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Fu[t])?!!i[t]:!1}function Ga(){return Zo}var Hu=g({},za,{key:function(t){if(t.key){var i=Ha[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Or(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ga,charCode:function(t){return t.type==="keypress"?Or(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Or(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Us=tn(Hu),Gu=g({},Ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),el=tn(Gu),di=g({},za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ga}),Qu=tn(di),Ku=g({},et,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yu=tn(Ku),$u=g({},Ba,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ks=tn($u),On=g({},et,{newState:0,oldState:0}),Xu=tn(On),Wu=[9,13,27,32],Lr=yr&&"CompositionEvent"in window,h=null;yr&&"documentMode"in document&&(h=document.documentMode);var E=yr&&"TextEvent"in window&&!h,S=yr&&(!Lr||h&&8<h&&11>=h),L=" ",W=!1;function ce(t,i){switch(t){case"keyup":return Wu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ye(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var He=!1;function Ht(t,i){switch(t){case"compositionend":return ye(i);case"keypress":return i.which!==32?null:(W=!0,L);case"textInput":return t=i.data,t===L&&W?null:t;default:return null}}function Ge(t,i){if(He)return t==="compositionend"||!Lr&&ce(t,i)?(t=$o(),hi=Bi=Dr=null,He=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return S&&i.locale!=="ko"?null:i.data;default:return null}}var nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!nn[t.type]:i==="textarea"}function fi(t,i,o,u){ui?ci?ci.push(u):ci=[u]:ui=u,i=Uc(i,"onChange"),0<i.length&&(o=new Ds("onChange","change",null,o,u),t.push({event:o,listeners:i}))}var fn=null,Vr=null;function tl(t){tv(t,0)}function Ju(t){var i=Ir(t);if(Go(i))return t}function bg(t,i){if(t==="change")return i}var Ag=!1;if(yr){var Ad;if(yr){var Sd="oninput"in document;if(!Sd){var Sg=document.createElement("div");Sg.setAttribute("oninput","return;"),Sd=typeof Sg.oninput=="function"}Ad=Sd}else Ad=!1;Ag=Ad&&(!document.documentMode||9<document.documentMode)}function wg(){fn&&(fn.detachEvent("onpropertychange",Rg),Vr=fn=null)}function Rg(t){if(t.propertyName==="value"&&Ju(Vr)){var i=[];fi(i,Vr,t,Zn(t)),ku(tl,i)}}function Wb(t,i,o){t==="focusin"?(wg(),fn=i,Vr=o,fn.attachEvent("onpropertychange",Rg)):t==="focusout"&&wg()}function Jb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ju(Vr)}function Zb(t,i){if(t==="click")return Ju(i)}function e2(t,i){if(t==="input"||t==="change")return Ju(i)}function t2(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Fn=typeof Object.is=="function"?Object.is:t2;function nl(t,i){if(Fn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var o=Object.keys(t),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!ht.call(i,d)||!Fn(t[d],i[d]))return!1}return!0}function Cg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ig(t,i){var o=Cg(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=i&&u>=i)return{node:o,offset:i-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Cg(o)}}function xg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?xg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ng(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=La(t.document);i instanceof t.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)t=i.contentWindow;else break;i=La(t.document)}return i}function wd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var n2=yr&&"documentMode"in document&&11>=document.documentMode,qs=null,Rd=null,rl=null,Cd=!1;function Dg(t,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Cd||qs==null||qs!==La(u)||(u=qs,"selectionStart"in u&&wd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),rl&&nl(rl,u)||(rl=u,u=Uc(Rd,"onSelect"),0<u.length&&(i=new Ds("onSelect","select",null,i,o),t.push({event:i,listeners:u}),i.target=qs)))}function Qa(t,i){var o={};return o[t.toLowerCase()]=i.toLowerCase(),o["Webkit"+t]="webkit"+i,o["Moz"+t]="moz"+i,o}var js={animationend:Qa("Animation","AnimationEnd"),animationiteration:Qa("Animation","AnimationIteration"),animationstart:Qa("Animation","AnimationStart"),transitionrun:Qa("Transition","TransitionRun"),transitionstart:Qa("Transition","TransitionStart"),transitioncancel:Qa("Transition","TransitionCancel"),transitionend:Qa("Transition","TransitionEnd")},Id={},Og={};yr&&(Og=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function Ka(t){if(Id[t])return Id[t];if(!js[t])return t;var i=js[t],o;for(o in i)if(i.hasOwnProperty(o)&&o in Og)return Id[t]=i[o];return t}var Pg=Ka("animationend"),Mg=Ka("animationiteration"),Lg=Ka("animationstart"),r2=Ka("transitionrun"),i2=Ka("transitionstart"),a2=Ka("transitioncancel"),Vg=Ka("transitionend"),Ug=new Map,xd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xd.push("scrollEnd");function _r(t,i){Ug.set(t,i),gr(i,[t])}var kg=new WeakMap;function nr(t,i){if(typeof t=="object"&&t!==null){var o=kg.get(t);return o!==void 0?o:(i={value:t,source:i,stack:Is(i)},kg.set(t,i),i)}return{value:t,source:i,stack:Is(i)}}var rr=[],zs=0,Nd=0;function Zu(){for(var t=zs,i=Nd=zs=0;i<t;){var o=rr[i];rr[i++]=null;var u=rr[i];rr[i++]=null;var d=rr[i];rr[i++]=null;var p=rr[i];if(rr[i++]=null,u!==null&&d!==null){var w=u.pending;w===null?d.next=d:(d.next=w.next,w.next=d),u.pending=d}p!==0&&qg(o,d,p)}}function ec(t,i,o,u){rr[zs++]=t,rr[zs++]=i,rr[zs++]=o,rr[zs++]=u,Nd|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function Dd(t,i,o,u){return ec(t,i,o,u),tc(t)}function Bs(t,i){return ec(t,null,null,i),tc(t)}function qg(t,i,o){t.lanes|=o;var u=t.alternate;u!==null&&(u.lanes|=o);for(var d=!1,p=t.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(d=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,d&&i!==null&&(d=31-yt(o),t=p.hiddenUpdates,u=t[d],u===null?t[d]=[i]:u.push(i),i.lane=o|536870912),p):null}function tc(t){if(50<Il)throw Il=0,kf=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Fs={};function s2(t,i,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(t,i,o,u){return new s2(t,i,o,u)}function Od(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mi(t,i){var o=t.alternate;return o===null?(o=Hn(t.tag,i,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=i,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&65011712,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,i=t.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o.refCleanup=t.refCleanup,o}function jg(t,i){t.flags&=65011714;var o=t.alternate;return o===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=o.childLanes,t.lanes=o.lanes,t.child=o.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=o.memoizedProps,t.memoizedState=o.memoizedState,t.updateQueue=o.updateQueue,t.type=o.type,i=o.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function nc(t,i,o,u,d,p){var w=0;if(u=t,typeof t=="function")Od(t)&&(w=1);else if(typeof t=="string")w=lA(t,o,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case b:return t=Hn(31,o,i,d),t.elementType=b,t.lanes=p,t;case I:return Ya(o.children,d,p,i);case q:w=8,d|=24;break;case V:return t=Hn(12,o,i,d|2),t.elementType=V,t.lanes=p,t;case Z:return t=Hn(13,o,i,d),t.elementType=Z,t.lanes=p,t;case j:return t=Hn(19,o,i,d),t.elementType=j,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:case H:w=10;break e;case B:w=9;break e;case G:w=11;break e;case U:w=14;break e;case T:w=16,u=null;break e}w=29,o=Error(a(130,t===null?"null":typeof t,"")),u=null}return i=Hn(w,o,i,d),i.elementType=t,i.type=u,i.lanes=p,i}function Ya(t,i,o,u){return t=Hn(7,t,u,i),t.lanes=o,t}function Pd(t,i,o){return t=Hn(6,t,null,i),t.lanes=o,t}function Md(t,i,o){return i=Hn(4,t.children!==null?t.children:[],t.key,i),i.lanes=o,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Hs=[],Gs=0,rc=null,ic=0,ir=[],ar=0,$a=null,pi=1,gi="";function Xa(t,i){Hs[Gs++]=ic,Hs[Gs++]=rc,rc=t,ic=i}function zg(t,i,o){ir[ar++]=pi,ir[ar++]=gi,ir[ar++]=$a,$a=t;var u=pi;t=gi;var d=32-yt(u)-1;u&=~(1<<d),o+=1;var p=32-yt(i)+d;if(30<p){var w=d-d%5;p=(u&(1<<w)-1).toString(32),u>>=w,d-=w,pi=1<<32-yt(i)+d|o<<d|u,gi=p+t}else pi=1<<p|o<<d|u,gi=t}function Ld(t){t.return!==null&&(Xa(t,1),zg(t,1,0))}function Vd(t){for(;t===rc;)rc=Hs[--Gs],Hs[Gs]=null,ic=Hs[--Gs],Hs[Gs]=null;for(;t===$a;)$a=ir[--ar],ir[ar]=null,gi=ir[--ar],ir[ar]=null,pi=ir[--ar],ir[ar]=null}var Pn=null,St=null,Je=!1,Wa=null,Ur=!1,Ud=Error(a(519));function Ja(t){var i=Error(a(418,""));throw sl(nr(i,t)),Ud}function Bg(t){var i=t.stateNode,o=t.type,u=t.memoizedProps;switch(i[Ft]=t,i[Lt]=u,o){case"dialog":ke("cancel",i),ke("close",i);break;case"iframe":case"object":case"embed":ke("load",i);break;case"video":case"audio":for(o=0;o<Nl.length;o++)ke(Nl[o],i);break;case"source":ke("error",i);break;case"img":case"image":case"link":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"input":ke("invalid",i),Va(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),xs(i);break;case"select":ke("invalid",i);break;case"textarea":ke("invalid",i),Ua(i,u.value,u.defaultValue,u.children),xs(i)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||u.suppressHydrationWarning===!0||av(i.textContent,o)?(u.popover!=null&&(ke("beforetoggle",i),ke("toggle",i)),u.onScroll!=null&&ke("scroll",i),u.onScrollEnd!=null&&ke("scrollend",i),u.onClick!=null&&(i.onclick=kc),i=!0):i=!1,i||Ja(t)}function Fg(t){for(Pn=t.return;Pn;)switch(Pn.tag){case 5:case 13:Ur=!1;return;case 27:case 3:Ur=!0;return;default:Pn=Pn.return}}function il(t){if(t!==Pn)return!1;if(!Je)return Fg(t),Je=!0,!1;var i=t.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=t.type,o=!(o!=="form"&&o!=="button")||em(t.type,t.memoizedProps)),o=!o),o&&St&&Ja(t),Fg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(o=t.data,o==="/$"){if(i===0){St=Er(t.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;t=t.nextSibling}St=null}}else i===27?(i=St,ia(t.type)?(t=im,im=null,St=t):St=i):St=Pn?Er(t.stateNode.nextSibling):null;return!0}function al(){St=Pn=null,Je=!1}function Hg(){var t=Wa;return t!==null&&(qn===null?qn=t:qn.push.apply(qn,t),Wa=null),t}function sl(t){Wa===null?Wa=[t]:Wa.push(t)}var kd=ee(null),Za=null,yi=null;function Fi(t,i,o){ie(kd,i._currentValue),i._currentValue=o}function _i(t){t._currentValue=kd.current,re(kd)}function qd(t,i,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),t===o)break;t=t.return}}function jd(t,i,o,u){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var p=d.dependencies;if(p!==null){var w=d.child;p=p.firstContext;e:for(;p!==null;){var O=p;p=d;for(var z=0;z<i.length;z++)if(O.context===i[z]){p.lanes|=o,O=p.alternate,O!==null&&(O.lanes|=o),qd(p.return,o,t),u||(w=null);break e}p=O.next}}else if(d.tag===18){if(w=d.return,w===null)throw Error(a(341));w.lanes|=o,p=w.alternate,p!==null&&(p.lanes|=o),qd(w,o,t),w=null}else w=d.child;if(w!==null)w.return=d;else for(w=d;w!==null;){if(w===t){w=null;break}if(d=w.sibling,d!==null){d.return=w.return,w=d;break}w=w.return}d=w}}function ol(t,i,o,u){t=null;for(var d=i,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var w=d.alternate;if(w===null)throw Error(a(387));if(w=w.memoizedProps,w!==null){var O=d.type;Fn(d.pendingProps.value,w.value)||(t!==null?t.push(O):t=[O])}}else if(d===De.current){if(w=d.alternate,w===null)throw Error(a(387));w.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Vl):t=[Vl])}d=d.return}t!==null&&jd(i,t,o,u),i.flags|=262144}function ac(t){for(t=t.firstContext;t!==null;){if(!Fn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function es(t){Za=t,yi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function bn(t){return Gg(Za,t)}function sc(t,i){return Za===null&&es(t),Gg(t,i)}function Gg(t,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},yi===null){if(t===null)throw Error(a(308));yi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else yi=yi.next=i;return o}var o2=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(o,u){t.push(u)}};this.abort=function(){i.aborted=!0,t.forEach(function(o){return o()})}},l2=r.unstable_scheduleCallback,u2=r.unstable_NormalPriority,Qt={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zd(){return{controller:new o2,data:new Map,refCount:0}}function ll(t){t.refCount--,t.refCount===0&&l2(u2,function(){t.controller.abort()})}var ul=null,Bd=0,Qs=0,Ks=null;function c2(t,i){if(ul===null){var o=ul=[];Bd=0,Qs=Gf(),Ks={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Bd++,i.then(Qg,Qg),i}function Qg(){if(--Bd===0&&ul!==null){Ks!==null&&(Ks.status="fulfilled");var t=ul;ul=null,Qs=0,Ks=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function h2(t,i){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return t.then(function(){u.status="fulfilled",u.value=i;for(var d=0;d<o.length;d++)(0,o[d])(i)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var Kg=R.S;R.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&c2(t,i),Kg!==null&&Kg(t,i)};var ts=ee(null);function Fd(){var t=ts.current;return t!==null?t:mt.pooledCache}function oc(t,i){i===null?ie(ts,ts.current):ie(ts,i.pool)}function Yg(){var t=Fd();return t===null?null:{parent:Qt._currentValue,pool:t}}var cl=Error(a(460)),$g=Error(a(474)),lc=Error(a(542)),Hd={then:function(){}};function Xg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function uc(){}function Wg(t,i,o){switch(o=t[o],o===void 0?t.push(i):o!==i&&(i.then(uc,uc),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Zg(t),t;default:if(typeof i.status=="string")i.then(uc,uc);else{if(t=mt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(u){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=u}},function(u){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Zg(t),t}throw hl=i,cl}}var hl=null;function Jg(){if(hl===null)throw Error(a(459));var t=hl;return hl=null,t}function Zg(t){if(t===cl||t===lc)throw Error(a(483))}var Hi=!1;function Gd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Gi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Qi(t,i,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(rt&2)!==0){var d=u.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),u.pending=i,i=tc(t),qg(t,null,o),i}return ec(t,u,i,o),tc(t)}function dl(t,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var u=i.lanes;u&=t.pendingLanes,o|=u,i.lanes=o,mr(t,o)}}function Kd(t,i){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?d=p=w:p=p.next=w,o=o.next}while(o!==null);p===null?d=p=i:p=p.next=i}else d=p=i;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=i:t.next=i,o.lastBaseUpdate=i}var Yd=!1;function fl(){if(Yd){var t=Ks;if(t!==null)throw t}}function ml(t,i,o,u){Yd=!1;var d=t.updateQueue;Hi=!1;var p=d.firstBaseUpdate,w=d.lastBaseUpdate,O=d.shared.pending;if(O!==null){d.shared.pending=null;var z=O,ne=z.next;z.next=null,w===null?p=ne:w.next=ne,w=z;var he=t.alternate;he!==null&&(he=he.updateQueue,O=he.lastBaseUpdate,O!==w&&(O===null?he.firstBaseUpdate=ne:O.next=ne,he.lastBaseUpdate=z))}if(p!==null){var me=d.baseState;w=0,he=ne=z=null,O=p;do{var se=O.lane&-536870913,oe=se!==O.lane;if(oe?(Qe&se)===se:(u&se)===se){se!==0&&se===Qs&&(Yd=!0),he!==null&&(he=he.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Ie=t,Se=O;se=i;var ct=o;switch(Se.tag){case 1:if(Ie=Se.payload,typeof Ie=="function"){me=Ie.call(ct,me,se);break e}me=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Se.payload,se=typeof Ie=="function"?Ie.call(ct,me,se):Ie,se==null)break e;me=g({},me,se);break e;case 2:Hi=!0}}se=O.callback,se!==null&&(t.flags|=64,oe&&(t.flags|=8192),oe=d.callbacks,oe===null?d.callbacks=[se]:oe.push(se))}else oe={lane:se,tag:O.tag,payload:O.payload,callback:O.callback,next:null},he===null?(ne=he=oe,z=me):he=he.next=oe,w|=se;if(O=O.next,O===null){if(O=d.shared.pending,O===null)break;oe=O,O=oe.next,oe.next=null,d.lastBaseUpdate=oe,d.shared.pending=null}}while(!0);he===null&&(z=me),d.baseState=z,d.firstBaseUpdate=ne,d.lastBaseUpdate=he,p===null&&(d.shared.lanes=0),ea|=w,t.lanes=w,t.memoizedState=me}}function ey(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function ty(t,i){var o=t.callbacks;if(o!==null)for(t.callbacks=null,t=0;t<o.length;t++)ey(o[t],i)}var Ys=ee(null),cc=ee(0);function ny(t,i){t=wi,ie(cc,t),ie(Ys,i),wi=t|i.baseLanes}function $d(){ie(cc,wi),ie(Ys,Ys.current)}function Xd(){wi=cc.current,re(Ys),re(cc)}var Ki=0,Me=null,lt=null,Ut=null,hc=!1,$s=!1,ns=!1,dc=0,pl=0,Xs=null,d2=0;function Nt(){throw Error(a(321))}function Wd(t,i){if(i===null)return!1;for(var o=0;o<i.length&&o<t.length;o++)if(!Fn(t[o],i[o]))return!1;return!0}function Jd(t,i,o,u,d,p){return Ki=p,Me=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,R.H=t===null||t.memoizedState===null?qy:jy,ns=!1,p=o(u,d),ns=!1,$s&&(p=iy(i,o,u,d)),ry(t),p}function ry(t){R.H=_c;var i=lt!==null&&lt.next!==null;if(Ki=0,Ut=lt=Me=null,hc=!1,pl=0,Xs=null,i)throw Error(a(300));t===null||rn||(t=t.dependencies,t!==null&&ac(t)&&(rn=!0))}function iy(t,i,o,u){Me=t;var d=0;do{if($s&&(Xs=null),pl=0,$s=!1,25<=d)throw Error(a(301));if(d+=1,Ut=lt=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}R.H=v2,p=i(o,u)}while($s);return p}function f2(){var t=R.H,i=t.useState()[0];return i=typeof i.then=="function"?gl(i):i,t=t.useState()[0],(lt!==null?lt.memoizedState:null)!==t&&(Me.flags|=1024),i}function Zd(){var t=dc!==0;return dc=0,t}function ef(t,i,o){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~o}function tf(t){if(hc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}hc=!1}Ki=0,Ut=lt=Me=null,$s=!1,pl=dc=0,Xs=null}function Un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Me.memoizedState=Ut=t:Ut=Ut.next=t,Ut}function kt(){if(lt===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var i=Ut===null?Me.memoizedState:Ut.next;if(i!==null)Ut=i,lt=t;else{if(t===null)throw Me.alternate===null?Error(a(467)):Error(a(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},Ut===null?Me.memoizedState=Ut=t:Ut=Ut.next=t}return Ut}function nf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(t){var i=pl;return pl+=1,Xs===null&&(Xs=[]),t=Wg(Xs,t,i),i=Me,(Ut===null?i.memoizedState:Ut.next)===null&&(i=i.alternate,R.H=i===null||i.memoizedState===null?qy:jy),t}function fc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return gl(t);if(t.$$typeof===H)return bn(t)}throw Error(a(438,String(t)))}function rf(t){var i=null,o=Me.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var u=Me.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=nf(),Me.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(t),u=0;u<t;u++)o[u]=x;return i.index++,o}function vi(t,i){return typeof i=="function"?i(t):i}function mc(t){var i=kt();return af(i,lt,t)}function af(t,i,o){var u=t.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=o;var d=t.baseQueue,p=u.pending;if(p!==null){if(d!==null){var w=d.next;d.next=p.next,p.next=w}i.baseQueue=d=p,u.pending=null}if(p=t.baseState,d===null)t.memoizedState=p;else{i=d.next;var O=w=null,z=null,ne=i,he=!1;do{var me=ne.lane&-536870913;if(me!==ne.lane?(Qe&me)===me:(Ki&me)===me){var se=ne.revertLane;if(se===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),me===Qs&&(he=!0);else if((Ki&se)===se){ne=ne.next,se===Qs&&(he=!0);continue}else me={lane:0,revertLane:ne.revertLane,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},z===null?(O=z=me,w=p):z=z.next=me,Me.lanes|=se,ea|=se;me=ne.action,ns&&o(p,me),p=ne.hasEagerState?ne.eagerState:o(p,me)}else se={lane:me,revertLane:ne.revertLane,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},z===null?(O=z=se,w=p):z=z.next=se,Me.lanes|=me,ea|=me;ne=ne.next}while(ne!==null&&ne!==i);if(z===null?w=p:z.next=O,!Fn(p,t.memoizedState)&&(rn=!0,he&&(o=Ks,o!==null)))throw o;t.memoizedState=p,t.baseState=w,t.baseQueue=z,u.lastRenderedState=p}return d===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function sf(t){var i=kt(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=t;var u=o.dispatch,d=o.pending,p=i.memoizedState;if(d!==null){o.pending=null;var w=d=d.next;do p=t(p,w.action),w=w.next;while(w!==d);Fn(p,i.memoizedState)||(rn=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),o.lastRenderedState=p}return[p,u]}function ay(t,i,o){var u=Me,d=kt(),p=Je;if(p){if(o===void 0)throw Error(a(407));o=o()}else o=i();var w=!Fn((lt||d).memoizedState,o);w&&(d.memoizedState=o,rn=!0),d=d.queue;var O=ly.bind(null,u,d,t);if(yl(2048,8,O,[t]),d.getSnapshot!==i||w||Ut!==null&&Ut.memoizedState.tag&1){if(u.flags|=2048,Ws(9,pc(),oy.bind(null,u,d,o,i),null),mt===null)throw Error(a(349));p||(Ki&124)!==0||sy(u,i,o)}return o}function sy(t,i,o){t.flags|=16384,t={getSnapshot:i,value:o},i=Me.updateQueue,i===null?(i=nf(),Me.updateQueue=i,i.stores=[t]):(o=i.stores,o===null?i.stores=[t]:o.push(t))}function oy(t,i,o,u){i.value=o,i.getSnapshot=u,uy(i)&&cy(t)}function ly(t,i,o){return o(function(){uy(i)&&cy(t)})}function uy(t){var i=t.getSnapshot;t=t.value;try{var o=i();return!Fn(t,o)}catch{return!0}}function cy(t){var i=Bs(t,2);i!==null&&$n(i,t,2)}function of(t){var i=Un();if(typeof t=="function"){var o=t;if(t=o(),ns){Ze(!0);try{o()}finally{Ze(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:t},i}function hy(t,i,o,u){return t.baseState=o,af(t,lt,typeof u=="function"?u:vi)}function m2(t,i,o,u,d){if(yc(t))throw Error(a(485));if(t=i.action,t!==null){var p={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){p.listeners.push(w)}};R.T!==null?o(!0):p.isTransition=!1,u(p),o=i.pending,o===null?(p.next=i.pending=p,dy(i,p)):(p.next=o.next,i.pending=o.next=p)}}function dy(t,i){var o=i.action,u=i.payload,d=t.state;if(i.isTransition){var p=R.T,w={};R.T=w;try{var O=o(d,u),z=R.S;z!==null&&z(w,O),fy(t,i,O)}catch(ne){lf(t,i,ne)}finally{R.T=p}}else try{p=o(d,u),fy(t,i,p)}catch(ne){lf(t,i,ne)}}function fy(t,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){my(t,i,u)},function(u){return lf(t,i,u)}):my(t,i,o)}function my(t,i,o){i.status="fulfilled",i.value=o,py(i),t.state=o,i=t.pending,i!==null&&(o=i.next,o===i?t.pending=null:(o=o.next,i.next=o,dy(t,o)))}function lf(t,i,o){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=o,py(i),i=i.next;while(i!==u)}t.action=null}function py(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function gy(t,i){return i}function yy(t,i){if(Je){var o=mt.formState;if(o!==null){e:{var u=Me;if(Je){if(St){t:{for(var d=St,p=Ur;d.nodeType!==8;){if(!p){d=null;break t}if(d=Er(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){St=Er(d.nextSibling),u=d.data==="F!";break e}}Ja(u)}u=!1}u&&(i=o[0])}}return o=Un(),o.memoizedState=o.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gy,lastRenderedState:i},o.queue=u,o=Vy.bind(null,Me,u),u.dispatch=o,u=of(!1),p=ff.bind(null,Me,!1,u.queue),u=Un(),d={state:i,dispatch:null,action:t,pending:null},u.queue=d,o=m2.bind(null,Me,d,p,o),d.dispatch=o,u.memoizedState=t,[i,o,!1]}function _y(t){var i=kt();return vy(i,lt,t)}function vy(t,i,o){if(i=af(t,i,gy)[0],t=mc(vi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=gl(i)}catch(w){throw w===cl?lc:w}else u=i;i=kt();var d=i.queue,p=d.dispatch;return o!==i.memoizedState&&(Me.flags|=2048,Ws(9,pc(),p2.bind(null,d,o),null)),[u,p,t]}function p2(t,i){t.action=i}function Ey(t){var i=kt(),o=lt;if(o!==null)return vy(i,o,t);kt(),i=i.memoizedState,o=kt();var u=o.queue.dispatch;return o.memoizedState=t,[i,u,!1]}function Ws(t,i,o,u){return t={tag:t,create:o,deps:u,inst:i,next:null},i=Me.updateQueue,i===null&&(i=nf(),Me.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,i.lastEffect=t),t}function pc(){return{destroy:void 0,resource:void 0}}function Ty(){return kt().memoizedState}function gc(t,i,o,u){var d=Un();u=u===void 0?null:u,Me.flags|=t,d.memoizedState=Ws(1|i,pc(),o,u)}function yl(t,i,o,u){var d=kt();u=u===void 0?null:u;var p=d.memoizedState.inst;lt!==null&&u!==null&&Wd(u,lt.memoizedState.deps)?d.memoizedState=Ws(i,p,o,u):(Me.flags|=t,d.memoizedState=Ws(1|i,p,o,u))}function by(t,i){gc(8390656,8,t,i)}function Ay(t,i){yl(2048,8,t,i)}function Sy(t,i){return yl(4,2,t,i)}function wy(t,i){return yl(4,4,t,i)}function Ry(t,i){if(typeof i=="function"){t=t();var o=i(t);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Cy(t,i,o){o=o!=null?o.concat([t]):null,yl(4,4,Ry.bind(null,i,t),o)}function uf(){}function Iy(t,i){var o=kt();i=i===void 0?null:i;var u=o.memoizedState;return i!==null&&Wd(i,u[1])?u[0]:(o.memoizedState=[t,i],t)}function xy(t,i){var o=kt();i=i===void 0?null:i;var u=o.memoizedState;if(i!==null&&Wd(i,u[1]))return u[0];if(u=t(),ns){Ze(!0);try{t()}finally{Ze(!1)}}return o.memoizedState=[u,i],u}function cf(t,i,o){return o===void 0||(Ki&1073741824)!==0?t.memoizedState=i:(t.memoizedState=o,t=O_(),Me.lanes|=t,ea|=t,o)}function Ny(t,i,o,u){return Fn(o,i)?o:Ys.current!==null?(t=cf(t,o,u),Fn(t,i)||(rn=!0),t):(Ki&42)===0?(rn=!0,t.memoizedState=o):(t=O_(),Me.lanes|=t,ea|=t,i)}function Dy(t,i,o,u,d){var p=N.p;N.p=p!==0&&8>p?p:8;var w=R.T,O={};R.T=O,ff(t,!1,i,o);try{var z=d(),ne=R.S;if(ne!==null&&ne(O,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var he=h2(z,u);_l(t,i,he,Yn(t))}else _l(t,i,u,Yn(t))}catch(me){_l(t,i,{then:function(){},status:"rejected",reason:me},Yn())}finally{N.p=p,R.T=w}}function g2(){}function hf(t,i,o,u){if(t.tag!==5)throw Error(a(476));var d=Oy(t).queue;Dy(t,d,i,te,o===null?g2:function(){return Py(t),o(u)})}function Oy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:te},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:o},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Py(t){var i=Oy(t).next.queue;_l(t,i,{},Yn())}function df(){return bn(Vl)}function My(){return kt().memoizedState}function Ly(){return kt().memoizedState}function y2(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var o=Yn();t=Gi(o);var u=Qi(i,t,o);u!==null&&($n(u,i,o),dl(u,i,o)),i={cache:zd()},t.payload=i;return}i=i.return}}function _2(t,i,o){var u=Yn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},yc(t)?Uy(i,o):(o=Dd(t,i,o,u),o!==null&&($n(o,t,u),ky(o,i,u)))}function Vy(t,i,o){var u=Yn();_l(t,i,o,u)}function _l(t,i,o,u){var d={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(yc(t))Uy(i,d);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var w=i.lastRenderedState,O=p(w,o);if(d.hasEagerState=!0,d.eagerState=O,Fn(O,w))return ec(t,i,d,0),mt===null&&Zu(),!1}catch{}finally{}if(o=Dd(t,i,d,u),o!==null)return $n(o,t,u),ky(o,i,u),!0}return!1}function ff(t,i,o,u){if(u={lane:2,revertLane:Gf(),action:u,hasEagerState:!1,eagerState:null,next:null},yc(t)){if(i)throw Error(a(479))}else i=Dd(t,o,u,2),i!==null&&$n(i,t,2)}function yc(t){var i=t.alternate;return t===Me||i!==null&&i===Me}function Uy(t,i){$s=hc=!0;var o=t.pending;o===null?i.next=i:(i.next=o.next,o.next=i),t.pending=i}function ky(t,i,o){if((o&4194048)!==0){var u=i.lanes;u&=t.pendingLanes,o|=u,i.lanes=o,mr(t,o)}}var _c={readContext:bn,use:fc,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt},qy={readContext:bn,use:fc,useCallback:function(t,i){return Un().memoizedState=[t,i===void 0?null:i],t},useContext:bn,useEffect:by,useImperativeHandle:function(t,i,o){o=o!=null?o.concat([t]):null,gc(4194308,4,Ry.bind(null,i,t),o)},useLayoutEffect:function(t,i){return gc(4194308,4,t,i)},useInsertionEffect:function(t,i){gc(4,2,t,i)},useMemo:function(t,i){var o=Un();i=i===void 0?null:i;var u=t();if(ns){Ze(!0);try{t()}finally{Ze(!1)}}return o.memoizedState=[u,i],u},useReducer:function(t,i,o){var u=Un();if(o!==void 0){var d=o(i);if(ns){Ze(!0);try{o(i)}finally{Ze(!1)}}}else d=i;return u.memoizedState=u.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},u.queue=t,t=t.dispatch=_2.bind(null,Me,t),[u.memoizedState,t]},useRef:function(t){var i=Un();return t={current:t},i.memoizedState=t},useState:function(t){t=of(t);var i=t.queue,o=Vy.bind(null,Me,i);return i.dispatch=o,[t.memoizedState,o]},useDebugValue:uf,useDeferredValue:function(t,i){var o=Un();return cf(o,t,i)},useTransition:function(){var t=of(!1);return t=Dy.bind(null,Me,t.queue,!0,!1),Un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,o){var u=Me,d=Un();if(Je){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),mt===null)throw Error(a(349));(Qe&124)!==0||sy(u,i,o)}d.memoizedState=o;var p={value:o,getSnapshot:i};return d.queue=p,by(ly.bind(null,u,p,t),[t]),u.flags|=2048,Ws(9,pc(),oy.bind(null,u,p,o,i),null),o},useId:function(){var t=Un(),i=mt.identifierPrefix;if(Je){var o=gi,u=pi;o=(u&~(1<<32-yt(u)-1)).toString(32)+o,i="«"+i+"R"+o,o=dc++,0<o&&(i+="H"+o.toString(32)),i+="»"}else o=d2++,i="«"+i+"r"+o.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:df,useFormState:yy,useActionState:yy,useOptimistic:function(t){var i=Un();i.memoizedState=i.baseState=t;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=ff.bind(null,Me,!0,o),o.dispatch=i,[t,i]},useMemoCache:rf,useCacheRefresh:function(){return Un().memoizedState=y2.bind(null,Me)}},jy={readContext:bn,use:fc,useCallback:Iy,useContext:bn,useEffect:Ay,useImperativeHandle:Cy,useInsertionEffect:Sy,useLayoutEffect:wy,useMemo:xy,useReducer:mc,useRef:Ty,useState:function(){return mc(vi)},useDebugValue:uf,useDeferredValue:function(t,i){var o=kt();return Ny(o,lt.memoizedState,t,i)},useTransition:function(){var t=mc(vi)[0],i=kt().memoizedState;return[typeof t=="boolean"?t:gl(t),i]},useSyncExternalStore:ay,useId:My,useHostTransitionStatus:df,useFormState:_y,useActionState:_y,useOptimistic:function(t,i){var o=kt();return hy(o,lt,t,i)},useMemoCache:rf,useCacheRefresh:Ly},v2={readContext:bn,use:fc,useCallback:Iy,useContext:bn,useEffect:Ay,useImperativeHandle:Cy,useInsertionEffect:Sy,useLayoutEffect:wy,useMemo:xy,useReducer:sf,useRef:Ty,useState:function(){return sf(vi)},useDebugValue:uf,useDeferredValue:function(t,i){var o=kt();return lt===null?cf(o,t,i):Ny(o,lt.memoizedState,t,i)},useTransition:function(){var t=sf(vi)[0],i=kt().memoizedState;return[typeof t=="boolean"?t:gl(t),i]},useSyncExternalStore:ay,useId:My,useHostTransitionStatus:df,useFormState:Ey,useActionState:Ey,useOptimistic:function(t,i){var o=kt();return lt!==null?hy(o,lt,t,i):(o.baseState=t,[t,o.queue.dispatch])},useMemoCache:rf,useCacheRefresh:Ly},Js=null,vl=0;function vc(t){var i=vl;return vl+=1,Js===null&&(Js=[]),Wg(Js,t,i)}function El(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Ec(t,i){throw i.$$typeof===v?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function zy(t){var i=t._init;return i(t._payload)}function By(t){function i($,Q){if(t){var J=$.deletions;J===null?($.deletions=[Q],$.flags|=16):J.push(Q)}}function o($,Q){if(!t)return null;for(;Q!==null;)i($,Q),Q=Q.sibling;return null}function u($){for(var Q=new Map;$!==null;)$.key!==null?Q.set($.key,$):Q.set($.index,$),$=$.sibling;return Q}function d($,Q){return $=mi($,Q),$.index=0,$.sibling=null,$}function p($,Q,J){return $.index=J,t?(J=$.alternate,J!==null?(J=J.index,J<Q?($.flags|=67108866,Q):J):($.flags|=67108866,Q)):($.flags|=1048576,Q)}function w($){return t&&$.alternate===null&&($.flags|=67108866),$}function O($,Q,J,de){return Q===null||Q.tag!==6?(Q=Pd(J,$.mode,de),Q.return=$,Q):(Q=d(Q,J),Q.return=$,Q)}function z($,Q,J,de){var Ee=J.type;return Ee===I?he($,Q,J.props.children,de,J.key):Q!==null&&(Q.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===T&&zy(Ee)===Q.type)?(Q=d(Q,J.props),El(Q,J),Q.return=$,Q):(Q=nc(J.type,J.key,J.props,null,$.mode,de),El(Q,J),Q.return=$,Q)}function ne($,Q,J,de){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==J.containerInfo||Q.stateNode.implementation!==J.implementation?(Q=Md(J,$.mode,de),Q.return=$,Q):(Q=d(Q,J.children||[]),Q.return=$,Q)}function he($,Q,J,de,Ee){return Q===null||Q.tag!==7?(Q=Ya(J,$.mode,de,Ee),Q.return=$,Q):(Q=d(Q,J),Q.return=$,Q)}function me($,Q,J){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=Pd(""+Q,$.mode,J),Q.return=$,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case _:return J=nc(Q.type,Q.key,Q.props,null,$.mode,J),El(J,Q),J.return=$,J;case A:return Q=Md(Q,$.mode,J),Q.return=$,Q;case T:var de=Q._init;return Q=de(Q._payload),me($,Q,J)}if(Y(Q)||P(Q))return Q=Ya(Q,$.mode,J,null),Q.return=$,Q;if(typeof Q.then=="function")return me($,vc(Q),J);if(Q.$$typeof===H)return me($,sc($,Q),J);Ec($,Q)}return null}function se($,Q,J,de){var Ee=Q!==null?Q.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Ee!==null?null:O($,Q,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case _:return J.key===Ee?z($,Q,J,de):null;case A:return J.key===Ee?ne($,Q,J,de):null;case T:return Ee=J._init,J=Ee(J._payload),se($,Q,J,de)}if(Y(J)||P(J))return Ee!==null?null:he($,Q,J,de,null);if(typeof J.then=="function")return se($,Q,vc(J),de);if(J.$$typeof===H)return se($,Q,sc($,J),de);Ec($,J)}return null}function oe($,Q,J,de,Ee){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return $=$.get(J)||null,O(Q,$,""+de,Ee);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case _:return $=$.get(de.key===null?J:de.key)||null,z(Q,$,de,Ee);case A:return $=$.get(de.key===null?J:de.key)||null,ne(Q,$,de,Ee);case T:var Le=de._init;return de=Le(de._payload),oe($,Q,J,de,Ee)}if(Y(de)||P(de))return $=$.get(J)||null,he(Q,$,de,Ee,null);if(typeof de.then=="function")return oe($,Q,J,vc(de),Ee);if(de.$$typeof===H)return oe($,Q,J,sc(Q,de),Ee);Ec(Q,de)}return null}function Ie($,Q,J,de){for(var Ee=null,Le=null,Te=Q,we=Q=0,sn=null;Te!==null&&we<J.length;we++){Te.index>we?(sn=Te,Te=null):sn=Te.sibling;var Ye=se($,Te,J[we],de);if(Ye===null){Te===null&&(Te=sn);break}t&&Te&&Ye.alternate===null&&i($,Te),Q=p(Ye,Q,we),Le===null?Ee=Ye:Le.sibling=Ye,Le=Ye,Te=sn}if(we===J.length)return o($,Te),Je&&Xa($,we),Ee;if(Te===null){for(;we<J.length;we++)Te=me($,J[we],de),Te!==null&&(Q=p(Te,Q,we),Le===null?Ee=Te:Le.sibling=Te,Le=Te);return Je&&Xa($,we),Ee}for(Te=u(Te);we<J.length;we++)sn=oe(Te,$,we,J[we],de),sn!==null&&(t&&sn.alternate!==null&&Te.delete(sn.key===null?we:sn.key),Q=p(sn,Q,we),Le===null?Ee=sn:Le.sibling=sn,Le=sn);return t&&Te.forEach(function(ua){return i($,ua)}),Je&&Xa($,we),Ee}function Se($,Q,J,de){if(J==null)throw Error(a(151));for(var Ee=null,Le=null,Te=Q,we=Q=0,sn=null,Ye=J.next();Te!==null&&!Ye.done;we++,Ye=J.next()){Te.index>we?(sn=Te,Te=null):sn=Te.sibling;var ua=se($,Te,Ye.value,de);if(ua===null){Te===null&&(Te=sn);break}t&&Te&&ua.alternate===null&&i($,Te),Q=p(ua,Q,we),Le===null?Ee=ua:Le.sibling=ua,Le=ua,Te=sn}if(Ye.done)return o($,Te),Je&&Xa($,we),Ee;if(Te===null){for(;!Ye.done;we++,Ye=J.next())Ye=me($,Ye.value,de),Ye!==null&&(Q=p(Ye,Q,we),Le===null?Ee=Ye:Le.sibling=Ye,Le=Ye);return Je&&Xa($,we),Ee}for(Te=u(Te);!Ye.done;we++,Ye=J.next())Ye=oe(Te,$,we,Ye.value,de),Ye!==null&&(t&&Ye.alternate!==null&&Te.delete(Ye.key===null?we:Ye.key),Q=p(Ye,Q,we),Le===null?Ee=Ye:Le.sibling=Ye,Le=Ye);return t&&Te.forEach(function(EA){return i($,EA)}),Je&&Xa($,we),Ee}function ct($,Q,J,de){if(typeof J=="object"&&J!==null&&J.type===I&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case _:e:{for(var Ee=J.key;Q!==null;){if(Q.key===Ee){if(Ee=J.type,Ee===I){if(Q.tag===7){o($,Q.sibling),de=d(Q,J.props.children),de.return=$,$=de;break e}}else if(Q.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===T&&zy(Ee)===Q.type){o($,Q.sibling),de=d(Q,J.props),El(de,J),de.return=$,$=de;break e}o($,Q);break}else i($,Q);Q=Q.sibling}J.type===I?(de=Ya(J.props.children,$.mode,de,J.key),de.return=$,$=de):(de=nc(J.type,J.key,J.props,null,$.mode,de),El(de,J),de.return=$,$=de)}return w($);case A:e:{for(Ee=J.key;Q!==null;){if(Q.key===Ee)if(Q.tag===4&&Q.stateNode.containerInfo===J.containerInfo&&Q.stateNode.implementation===J.implementation){o($,Q.sibling),de=d(Q,J.children||[]),de.return=$,$=de;break e}else{o($,Q);break}else i($,Q);Q=Q.sibling}de=Md(J,$.mode,de),de.return=$,$=de}return w($);case T:return Ee=J._init,J=Ee(J._payload),ct($,Q,J,de)}if(Y(J))return Ie($,Q,J,de);if(P(J)){if(Ee=P(J),typeof Ee!="function")throw Error(a(150));return J=Ee.call(J),Se($,Q,J,de)}if(typeof J.then=="function")return ct($,Q,vc(J),de);if(J.$$typeof===H)return ct($,Q,sc($,J),de);Ec($,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,Q!==null&&Q.tag===6?(o($,Q.sibling),de=d(Q,J),de.return=$,$=de):(o($,Q),de=Pd(J,$.mode,de),de.return=$,$=de),w($)):o($,Q)}return function($,Q,J,de){try{vl=0;var Ee=ct($,Q,J,de);return Js=null,Ee}catch(Te){if(Te===cl||Te===lc)throw Te;var Le=Hn(29,Te,null,$.mode);return Le.lanes=de,Le.return=$,Le}finally{}}}var Zs=By(!0),Fy=By(!1),sr=ee(null),kr=null;function Yi(t){var i=t.alternate;ie(Kt,Kt.current&1),ie(sr,t),kr===null&&(i===null||Ys.current!==null||i.memoizedState!==null)&&(kr=t)}function Hy(t){if(t.tag===22){if(ie(Kt,Kt.current),ie(sr,t),kr===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(kr=t)}}else $i()}function $i(){ie(Kt,Kt.current),ie(sr,sr.current)}function Ei(t){re(sr),kr===t&&(kr=null),re(Kt)}var Kt=ee(0);function Tc(t){for(var i=t;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||rm(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function mf(t,i,o,u){i=t.memoizedState,o=o(u,i),o=o==null?i:g({},i,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var pf={enqueueSetState:function(t,i,o){t=t._reactInternals;var u=Yn(),d=Gi(u);d.payload=i,o!=null&&(d.callback=o),i=Qi(t,d,u),i!==null&&($n(i,t,u),dl(i,t,u))},enqueueReplaceState:function(t,i,o){t=t._reactInternals;var u=Yn(),d=Gi(u);d.tag=1,d.payload=i,o!=null&&(d.callback=o),i=Qi(t,d,u),i!==null&&($n(i,t,u),dl(i,t,u))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var o=Yn(),u=Gi(o);u.tag=2,i!=null&&(u.callback=i),i=Qi(t,u,o),i!==null&&($n(i,t,o),dl(i,t,o))}};function Gy(t,i,o,u,d,p,w){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,w):i.prototype&&i.prototype.isPureReactComponent?!nl(o,u)||!nl(d,p):!0}function Qy(t,i,o,u){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==t&&pf.enqueueReplaceState(i,i.state,null)}function rs(t,i){var o=i;if("ref"in i){o={};for(var u in i)u!=="ref"&&(o[u]=i[u])}if(t=t.defaultProps){o===i&&(o=g({},o));for(var d in t)o[d]===void 0&&(o[d]=t[d])}return o}var bc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ky(t){bc(t)}function Yy(t){console.error(t)}function $y(t){bc(t)}function Ac(t,i){try{var o=t.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Xy(t,i,o){try{var u=t.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function gf(t,i,o){return o=Gi(o),o.tag=3,o.payload={element:null},o.callback=function(){Ac(t,i)},o}function Wy(t){return t=Gi(t),t.tag=3,t}function Jy(t,i,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var p=u.value;t.payload=function(){return d(p)},t.callback=function(){Xy(i,o,u)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(t.callback=function(){Xy(i,o,u),typeof d!="function"&&(ta===null?ta=new Set([this]):ta.add(this));var O=u.stack;this.componentDidCatch(u.value,{componentStack:O!==null?O:""})})}function E2(t,i,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=o.alternate,i!==null&&ol(i,o,d,!0),o=sr.current,o!==null){switch(o.tag){case 13:return kr===null?jf():o.alternate===null&&wt===0&&(wt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===Hd?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([u]):i.add(u),Bf(t,u,d)),!1;case 22:return o.flags|=65536,u===Hd?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([u]):o.add(u)),Bf(t,u,d)),!1}throw Error(a(435,o.tag))}return Bf(t,u,d),jf(),!1}if(Je)return i=sr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,u!==Ud&&(t=Error(a(422),{cause:u}),sl(nr(t,o)))):(u!==Ud&&(i=Error(a(423),{cause:u}),sl(nr(i,o))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,u=nr(u,o),d=gf(t.stateNode,u,d),Kd(t,d),wt!==4&&(wt=2)),!1;var p=Error(a(520),{cause:u});if(p=nr(p,o),Cl===null?Cl=[p]:Cl.push(p),wt!==4&&(wt=2),i===null)return!0;u=nr(u,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,t=d&-d,o.lanes|=t,t=gf(o.stateNode,u,t),Kd(o,t),!1;case 1:if(i=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ta===null||!ta.has(p))))return o.flags|=65536,d&=-d,o.lanes|=d,d=Wy(d),Jy(d,t,o,u),Kd(o,d),!1}o=o.return}while(o!==null);return!1}var Zy=Error(a(461)),rn=!1;function mn(t,i,o,u){i.child=t===null?Fy(i,null,o,u):Zs(i,t.child,o,u)}function e_(t,i,o,u,d){o=o.render;var p=i.ref;if("ref"in u){var w={};for(var O in u)O!=="ref"&&(w[O]=u[O])}else w=u;return es(i),u=Jd(t,i,o,w,p,d),O=Zd(),t!==null&&!rn?(ef(t,i,d),Ti(t,i,d)):(Je&&O&&Ld(i),i.flags|=1,mn(t,i,u,d),i.child)}function t_(t,i,o,u,d){if(t===null){var p=o.type;return typeof p=="function"&&!Od(p)&&p.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=p,n_(t,i,p,u,d)):(t=nc(o.type,null,u,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(p=t.child,!Sf(t,d)){var w=p.memoizedProps;if(o=o.compare,o=o!==null?o:nl,o(w,u)&&t.ref===i.ref)return Ti(t,i,d)}return i.flags|=1,t=mi(p,u),t.ref=i.ref,t.return=i,i.child=t}function n_(t,i,o,u,d){if(t!==null){var p=t.memoizedProps;if(nl(p,u)&&t.ref===i.ref)if(rn=!1,i.pendingProps=u=p,Sf(t,d))(t.flags&131072)!==0&&(rn=!0);else return i.lanes=t.lanes,Ti(t,i,d)}return yf(t,i,o,u,d)}function r_(t,i,o){var u=i.pendingProps,d=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=p!==null?p.baseLanes|o:o,t!==null){for(d=i.child=t.child,p=0;d!==null;)p=p|d.lanes|d.childLanes,d=d.sibling;i.childLanes=p&~u}else i.childLanes=0,i.child=null;return i_(t,i,u,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&oc(i,p!==null?p.cachePool:null),p!==null?ny(i,p):$d(),Hy(i);else return i.lanes=i.childLanes=536870912,i_(t,i,p!==null?p.baseLanes|o:o,o)}else p!==null?(oc(i,p.cachePool),ny(i,p),$i(),i.memoizedState=null):(t!==null&&oc(i,null),$d(),$i());return mn(t,i,d,o),i.child}function i_(t,i,o,u){var d=Fd();return d=d===null?null:{parent:Qt._currentValue,pool:d},i.memoizedState={baseLanes:o,cachePool:d},t!==null&&oc(i,null),$d(),Hy(i),t!==null&&ol(t,i,u,!0),null}function Sc(t,i){var o=i.ref;if(o===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(t===null||t.ref!==o)&&(i.flags|=4194816)}}function yf(t,i,o,u,d){return es(i),o=Jd(t,i,o,u,void 0,d),u=Zd(),t!==null&&!rn?(ef(t,i,d),Ti(t,i,d)):(Je&&u&&Ld(i),i.flags|=1,mn(t,i,o,d),i.child)}function a_(t,i,o,u,d,p){return es(i),i.updateQueue=null,o=iy(i,u,o,d),ry(t),u=Zd(),t!==null&&!rn?(ef(t,i,p),Ti(t,i,p)):(Je&&u&&Ld(i),i.flags|=1,mn(t,i,o,p),i.child)}function s_(t,i,o,u,d){if(es(i),i.stateNode===null){var p=Fs,w=o.contextType;typeof w=="object"&&w!==null&&(p=bn(w)),p=new o(u,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=pf,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=u,p.state=i.memoizedState,p.refs={},Gd(i),w=o.contextType,p.context=typeof w=="object"&&w!==null?bn(w):Fs,p.state=i.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(mf(i,o,w,u),p.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(w=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),w!==p.state&&pf.enqueueReplaceState(p,p.state,null),ml(i,u,p,d),fl(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(t===null){p=i.stateNode;var O=i.memoizedProps,z=rs(o,O);p.props=z;var ne=p.context,he=o.contextType;w=Fs,typeof he=="object"&&he!==null&&(w=bn(he));var me=o.getDerivedStateFromProps;he=typeof me=="function"||typeof p.getSnapshotBeforeUpdate=="function",O=i.pendingProps!==O,he||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(O||ne!==w)&&Qy(i,p,u,w),Hi=!1;var se=i.memoizedState;p.state=se,ml(i,u,p,d),fl(),ne=i.memoizedState,O||se!==ne||Hi?(typeof me=="function"&&(mf(i,o,me,u),ne=i.memoizedState),(z=Hi||Gy(i,o,z,u,se,ne,w))?(he||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=ne),p.props=u,p.state=ne,p.context=w,u=z):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{p=i.stateNode,Qd(t,i),w=i.memoizedProps,he=rs(o,w),p.props=he,me=i.pendingProps,se=p.context,ne=o.contextType,z=Fs,typeof ne=="object"&&ne!==null&&(z=bn(ne)),O=o.getDerivedStateFromProps,(ne=typeof O=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w!==me||se!==z)&&Qy(i,p,u,z),Hi=!1,se=i.memoizedState,p.state=se,ml(i,u,p,d),fl();var oe=i.memoizedState;w!==me||se!==oe||Hi||t!==null&&t.dependencies!==null&&ac(t.dependencies)?(typeof O=="function"&&(mf(i,o,O,u),oe=i.memoizedState),(he=Hi||Gy(i,o,he,u,se,oe,z)||t!==null&&t.dependencies!==null&&ac(t.dependencies))?(ne||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,oe,z),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,oe,z)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||w===t.memoizedProps&&se===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&se===t.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=oe),p.props=u,p.state=oe,p.context=z,u=he):(typeof p.componentDidUpdate!="function"||w===t.memoizedProps&&se===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&se===t.memoizedState||(i.flags|=1024),u=!1)}return p=u,Sc(t,i),u=(i.flags&128)!==0,p||u?(p=i.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,t!==null&&u?(i.child=Zs(i,t.child,null,d),i.child=Zs(i,null,o,d)):mn(t,i,o,d),i.memoizedState=p.state,t=i.child):t=Ti(t,i,d),t}function o_(t,i,o,u){return al(),i.flags|=256,mn(t,i,o,u),i.child}var _f={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vf(t){return{baseLanes:t,cachePool:Yg()}}function Ef(t,i,o){return t=t!==null?t.childLanes&~o:0,i&&(t|=or),t}function l_(t,i,o){var u=i.pendingProps,d=!1,p=(i.flags&128)!==0,w;if((w=p)||(w=t!==null&&t.memoizedState===null?!1:(Kt.current&2)!==0),w&&(d=!0,i.flags&=-129),w=(i.flags&32)!==0,i.flags&=-33,t===null){if(Je){if(d?Yi(i):$i(),Je){var O=St,z;if(z=O){e:{for(z=O,O=Ur;z.nodeType!==8;){if(!O){O=null;break e}if(z=Er(z.nextSibling),z===null){O=null;break e}}O=z}O!==null?(i.memoizedState={dehydrated:O,treeContext:$a!==null?{id:pi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},z=Hn(18,null,null,0),z.stateNode=O,z.return=i,i.child=z,Pn=i,St=null,z=!0):z=!1}z||Ja(i)}if(O=i.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return rm(O)?i.lanes=32:i.lanes=536870912,null;Ei(i)}return O=u.children,u=u.fallback,d?($i(),d=i.mode,O=wc({mode:"hidden",children:O},d),u=Ya(u,d,o,null),O.return=i,u.return=i,O.sibling=u,i.child=O,d=i.child,d.memoizedState=vf(o),d.childLanes=Ef(t,w,o),i.memoizedState=_f,u):(Yi(i),Tf(i,O))}if(z=t.memoizedState,z!==null&&(O=z.dehydrated,O!==null)){if(p)i.flags&256?(Yi(i),i.flags&=-257,i=bf(t,i,o)):i.memoizedState!==null?($i(),i.child=t.child,i.flags|=128,i=null):($i(),d=u.fallback,O=i.mode,u=wc({mode:"visible",children:u.children},O),d=Ya(d,O,o,null),d.flags|=2,u.return=i,d.return=i,u.sibling=d,i.child=u,Zs(i,t.child,null,o),u=i.child,u.memoizedState=vf(o),u.childLanes=Ef(t,w,o),i.memoizedState=_f,i=d);else if(Yi(i),rm(O)){if(w=O.nextSibling&&O.nextSibling.dataset,w)var ne=w.dgst;w=ne,u=Error(a(419)),u.stack="",u.digest=w,sl({value:u,source:null,stack:null}),i=bf(t,i,o)}else if(rn||ol(t,i,o,!1),w=(o&t.childLanes)!==0,rn||w){if(w=mt,w!==null&&(u=o&-o,u=(u&42)!==0?1:pr(u),u=(u&(w.suspendedLanes|o))!==0?0:u,u!==0&&u!==z.retryLane))throw z.retryLane=u,Bs(t,u),$n(w,t,u),Zy;O.data==="$?"||jf(),i=bf(t,i,o)}else O.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=z.treeContext,St=Er(O.nextSibling),Pn=i,Je=!0,Wa=null,Ur=!1,t!==null&&(ir[ar++]=pi,ir[ar++]=gi,ir[ar++]=$a,pi=t.id,gi=t.overflow,$a=i),i=Tf(i,u.children),i.flags|=4096);return i}return d?($i(),d=u.fallback,O=i.mode,z=t.child,ne=z.sibling,u=mi(z,{mode:"hidden",children:u.children}),u.subtreeFlags=z.subtreeFlags&65011712,ne!==null?d=mi(ne,d):(d=Ya(d,O,o,null),d.flags|=2),d.return=i,u.return=i,u.sibling=d,i.child=u,u=d,d=i.child,O=t.child.memoizedState,O===null?O=vf(o):(z=O.cachePool,z!==null?(ne=Qt._currentValue,z=z.parent!==ne?{parent:ne,pool:ne}:z):z=Yg(),O={baseLanes:O.baseLanes|o,cachePool:z}),d.memoizedState=O,d.childLanes=Ef(t,w,o),i.memoizedState=_f,u):(Yi(i),o=t.child,t=o.sibling,o=mi(o,{mode:"visible",children:u.children}),o.return=i,o.sibling=null,t!==null&&(w=i.deletions,w===null?(i.deletions=[t],i.flags|=16):w.push(t)),i.child=o,i.memoizedState=null,o)}function Tf(t,i){return i=wc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function wc(t,i){return t=Hn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function bf(t,i,o){return Zs(i,t.child,null,o),t=Tf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function u_(t,i,o){t.lanes|=i;var u=t.alternate;u!==null&&(u.lanes|=i),qd(t.return,i,o)}function Af(t,i,o,u,d){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=d)}function c_(t,i,o){var u=i.pendingProps,d=u.revealOrder,p=u.tail;if(mn(t,i,u.children,o),u=Kt.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&u_(t,o,i);else if(t.tag===19)u_(t,o,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}switch(ie(Kt,u),d){case"forwards":for(o=i.child,d=null;o!==null;)t=o.alternate,t!==null&&Tc(t)===null&&(d=o),o=o.sibling;o=d,o===null?(d=i.child,i.child=null):(d=o.sibling,o.sibling=null),Af(i,!1,d,o,p);break;case"backwards":for(o=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&Tc(t)===null){i.child=d;break}t=d.sibling,d.sibling=o,o=d,d=t}Af(i,!0,o,null,p);break;case"together":Af(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ti(t,i,o){if(t!==null&&(i.dependencies=t.dependencies),ea|=i.lanes,(o&i.childLanes)===0)if(t!==null){if(ol(t,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,o=mi(t,t.pendingProps),i.child=o,o.return=i;t.sibling!==null;)t=t.sibling,o=o.sibling=mi(t,t.pendingProps),o.return=i;o.sibling=null}return i.child}function Sf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ac(t)))}function T2(t,i,o){switch(i.tag){case 3:Ae(i,i.stateNode.containerInfo),Fi(i,Qt,t.memoizedState.cache),al();break;case 27:case 5:Be(i);break;case 4:Ae(i,i.stateNode.containerInfo);break;case 10:Fi(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Yi(i),i.flags|=128,null):(o&i.child.childLanes)!==0?l_(t,i,o):(Yi(i),t=Ti(t,i,o),t!==null?t.sibling:null);Yi(i);break;case 19:var d=(t.flags&128)!==0;if(u=(o&i.childLanes)!==0,u||(ol(t,i,o,!1),u=(o&i.childLanes)!==0),d){if(u)return c_(t,i,o);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ie(Kt,Kt.current),u)break;return null;case 22:case 23:return i.lanes=0,r_(t,i,o);case 24:Fi(i,Qt,t.memoizedState.cache)}return Ti(t,i,o)}function h_(t,i,o){if(t!==null)if(t.memoizedProps!==i.pendingProps)rn=!0;else{if(!Sf(t,o)&&(i.flags&128)===0)return rn=!1,T2(t,i,o);rn=(t.flags&131072)!==0}else rn=!1,Je&&(i.flags&1048576)!==0&&zg(i,ic,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var u=i.elementType,d=u._init;if(u=d(u._payload),i.type=u,typeof u=="function")Od(u)?(t=rs(u,t),i.tag=1,i=s_(null,i,u,t,o)):(i.tag=0,i=yf(null,i,u,t,o));else{if(u!=null){if(d=u.$$typeof,d===G){i.tag=11,i=e_(null,i,u,t,o);break e}else if(d===U){i.tag=14,i=t_(null,i,u,t,o);break e}}throw i=K(u)||u,Error(a(306,i,""))}}return i;case 0:return yf(t,i,i.type,i.pendingProps,o);case 1:return u=i.type,d=rs(u,i.pendingProps),s_(t,i,u,d,o);case 3:e:{if(Ae(i,i.stateNode.containerInfo),t===null)throw Error(a(387));u=i.pendingProps;var p=i.memoizedState;d=p.element,Qd(t,i),ml(i,u,null,o);var w=i.memoizedState;if(u=w.cache,Fi(i,Qt,u),u!==p.cache&&jd(i,[Qt],o,!0),fl(),u=w.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:w.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=o_(t,i,u,o);break e}else if(u!==d){d=nr(Error(a(424)),i),sl(d),i=o_(t,i,u,o);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(St=Er(t.firstChild),Pn=i,Je=!0,Wa=null,Ur=!0,o=Fy(i,null,u,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(al(),u===d){i=Ti(t,i,o);break e}mn(t,i,u,o)}i=i.child}return i;case 26:return Sc(t,i),t===null?(o=pv(i.type,null,i.pendingProps,null))?i.memoizedState=o:Je||(o=i.type,t=i.pendingProps,u=qc(ge.current).createElement(o),u[Ft]=i,u[Lt]=t,gn(u,o,t),xt(u),i.stateNode=u):i.memoizedState=pv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Be(i),t===null&&Je&&(u=i.stateNode=dv(i.type,i.pendingProps,ge.current),Pn=i,Ur=!0,d=St,ia(i.type)?(im=d,St=Er(u.firstChild)):St=d),mn(t,i,i.pendingProps.children,o),Sc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Je&&((d=u=St)&&(u=$2(u,i.type,i.pendingProps,Ur),u!==null?(i.stateNode=u,Pn=i,St=Er(u.firstChild),Ur=!1,d=!0):d=!1),d||Ja(i)),Be(i),d=i.type,p=i.pendingProps,w=t!==null?t.memoizedProps:null,u=p.children,em(d,p)?u=null:w!==null&&em(d,w)&&(i.flags|=32),i.memoizedState!==null&&(d=Jd(t,i,f2,null,null,o),Vl._currentValue=d),Sc(t,i),mn(t,i,u,o),i.child;case 6:return t===null&&Je&&((t=o=St)&&(o=X2(o,i.pendingProps,Ur),o!==null?(i.stateNode=o,Pn=i,St=null,t=!0):t=!1),t||Ja(i)),null;case 13:return l_(t,i,o);case 4:return Ae(i,i.stateNode.containerInfo),u=i.pendingProps,t===null?i.child=Zs(i,null,u,o):mn(t,i,u,o),i.child;case 11:return e_(t,i,i.type,i.pendingProps,o);case 7:return mn(t,i,i.pendingProps,o),i.child;case 8:return mn(t,i,i.pendingProps.children,o),i.child;case 12:return mn(t,i,i.pendingProps.children,o),i.child;case 10:return u=i.pendingProps,Fi(i,i.type,u.value),mn(t,i,u.children,o),i.child;case 9:return d=i.type._context,u=i.pendingProps.children,es(i),d=bn(d),u=u(d),i.flags|=1,mn(t,i,u,o),i.child;case 14:return t_(t,i,i.type,i.pendingProps,o);case 15:return n_(t,i,i.type,i.pendingProps,o);case 19:return c_(t,i,o);case 31:return u=i.pendingProps,o=i.mode,u={mode:u.mode,children:u.children},t===null?(o=wc(u,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=mi(t.child,u),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return r_(t,i,o);case 24:return es(i),u=bn(Qt),t===null?(d=Fd(),d===null&&(d=mt,p=zd(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=o),d=p),i.memoizedState={parent:u,cache:d},Gd(i),Fi(i,Qt,d)):((t.lanes&o)!==0&&(Qd(t,i),ml(i,null,null,o),fl()),d=t.memoizedState,p=i.memoizedState,d.parent!==u?(d={parent:u,cache:u},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Fi(i,Qt,u)):(u=p.cache,Fi(i,Qt,u),u!==d.cache&&jd(i,[Qt],o,!0))),mn(t,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function bi(t){t.flags|=4}function d_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ev(i)){if(i=sr.current,i!==null&&((Qe&4194048)===Qe?kr!==null:(Qe&62914560)!==Qe&&(Qe&536870912)===0||i!==kr))throw hl=Hd,$g;t.flags|=8192}}function Rc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?dr():536870912,t.lanes|=i,ro|=i)}function Tl(t,i){if(!Je)switch(t.tailMode){case"hidden":i=t.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Tt(t){var i=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(i)for(var d=t.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=u,t.childLanes=o,i}function b2(t,i,o){var u=i.pendingProps;switch(Vd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(i),null;case 1:return Tt(i),null;case 3:return o=i.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),_i(Qt),Oe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(il(i)?bi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Hg())),Tt(i),null;case 26:return o=i.memoizedState,t===null?(bi(i),o!==null?(Tt(i),d_(i,o)):(Tt(i),i.flags&=-16777217)):o?o!==t.memoizedState?(bi(i),Tt(i),d_(i,o)):(Tt(i),i.flags&=-16777217):(t.memoizedProps!==u&&bi(i),Tt(i),i.flags&=-16777217),null;case 27:$e(i),o=ge.current;var d=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==u&&bi(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return Tt(i),null}t=ue.current,il(i)?Bg(i):(t=dv(d,u,o),i.stateNode=t,bi(i))}return Tt(i),null;case 5:if($e(i),o=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&bi(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return Tt(i),null}if(t=ue.current,il(i))Bg(i);else{switch(d=qc(ge.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?t.multiple=!0:u.size&&(t.size=u.size);break;default:t=typeof u.is=="string"?d.createElement(o,{is:u.is}):d.createElement(o)}}t[Ft]=i,t[Lt]=u;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=t;e:switch(gn(t,o,u),o){case"button":case"input":case"select":case"textarea":t=!!u.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&bi(i)}}return Tt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==u&&bi(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(a(166));if(t=ge.current,il(i)){if(t=i.stateNode,o=i.memoizedProps,u=null,d=Pn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}t[Ft]=i,t=!!(t.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||av(t.nodeValue,o)),t||Ja(i)}else t=qc(t).createTextNode(u),t[Ft]=i,i.stateNode=t}return Tt(i),null;case 13:if(u=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=il(i),u!==null&&u.dehydrated!==null){if(t===null){if(!d)throw Error(a(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[Ft]=i}else al(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Tt(i),d=!1}else d=Hg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Ei(i),i):(Ei(i),null)}if(Ei(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=u!==null,t=t!==null&&t.memoizedState!==null,o){u=i.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==d&&(u.flags|=2048)}return o!==t&&o&&(i.child.flags|=8192),Rc(i,i.updateQueue),Tt(i),null;case 4:return Oe(),t===null&&$f(i.stateNode.containerInfo),Tt(i),null;case 10:return _i(i.type),Tt(i),null;case 19:if(re(Kt),d=i.memoizedState,d===null)return Tt(i),null;if(u=(i.flags&128)!==0,p=d.rendering,p===null)if(u)Tl(d,!1);else{if(wt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(p=Tc(t),p!==null){for(i.flags|=128,Tl(d,!1),t=p.updateQueue,i.updateQueue=t,Rc(i,t),i.subtreeFlags=0,t=o,o=i.child;o!==null;)jg(o,t),o=o.sibling;return ie(Kt,Kt.current&1|2),i.child}t=t.sibling}d.tail!==null&&Ve()>xc&&(i.flags|=128,u=!0,Tl(d,!1),i.lanes=4194304)}else{if(!u)if(t=Tc(p),t!==null){if(i.flags|=128,u=!0,t=t.updateQueue,i.updateQueue=t,Rc(i,t),Tl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!Je)return Tt(i),null}else 2*Ve()-d.renderingStartTime>xc&&o!==536870912&&(i.flags|=128,u=!0,Tl(d,!1),i.lanes=4194304);d.isBackwards?(p.sibling=i.child,i.child=p):(t=d.last,t!==null?t.sibling=p:i.child=p,d.last=p)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=Ve(),i.sibling=null,t=Kt.current,ie(Kt,u?t&1|2:t&1),i):(Tt(i),null);case 22:case 23:return Ei(i),Xd(),u=i.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(o&536870912)!==0&&(i.flags&128)===0&&(Tt(i),i.subtreeFlags&6&&(i.flags|=8192)):Tt(i),o=i.updateQueue,o!==null&&Rc(i,o.retryQueue),o=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048),t!==null&&re(ts),null;case 24:return o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),_i(Qt),Tt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function A2(t,i){switch(Vd(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return _i(Qt),Oe(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return $e(i),null;case 13:if(Ei(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));al()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return re(Kt),null;case 4:return Oe(),null;case 10:return _i(i.type),null;case 22:case 23:return Ei(i),Xd(),t!==null&&re(ts),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return _i(Qt),null;case 25:return null;default:return null}}function f_(t,i){switch(Vd(i),i.tag){case 3:_i(Qt),Oe();break;case 26:case 27:case 5:$e(i);break;case 4:Oe();break;case 13:Ei(i);break;case 19:re(Kt);break;case 10:_i(i.type);break;case 22:case 23:Ei(i),Xd(),t!==null&&re(ts);break;case 24:_i(Qt)}}function bl(t,i){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&t)===t){u=void 0;var p=o.create,w=o.inst;u=p(),w.destroy=u}o=o.next}while(o!==d)}}catch(O){ft(i,i.return,O)}}function Xi(t,i,o){try{var u=i.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var p=d.next;u=p;do{if((u.tag&t)===t){var w=u.inst,O=w.destroy;if(O!==void 0){w.destroy=void 0,d=i;var z=o,ne=O;try{ne()}catch(he){ft(d,z,he)}}}u=u.next}while(u!==p)}}catch(he){ft(i,i.return,he)}}function m_(t){var i=t.updateQueue;if(i!==null){var o=t.stateNode;try{ty(i,o)}catch(u){ft(t,t.return,u)}}}function p_(t,i,o){o.props=rs(t.type,t.memoizedProps),o.state=t.memoizedState;try{o.componentWillUnmount()}catch(u){ft(t,i,u)}}function Al(t,i){try{var o=t.ref;if(o!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof o=="function"?t.refCleanup=o(u):o.current=u}}catch(d){ft(t,i,d)}}function qr(t,i){var o=t.ref,u=t.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){ft(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){ft(t,i,d)}else o.current=null}function g_(t){var i=t.type,o=t.memoizedProps,u=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){ft(t,t.return,d)}}function wf(t,i,o){try{var u=t.stateNode;H2(u,t.type,o,i),u[Lt]=i}catch(d){ft(t,t.return,d)}}function y_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ia(t.type)||t.tag===4}function Rf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||y_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ia(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cf(t,i,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(t,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(t),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=kc));else if(u!==4&&(u===27&&ia(t.type)&&(o=t.stateNode,i=null),t=t.child,t!==null))for(Cf(t,i,o),t=t.sibling;t!==null;)Cf(t,i,o),t=t.sibling}function Cc(t,i,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?o.insertBefore(t,i):o.appendChild(t);else if(u!==4&&(u===27&&ia(t.type)&&(o=t.stateNode),t=t.child,t!==null))for(Cc(t,i,o),t=t.sibling;t!==null;)Cc(t,i,o),t=t.sibling}function __(t){var i=t.stateNode,o=t.memoizedProps;try{for(var u=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);gn(i,u,o),i[Ft]=t,i[Lt]=o}catch(p){ft(t,t.return,p)}}var Ai=!1,Dt=!1,If=!1,v_=typeof WeakSet=="function"?WeakSet:Set,an=null;function S2(t,i){if(t=t.containerInfo,Jf=Gc,t=Ng(t),wd(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var w=0,O=-1,z=-1,ne=0,he=0,me=t,se=null;t:for(;;){for(var oe;me!==o||d!==0&&me.nodeType!==3||(O=w+d),me!==p||u!==0&&me.nodeType!==3||(z=w+u),me.nodeType===3&&(w+=me.nodeValue.length),(oe=me.firstChild)!==null;)se=me,me=oe;for(;;){if(me===t)break t;if(se===o&&++ne===d&&(O=w),se===p&&++he===u&&(z=w),(oe=me.nextSibling)!==null)break;me=se,se=me.parentNode}me=oe}o=O===-1||z===-1?null:{start:O,end:z}}else o=null}o=o||{start:0,end:0}}else o=null;for(Zf={focusedElem:t,selectionRange:o},Gc=!1,an=i;an!==null;)if(i=an,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,an=t;else for(;an!==null;){switch(i=an,p=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,o=i,d=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var Ie=rs(o.type,d,o.elementType===o.type);t=u.getSnapshotBeforeUpdate(Ie,p),u.__reactInternalSnapshotBeforeUpdate=t}catch(Se){ft(o,o.return,Se)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,o=t.nodeType,o===9)nm(t);else if(o===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":nm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,an=t;break}an=i.return}}function E_(t,i,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Wi(t,o),u&4&&bl(5,o);break;case 1:if(Wi(t,o),u&4)if(t=o.stateNode,i===null)try{t.componentDidMount()}catch(w){ft(o,o.return,w)}else{var d=rs(o.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(w){ft(o,o.return,w)}}u&64&&m_(o),u&512&&Al(o,o.return);break;case 3:if(Wi(t,o),u&64&&(t=o.updateQueue,t!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{ty(t,i)}catch(w){ft(o,o.return,w)}}break;case 27:i===null&&u&4&&__(o);case 26:case 5:Wi(t,o),i===null&&u&4&&g_(o),u&512&&Al(o,o.return);break;case 12:Wi(t,o);break;case 13:Wi(t,o),u&4&&A_(t,o),u&64&&(t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(o=P2.bind(null,o),W2(t,o))));break;case 22:if(u=o.memoizedState!==null||Ai,!u){i=i!==null&&i.memoizedState!==null||Dt,d=Ai;var p=Dt;Ai=u,(Dt=i)&&!p?Ji(t,o,(o.subtreeFlags&8772)!==0):Wi(t,o),Ai=d,Dt=p}break;case 30:break;default:Wi(t,o)}}function T_(t){var i=t.alternate;i!==null&&(t.alternate=null,T_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&qi(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var vt=null,kn=!1;function Si(t,i,o){for(o=o.child;o!==null;)b_(t,i,o),o=o.sibling}function b_(t,i,o){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(We,o)}catch{}switch(o.tag){case 26:Dt||qr(o,i),Si(t,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Dt||qr(o,i);var u=vt,d=kn;ia(o.type)&&(vt=o.stateNode,kn=!1),Si(t,i,o),Ol(o.stateNode),vt=u,kn=d;break;case 5:Dt||qr(o,i);case 6:if(u=vt,d=kn,vt=null,Si(t,i,o),vt=u,kn=d,vt!==null)if(kn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(o.stateNode)}catch(p){ft(o,i,p)}else try{vt.removeChild(o.stateNode)}catch(p){ft(o,i,p)}break;case 18:vt!==null&&(kn?(t=vt,cv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,o.stateNode),jl(t)):cv(vt,o.stateNode));break;case 4:u=vt,d=kn,vt=o.stateNode.containerInfo,kn=!0,Si(t,i,o),vt=u,kn=d;break;case 0:case 11:case 14:case 15:Dt||Xi(2,o,i),Dt||Xi(4,o,i),Si(t,i,o);break;case 1:Dt||(qr(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"&&p_(o,i,u)),Si(t,i,o);break;case 21:Si(t,i,o);break;case 22:Dt=(u=Dt)||o.memoizedState!==null,Si(t,i,o),Dt=u;break;default:Si(t,i,o)}}function A_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{jl(t)}catch(o){ft(i,i.return,o)}}function w2(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new v_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new v_),i;default:throw Error(a(435,t.tag))}}function xf(t,i){var o=w2(t);i.forEach(function(u){var d=M2.bind(null,t,u);o.has(u)||(o.add(u),u.then(d,d))})}function Gn(t,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],p=t,w=i,O=w;e:for(;O!==null;){switch(O.tag){case 27:if(ia(O.type)){vt=O.stateNode,kn=!1;break e}break;case 5:vt=O.stateNode,kn=!1;break e;case 3:case 4:vt=O.stateNode.containerInfo,kn=!0;break e}O=O.return}if(vt===null)throw Error(a(160));b_(p,w,d),vt=null,kn=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)S_(i,t),i=i.sibling}var vr=null;function S_(t,i){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Gn(i,t),Qn(t),u&4&&(Xi(3,t,t.return),bl(3,t),Xi(5,t,t.return));break;case 1:Gn(i,t),Qn(t),u&512&&(Dt||o===null||qr(o,o.return)),u&64&&Ai&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(o=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=vr;if(Gn(i,t),Qn(t),u&512&&(Dt||o===null||qr(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=t.memoizedState,o===null)if(u===null)if(t.stateNode===null){e:{u=t.type,o=t.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":p=d.getElementsByTagName("title")[0],(!p||p[Oa]||p[Ft]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(u),d.head.insertBefore(p,d.querySelector("head > title"))),gn(p,u,o),p[Ft]=t,xt(p),u=p;break e;case"link":var w=_v("link","href",d).get(u+(o.href||""));if(w){for(var O=0;O<w.length;O++)if(p=w[O],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(O,1);break t}}p=d.createElement(u),gn(p,u,o),d.head.appendChild(p);break;case"meta":if(w=_v("meta","content",d).get(u+(o.content||""))){for(O=0;O<w.length;O++)if(p=w[O],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(O,1);break t}}p=d.createElement(u),gn(p,u,o),d.head.appendChild(p);break;default:throw Error(a(468,u))}p[Ft]=t,xt(p),u=p}t.stateNode=u}else vv(d,t.type,t.stateNode);else t.stateNode=yv(d,u,t.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?vv(d,t.type,t.stateNode):yv(d,u,t.memoizedProps)):u===null&&t.stateNode!==null&&wf(t,t.memoizedProps,o.memoizedProps)}break;case 27:Gn(i,t),Qn(t),u&512&&(Dt||o===null||qr(o,o.return)),o!==null&&u&4&&wf(t,t.memoizedProps,o.memoizedProps);break;case 5:if(Gn(i,t),Qn(t),u&512&&(Dt||o===null||qr(o,o.return)),t.flags&32){d=t.stateNode;try{Jn(d,"")}catch(oe){ft(t,t.return,oe)}}u&4&&t.stateNode!=null&&(d=t.memoizedProps,wf(t,d,o!==null?o.memoizedProps:d)),u&1024&&(If=!0);break;case 6:if(Gn(i,t),Qn(t),u&4){if(t.stateNode===null)throw Error(a(162));u=t.memoizedProps,o=t.stateNode;try{o.nodeValue=u}catch(oe){ft(t,t.return,oe)}}break;case 3:if(Bc=null,d=vr,vr=jc(i.containerInfo),Gn(i,t),vr=d,Qn(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{jl(i.containerInfo)}catch(oe){ft(t,t.return,oe)}If&&(If=!1,w_(t));break;case 4:u=vr,vr=jc(t.stateNode.containerInfo),Gn(i,t),Qn(t),vr=u;break;case 12:Gn(i,t),Qn(t);break;case 13:Gn(i,t),Qn(t),t.child.flags&8192&&t.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Lf=Ve()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,xf(t,u)));break;case 22:d=t.memoizedState!==null;var z=o!==null&&o.memoizedState!==null,ne=Ai,he=Dt;if(Ai=ne||d,Dt=he||z,Gn(i,t),Dt=he,Ai=ne,Qn(t),u&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(o===null||z||Ai||Dt||is(t)),o=null,i=t;;){if(i.tag===5||i.tag===26){if(o===null){z=o=i;try{if(p=z.stateNode,d)w=p.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{O=z.stateNode;var me=z.memoizedProps.style,se=me!=null&&me.hasOwnProperty("display")?me.display:null;O.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(oe){ft(z,z.return,oe)}}}else if(i.tag===6){if(o===null){z=i;try{z.stateNode.nodeValue=d?"":z.memoizedProps}catch(oe){ft(z,z.return,oe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=t.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,xf(t,o))));break;case 19:Gn(i,t),Qn(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,xf(t,u)));break;case 30:break;case 21:break;default:Gn(i,t),Qn(t)}}function Qn(t){var i=t.flags;if(i&2){try{for(var o,u=t.return;u!==null;){if(y_(u)){o=u;break}u=u.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var d=o.stateNode,p=Rf(t);Cc(t,p,d);break;case 5:var w=o.stateNode;o.flags&32&&(Jn(w,""),o.flags&=-33);var O=Rf(t);Cc(t,O,w);break;case 3:case 4:var z=o.stateNode.containerInfo,ne=Rf(t);Cf(t,ne,z);break;default:throw Error(a(161))}}catch(he){ft(t,t.return,he)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function w_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;w_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Wi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)E_(t,i.alternate,i),i=i.sibling}function is(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Xi(4,i,i.return),is(i);break;case 1:qr(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&p_(i,i.return,o),is(i);break;case 27:Ol(i.stateNode);case 26:case 5:qr(i,i.return),is(i);break;case 22:i.memoizedState===null&&is(i);break;case 30:is(i);break;default:is(i)}t=t.sibling}}function Ji(t,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,d=t,p=i,w=p.flags;switch(p.tag){case 0:case 11:case 15:Ji(d,p,o),bl(4,p);break;case 1:if(Ji(d,p,o),u=p,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(ne){ft(u,u.return,ne)}if(u=p,d=u.updateQueue,d!==null){var O=u.stateNode;try{var z=d.shared.hiddenCallbacks;if(z!==null)for(d.shared.hiddenCallbacks=null,d=0;d<z.length;d++)ey(z[d],O)}catch(ne){ft(u,u.return,ne)}}o&&w&64&&m_(p),Al(p,p.return);break;case 27:__(p);case 26:case 5:Ji(d,p,o),o&&u===null&&w&4&&g_(p),Al(p,p.return);break;case 12:Ji(d,p,o);break;case 13:Ji(d,p,o),o&&w&4&&A_(d,p);break;case 22:p.memoizedState===null&&Ji(d,p,o),Al(p,p.return);break;case 30:break;default:Ji(d,p,o)}i=i.sibling}}function Nf(t,i){var o=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==o&&(t!=null&&t.refCount++,o!=null&&ll(o))}function Df(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ll(t))}function jr(t,i,o,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)R_(t,i,o,u),i=i.sibling}function R_(t,i,o,u){var d=i.flags;switch(i.tag){case 0:case 11:case 15:jr(t,i,o,u),d&2048&&bl(9,i);break;case 1:jr(t,i,o,u);break;case 3:jr(t,i,o,u),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ll(t)));break;case 12:if(d&2048){jr(t,i,o,u),t=i.stateNode;try{var p=i.memoizedProps,w=p.id,O=p.onPostCommit;typeof O=="function"&&O(w,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(z){ft(i,i.return,z)}}else jr(t,i,o,u);break;case 13:jr(t,i,o,u);break;case 23:break;case 22:p=i.stateNode,w=i.alternate,i.memoizedState!==null?p._visibility&2?jr(t,i,o,u):Sl(t,i):p._visibility&2?jr(t,i,o,u):(p._visibility|=2,eo(t,i,o,u,(i.subtreeFlags&10256)!==0)),d&2048&&Nf(w,i);break;case 24:jr(t,i,o,u),d&2048&&Df(i.alternate,i);break;default:jr(t,i,o,u)}}function eo(t,i,o,u,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var p=t,w=i,O=o,z=u,ne=w.flags;switch(w.tag){case 0:case 11:case 15:eo(p,w,O,z,d),bl(8,w);break;case 23:break;case 22:var he=w.stateNode;w.memoizedState!==null?he._visibility&2?eo(p,w,O,z,d):Sl(p,w):(he._visibility|=2,eo(p,w,O,z,d)),d&&ne&2048&&Nf(w.alternate,w);break;case 24:eo(p,w,O,z,d),d&&ne&2048&&Df(w.alternate,w);break;default:eo(p,w,O,z,d)}i=i.sibling}}function Sl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=t,u=i,d=u.flags;switch(u.tag){case 22:Sl(o,u),d&2048&&Nf(u.alternate,u);break;case 24:Sl(o,u),d&2048&&Df(u.alternate,u);break;default:Sl(o,u)}i=i.sibling}}var wl=8192;function to(t){if(t.subtreeFlags&wl)for(t=t.child;t!==null;)C_(t),t=t.sibling}function C_(t){switch(t.tag){case 26:to(t),t.flags&wl&&t.memoizedState!==null&&cA(vr,t.memoizedState,t.memoizedProps);break;case 5:to(t);break;case 3:case 4:var i=vr;vr=jc(t.stateNode.containerInfo),to(t),vr=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=wl,wl=16777216,to(t),wl=i):to(t));break;default:to(t)}}function I_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Rl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];an=u,N_(u,t)}I_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)x_(t),t=t.sibling}function x_(t){switch(t.tag){case 0:case 11:case 15:Rl(t),t.flags&2048&&Xi(9,t,t.return);break;case 3:Rl(t);break;case 12:Rl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Ic(t)):Rl(t);break;default:Rl(t)}}function Ic(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];an=u,N_(u,t)}I_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Xi(8,i,i.return),Ic(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Ic(i));break;default:Ic(i)}t=t.sibling}}function N_(t,i){for(;an!==null;){var o=an;switch(o.tag){case 0:case 11:case 15:Xi(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ll(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,an=u;else e:for(o=t;an!==null;){u=an;var d=u.sibling,p=u.return;if(T_(u),u===o){an=null;break e}if(d!==null){d.return=p,an=d;break e}an=p}}}var R2={getCacheForType:function(t){var i=bn(Qt),o=i.data.get(t);return o===void 0&&(o=t(),i.data.set(t,o)),o}},C2=typeof WeakMap=="function"?WeakMap:Map,rt=0,mt=null,Ue=null,Qe=0,it=0,Kn=null,Zi=!1,no=!1,Of=!1,wi=0,wt=0,ea=0,as=0,Pf=0,or=0,ro=0,Cl=null,qn=null,Mf=!1,Lf=0,xc=1/0,Nc=null,ta=null,pn=0,na=null,io=null,ao=0,Vf=0,Uf=null,D_=null,Il=0,kf=null;function Yn(){if((rt&2)!==0&&Qe!==0)return Qe&-Qe;if(R.T!==null){var t=Qs;return t!==0?t:Gf()}return Tn()}function O_(){or===0&&(or=(Qe&536870912)===0||Je?Ui():536870912);var t=sr.current;return t!==null&&(t.flags|=32),or}function $n(t,i,o){(t===mt&&(it===2||it===9)||t.cancelPendingCommit!==null)&&(so(t,0),ra(t,Qe,or,!1)),en(t,o),((rt&2)===0||t!==mt)&&(t===mt&&((rt&2)===0&&(as|=o),wt===4&&ra(t,Qe,or,!1)),zr(t))}function P_(t,i,o){if((rt&6)!==0)throw Error(a(327));var u=!o&&(i&124)===0&&(i&t.expiredLanes)===0||ni(t,i),d=u?N2(t,i):zf(t,i,!0),p=u;do{if(d===0){no&&!u&&ra(t,i,0,!1);break}else{if(o=t.current.alternate,p&&!I2(o)){d=zf(t,i,!1),p=!1;continue}if(d===2){if(p=i,t.errorRecoveryDisabledLanes&p)var w=0;else w=t.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){i=w;e:{var O=t;d=Cl;var z=O.current.memoizedState.isDehydrated;if(z&&(so(O,w).flags|=256),w=zf(O,w,!1),w!==2){if(Of&&!z){O.errorRecoveryDisabledLanes|=p,as|=p,d=4;break e}p=qn,qn=d,p!==null&&(qn===null?qn=p:qn.push.apply(qn,p))}d=w}if(p=!1,d!==2)continue}}if(d===1){so(t,0),ra(t,i,0,!0);break}e:{switch(u=t,p=d,p){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:ra(u,i,or,!Zi);break e;case 2:qn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(d=Lf+300-Ve(),10<d)){if(ra(u,i,or,!Zi),Rr(u,0,!0)!==0)break e;u.timeoutHandle=lv(M_.bind(null,u,o,qn,Nc,Mf,i,or,as,ro,Zi,p,2,-0,0),d);break e}M_(u,o,qn,Nc,Mf,i,or,as,ro,Zi,p,0,-0,0)}}break}while(!0);zr(t)}function M_(t,i,o,u,d,p,w,O,z,ne,he,me,se,oe){if(t.timeoutHandle=-1,me=i.subtreeFlags,(me&8192||(me&16785408)===16785408)&&(Ll={stylesheets:null,count:0,unsuspend:uA},C_(i),me=hA(),me!==null)){t.cancelPendingCommit=me(z_.bind(null,t,i,p,o,u,d,w,O,z,he,1,se,oe)),ra(t,p,w,!ne);return}z_(t,i,p,o,u,d,w,O,z)}function I2(t){for(var i=t;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],p=d.getSnapshot;d=d.value;try{if(!Fn(p(),d))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ra(t,i,o,u){i&=~Pf,i&=~as,t.suspendedLanes|=i,t.pingedLanes&=~i,u&&(t.warmLanes|=i),u=t.expirationTimes;for(var d=i;0<d;){var p=31-yt(d),w=1<<p;u[p]=-1,d&=~w}o!==0&&hn(t,o,i)}function Dc(){return(rt&6)===0?(xl(0),!1):!0}function qf(){if(Ue!==null){if(it===0)var t=Ue.return;else t=Ue,yi=Za=null,tf(t),Js=null,vl=0,t=Ue;for(;t!==null;)f_(t.alternate,t),t=t.return;Ue=null}}function so(t,i){var o=t.timeoutHandle;o!==-1&&(t.timeoutHandle=-1,Q2(o)),o=t.cancelPendingCommit,o!==null&&(t.cancelPendingCommit=null,o()),qf(),mt=t,Ue=o=mi(t.current,null),Qe=i,it=0,Kn=null,Zi=!1,no=ni(t,i),Of=!1,ro=or=Pf=as=ea=wt=0,qn=Cl=null,Mf=!1,(i&8)!==0&&(i|=i&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=i;0<u;){var d=31-yt(u),p=1<<d;i|=t[d],u&=~p}return wi=i,Zu(),o}function L_(t,i){Me=null,R.H=_c,i===cl||i===lc?(i=Jg(),it=3):i===$g?(i=Jg(),it=4):it=i===Zy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Kn=i,Ue===null&&(wt=1,Ac(t,nr(i,t.current)))}function V_(){var t=R.H;return R.H=_c,t===null?_c:t}function U_(){var t=R.A;return R.A=R2,t}function jf(){wt=4,Zi||(Qe&4194048)!==Qe&&sr.current!==null||(no=!0),(ea&134217727)===0&&(as&134217727)===0||mt===null||ra(mt,Qe,or,!1)}function zf(t,i,o){var u=rt;rt|=2;var d=V_(),p=U_();(mt!==t||Qe!==i)&&(Nc=null,so(t,i)),i=!1;var w=wt;e:do try{if(it!==0&&Ue!==null){var O=Ue,z=Kn;switch(it){case 8:qf(),w=6;break e;case 3:case 2:case 9:case 6:sr.current===null&&(i=!0);var ne=it;if(it=0,Kn=null,oo(t,O,z,ne),o&&no){w=0;break e}break;default:ne=it,it=0,Kn=null,oo(t,O,z,ne)}}x2(),w=wt;break}catch(he){L_(t,he)}while(!0);return i&&t.shellSuspendCounter++,yi=Za=null,rt=u,R.H=d,R.A=p,Ue===null&&(mt=null,Qe=0,Zu()),w}function x2(){for(;Ue!==null;)k_(Ue)}function N2(t,i){var o=rt;rt|=2;var u=V_(),d=U_();mt!==t||Qe!==i?(Nc=null,xc=Ve()+500,so(t,i)):no=ni(t,i);e:do try{if(it!==0&&Ue!==null){i=Ue;var p=Kn;t:switch(it){case 1:it=0,Kn=null,oo(t,i,p,1);break;case 2:case 9:if(Xg(p)){it=0,Kn=null,q_(i);break}i=function(){it!==2&&it!==9||mt!==t||(it=7),zr(t)},p.then(i,i);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:Xg(p)?(it=0,Kn=null,q_(i)):(it=0,Kn=null,oo(t,i,p,7));break;case 5:var w=null;switch(Ue.tag){case 26:w=Ue.memoizedState;case 5:case 27:var O=Ue;if(!w||Ev(w)){it=0,Kn=null;var z=O.sibling;if(z!==null)Ue=z;else{var ne=O.return;ne!==null?(Ue=ne,Oc(ne)):Ue=null}break t}}it=0,Kn=null,oo(t,i,p,5);break;case 6:it=0,Kn=null,oo(t,i,p,6);break;case 8:qf(),wt=6;break e;default:throw Error(a(462))}}D2();break}catch(he){L_(t,he)}while(!0);return yi=Za=null,R.H=u,R.A=d,rt=o,Ue!==null?0:(mt=null,Qe=0,Zu(),wt)}function D2(){for(;Ue!==null&&!at();)k_(Ue)}function k_(t){var i=h_(t.alternate,t,wi);t.memoizedProps=t.pendingProps,i===null?Oc(t):Ue=i}function q_(t){var i=t,o=i.alternate;switch(i.tag){case 15:case 0:i=a_(o,i,i.pendingProps,i.type,void 0,Qe);break;case 11:i=a_(o,i,i.pendingProps,i.type.render,i.ref,Qe);break;case 5:tf(i);default:f_(o,i),i=Ue=jg(i,wi),i=h_(o,i,wi)}t.memoizedProps=t.pendingProps,i===null?Oc(t):Ue=i}function oo(t,i,o,u){yi=Za=null,tf(i),Js=null,vl=0;var d=i.return;try{if(E2(t,d,i,o,Qe)){wt=1,Ac(t,nr(o,t.current)),Ue=null;return}}catch(p){if(d!==null)throw Ue=d,p;wt=1,Ac(t,nr(o,t.current)),Ue=null;return}i.flags&32768?(Je||u===1?t=!0:no||(Qe&536870912)!==0?t=!1:(Zi=t=!0,(u===2||u===9||u===3||u===6)&&(u=sr.current,u!==null&&u.tag===13&&(u.flags|=16384))),j_(i,t)):Oc(i)}function Oc(t){var i=t;do{if((i.flags&32768)!==0){j_(i,Zi);return}t=i.return;var o=b2(i.alternate,i,wi);if(o!==null){Ue=o;return}if(i=i.sibling,i!==null){Ue=i;return}Ue=i=t}while(i!==null);wt===0&&(wt=5)}function j_(t,i){do{var o=A2(t.alternate,t);if(o!==null){o.flags&=32767,Ue=o;return}if(o=t.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(t=t.sibling,t!==null)){Ue=t;return}Ue=t=o}while(t!==null);wt=6,Ue=null}function z_(t,i,o,u,d,p,w,O,z){t.cancelPendingCommit=null;do Pc();while(pn!==0);if((rt&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(p=i.lanes|i.childLanes,p|=Nd,Ln(t,o,p,w,O,z),t===mt&&(Ue=mt=null,Qe=0),io=i,na=t,ao=o,Vf=p,Uf=d,D_=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,L2(st,function(){return Q_(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=R.T,R.T=null,d=N.p,N.p=2,w=rt,rt|=4;try{S2(t,i,o)}finally{rt=w,N.p=d,R.T=u}}pn=1,B_(),F_(),H_()}}function B_(){if(pn===1){pn=0;var t=na,i=io,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=R.T,R.T=null;var u=N.p;N.p=2;var d=rt;rt|=4;try{S_(i,t);var p=Zf,w=Ng(t.containerInfo),O=p.focusedElem,z=p.selectionRange;if(w!==O&&O&&O.ownerDocument&&xg(O.ownerDocument.documentElement,O)){if(z!==null&&wd(O)){var ne=z.start,he=z.end;if(he===void 0&&(he=ne),"selectionStart"in O)O.selectionStart=ne,O.selectionEnd=Math.min(he,O.value.length);else{var me=O.ownerDocument||document,se=me&&me.defaultView||window;if(se.getSelection){var oe=se.getSelection(),Ie=O.textContent.length,Se=Math.min(z.start,Ie),ct=z.end===void 0?Se:Math.min(z.end,Ie);!oe.extend&&Se>ct&&(w=ct,ct=Se,Se=w);var $=Ig(O,Se),Q=Ig(O,ct);if($&&Q&&(oe.rangeCount!==1||oe.anchorNode!==$.node||oe.anchorOffset!==$.offset||oe.focusNode!==Q.node||oe.focusOffset!==Q.offset)){var J=me.createRange();J.setStart($.node,$.offset),oe.removeAllRanges(),Se>ct?(oe.addRange(J),oe.extend(Q.node,Q.offset)):(J.setEnd(Q.node,Q.offset),oe.addRange(J))}}}}for(me=[],oe=O;oe=oe.parentNode;)oe.nodeType===1&&me.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<me.length;O++){var de=me[O];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}Gc=!!Jf,Zf=Jf=null}finally{rt=d,N.p=u,R.T=o}}t.current=i,pn=2}}function F_(){if(pn===2){pn=0;var t=na,i=io,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=R.T,R.T=null;var u=N.p;N.p=2;var d=rt;rt|=4;try{E_(t,i.alternate,i)}finally{rt=d,N.p=u,R.T=o}}pn=3}}function H_(){if(pn===4||pn===3){pn=0,It();var t=na,i=io,o=ao,u=D_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?pn=5:(pn=0,io=na=null,G_(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(ta=null),Vn(o),i=i.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(We,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=R.T,d=N.p,N.p=2,R.T=null;try{for(var p=t.onRecoverableError,w=0;w<u.length;w++){var O=u[w];p(O.value,{componentStack:O.stack})}}finally{R.T=i,N.p=d}}(ao&3)!==0&&Pc(),zr(t),d=t.pendingLanes,(o&4194090)!==0&&(d&42)!==0?t===kf?Il++:(Il=0,kf=t):Il=0,xl(0)}}function G_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ll(i)))}function Pc(t){return B_(),F_(),H_(),Q_()}function Q_(){if(pn!==5)return!1;var t=na,i=Vf;Vf=0;var o=Vn(ao),u=R.T,d=N.p;try{N.p=32>o?32:o,R.T=null,o=Uf,Uf=null;var p=na,w=ao;if(pn=0,io=na=null,ao=0,(rt&6)!==0)throw Error(a(331));var O=rt;if(rt|=4,x_(p.current),R_(p,p.current,w,o),rt=O,xl(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(We,p)}catch{}return!0}finally{N.p=d,R.T=u,G_(t,i)}}function K_(t,i,o){i=nr(o,i),i=gf(t.stateNode,i,2),t=Qi(t,i,2),t!==null&&(en(t,2),zr(t))}function ft(t,i,o){if(t.tag===3)K_(t,t,o);else for(;i!==null;){if(i.tag===3){K_(i,t,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ta===null||!ta.has(u))){t=nr(o,t),o=Wy(2),u=Qi(i,o,2),u!==null&&(Jy(o,u,i,t),en(u,2),zr(u));break}}i=i.return}}function Bf(t,i,o){var u=t.pingCache;if(u===null){u=t.pingCache=new C2;var d=new Set;u.set(i,d)}else d=u.get(i),d===void 0&&(d=new Set,u.set(i,d));d.has(o)||(Of=!0,d.add(o),t=O2.bind(null,t,i,o),i.then(t,t))}function O2(t,i,o){var u=t.pingCache;u!==null&&u.delete(i),t.pingedLanes|=t.suspendedLanes&o,t.warmLanes&=~o,mt===t&&(Qe&o)===o&&(wt===4||wt===3&&(Qe&62914560)===Qe&&300>Ve()-Lf?(rt&2)===0&&so(t,0):Pf|=o,ro===Qe&&(ro=0)),zr(t)}function Y_(t,i){i===0&&(i=dr()),t=Bs(t,i),t!==null&&(en(t,i),zr(t))}function P2(t){var i=t.memoizedState,o=0;i!==null&&(o=i.retryLane),Y_(t,o)}function M2(t,i){var o=0;switch(t.tag){case 13:var u=t.stateNode,d=t.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(i),Y_(t,o)}function L2(t,i){return In(t,i)}var Mc=null,lo=null,Ff=!1,Lc=!1,Hf=!1,ss=0;function zr(t){t!==lo&&t.next===null&&(lo===null?Mc=lo=t:lo=lo.next=t),Lc=!0,Ff||(Ff=!0,U2())}function xl(t,i){if(!Hf&&Lc){Hf=!0;do for(var o=!1,u=Mc;u!==null;){if(t!==0){var d=u.pendingLanes;if(d===0)var p=0;else{var w=u.suspendedLanes,O=u.pingedLanes;p=(1<<31-yt(42|t)+1)-1,p&=d&~(w&~O),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,J_(u,p))}else p=Qe,p=Rr(u,u===mt?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||ni(u,p)||(o=!0,J_(u,p));u=u.next}while(o);Hf=!1}}function V2(){$_()}function $_(){Lc=Ff=!1;var t=0;ss!==0&&(G2()&&(t=ss),ss=0);for(var i=Ve(),o=null,u=Mc;u!==null;){var d=u.next,p=X_(u,i);p===0?(u.next=null,o===null?Mc=d:o.next=d,d===null&&(lo=o)):(o=u,(t!==0||(p&3)!==0)&&(Lc=!0)),u=d}xl(t)}function X_(t,i){for(var o=t.suspendedLanes,u=t.pingedLanes,d=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var w=31-yt(p),O=1<<w,z=d[w];z===-1?((O&o)===0||(O&u)!==0)&&(d[w]=ri(O,i)):z<=i&&(t.expiredLanes|=O),p&=~O}if(i=mt,o=Qe,o=Rr(t,t===i?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,o===0||t===i&&(it===2||it===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&Wt(u),t.callbackNode=null,t.callbackPriority=0;if((o&3)===0||ni(t,o)){if(i=o&-o,i===t.callbackPriority)return i;switch(u!==null&&Wt(u),Vn(o)){case 2:case 8:o=At;break;case 32:o=st;break;case 268435456:o=dt;break;default:o=st}return u=W_.bind(null,t),o=In(o,u),t.callbackPriority=i,t.callbackNode=o,i}return u!==null&&u!==null&&Wt(u),t.callbackPriority=2,t.callbackNode=null,2}function W_(t,i){if(pn!==0&&pn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var o=t.callbackNode;if(Pc()&&t.callbackNode!==o)return null;var u=Qe;return u=Rr(t,t===mt?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(P_(t,u,i),X_(t,Ve()),t.callbackNode!=null&&t.callbackNode===o?W_.bind(null,t):null)}function J_(t,i){if(Pc())return null;P_(t,i,!0)}function U2(){K2(function(){(rt&6)!==0?In(Et,V2):$_()})}function Gf(){return ss===0&&(ss=Ui()),ss}function Z_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ns(""+t)}function ev(t,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,t.id&&o.setAttribute("form",t.id),i.parentNode.insertBefore(o,i),t=new FormData(t),o.parentNode.removeChild(o),t}function k2(t,i,o,u,d){if(i==="submit"&&o&&o.stateNode===d){var p=Z_((d[Lt]||null).action),w=u.submitter;w&&(i=(i=w[Lt]||null)?Z_(i.formAction):w.getAttribute("formAction"),i!==null&&(p=i,w=null));var O=new Ds("action","action",null,u,d);t.push({event:O,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ss!==0){var z=w?ev(d,w):new FormData(d);hf(o,{pending:!0,data:z,method:d.method,action:p},null,z)}}else typeof p=="function"&&(O.preventDefault(),z=w?ev(d,w):new FormData(d),hf(o,{pending:!0,data:z,method:d.method,action:p},p,z))},currentTarget:d}]})}}for(var Qf=0;Qf<xd.length;Qf++){var Kf=xd[Qf],q2=Kf.toLowerCase(),j2=Kf[0].toUpperCase()+Kf.slice(1);_r(q2,"on"+j2)}_r(Pg,"onAnimationEnd"),_r(Mg,"onAnimationIteration"),_r(Lg,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(r2,"onTransitionRun"),_r(i2,"onTransitionStart"),_r(a2,"onTransitionCancel"),_r(Vg,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gr("onBeforeInput",["compositionend","keypress","textInput","paste"]),gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function tv(t,i){i=(i&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],d=u.event;u=u.listeners;e:{var p=void 0;if(i)for(var w=u.length-1;0<=w;w--){var O=u[w],z=O.instance,ne=O.currentTarget;if(O=O.listener,z!==p&&d.isPropagationStopped())break e;p=O,d.currentTarget=ne;try{p(d)}catch(he){bc(he)}d.currentTarget=null,p=z}else for(w=0;w<u.length;w++){if(O=u[w],z=O.instance,ne=O.currentTarget,O=O.listener,z!==p&&d.isPropagationStopped())break e;p=O,d.currentTarget=ne;try{p(d)}catch(he){bc(he)}d.currentTarget=null,p=z}}}}function ke(t,i){var o=i[zo];o===void 0&&(o=i[zo]=new Set);var u=t+"__bubble";o.has(u)||(nv(i,t,2,!1),o.add(u))}function Yf(t,i,o){var u=0;i&&(u|=4),nv(o,t,u,i)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function $f(t){if(!t[Vc]){t[Vc]=!0,Bo.forEach(function(o){o!=="selectionchange"&&(z2.has(o)||Yf(o,!1,t),Yf(o,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Vc]||(i[Vc]=!0,Yf("selectionchange",!1,i))}}function nv(t,i,o,u){switch(Rv(i)){case 2:var d=mA;break;case 8:d=pA;break;default:d=um}o=d.bind(null,i,o,t),d=void 0,!er||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),u?d!==void 0?t.addEventListener(i,o,{capture:!0,passive:d}):t.addEventListener(i,o,!0):d!==void 0?t.addEventListener(i,o,{passive:d}):t.addEventListener(i,o,!1)}function Xf(t,i,o,u,d){var p=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var O=u.stateNode.containerInfo;if(O===d)break;if(w===4)for(w=u.return;w!==null;){var z=w.tag;if((z===3||z===4)&&w.stateNode.containerInfo===d)return;w=w.return}for(;O!==null;){if(w=ii(O),w===null)return;if(z=w.tag,z===5||z===6||z===26||z===27){u=p=w;continue e}O=O.parentNode}}u=u.return}ku(function(){var ne=p,he=Zn(o),me=[];e:{var se=Ug.get(t);if(se!==void 0){var oe=Ds,Ie=t;switch(t){case"keypress":if(Or(o)===0)break e;case"keydown":case"keyup":oe=Us;break;case"focusin":Ie="focus",oe=Ms;break;case"focusout":Ie="blur",oe=Ms;break;case"beforeblur":case"afterblur":oe=Ms;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=tr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Td;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=Qu;break;case Pg:case Mg:case Lg:oe=Ls;break;case Vg:oe=Yu;break;case"scroll":case"scrollend":oe=qu;break;case"wheel":oe=ks;break;case"copy":case"cut":case"paste":oe=Vs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=el;break;case"toggle":case"beforetoggle":oe=Xu}var Se=(i&4)!==0,ct=!Se&&(t==="scroll"||t==="scrollend"),$=Se?se!==null?se+"Capture":null:se;Se=[];for(var Q=ne,J;Q!==null;){var de=Q;if(J=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||J===null||$===null||(de=qa(Q,$),de!=null&&Se.push(Dl(Q,de,J))),ct)break;Q=Q.return}0<Se.length&&(se=new oe(se,Ie,null,o,he),me.push({event:se,listeners:Se}))}}if((i&7)===0){e:{if(se=t==="mouseover"||t==="pointerover",oe=t==="mouseout"||t==="pointerout",se&&o!==li&&(Ie=o.relatedTarget||o.fromElement)&&(ii(Ie)||Ie[Wn]))break e;if((oe||se)&&(se=he.window===he?he:(se=he.ownerDocument)?se.defaultView||se.parentWindow:window,oe?(Ie=o.relatedTarget||o.toElement,oe=ne,Ie=Ie?ii(Ie):null,Ie!==null&&(ct=l(Ie),Se=Ie.tag,Ie!==ct||Se!==5&&Se!==27&&Se!==6)&&(Ie=null)):(oe=null,Ie=ne),oe!==Ie)){if(Se=tr,de="onMouseLeave",$="onMouseEnter",Q="mouse",(t==="pointerout"||t==="pointerover")&&(Se=el,de="onPointerLeave",$="onPointerEnter",Q="pointer"),ct=oe==null?se:Ir(oe),J=Ie==null?se:Ir(Ie),se=new Se(de,Q+"leave",oe,o,he),se.target=ct,se.relatedTarget=J,de=null,ii(he)===ne&&(Se=new Se($,Q+"enter",Ie,o,he),Se.target=J,Se.relatedTarget=ct,de=Se),ct=de,oe&&Ie)t:{for(Se=oe,$=Ie,Q=0,J=Se;J;J=uo(J))Q++;for(J=0,de=$;de;de=uo(de))J++;for(;0<Q-J;)Se=uo(Se),Q--;for(;0<J-Q;)$=uo($),J--;for(;Q--;){if(Se===$||$!==null&&Se===$.alternate)break t;Se=uo(Se),$=uo($)}Se=null}else Se=null;oe!==null&&rv(me,se,oe,Se,!1),Ie!==null&&ct!==null&&rv(me,ct,Ie,Se,!0)}}e:{if(se=ne?Ir(ne):window,oe=se.nodeName&&se.nodeName.toLowerCase(),oe==="select"||oe==="input"&&se.type==="file")var Ee=bg;else if(Gt(se))if(Ag)Ee=e2;else{Ee=Jb;var Le=Wb}else oe=se.nodeName,!oe||oe.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?ne&&Ko(ne.elementType)&&(Ee=bg):Ee=Zb;if(Ee&&(Ee=Ee(t,ne))){fi(me,Ee,o,he);break e}Le&&Le(t,se,ne),t==="focusout"&&ne&&se.type==="number"&&ne.memoizedProps.value!=null&&zi(se,"number",se.value)}switch(Le=ne?Ir(ne):window,t){case"focusin":(Gt(Le)||Le.contentEditable==="true")&&(qs=Le,Rd=ne,rl=null);break;case"focusout":rl=Rd=qs=null;break;case"mousedown":Cd=!0;break;case"contextmenu":case"mouseup":case"dragend":Cd=!1,Dg(me,o,he);break;case"selectionchange":if(n2)break;case"keydown":case"keyup":Dg(me,o,he)}var Te;if(Lr)e:{switch(t){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else He?ce(t,o)&&(we="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(we="onCompositionStart");we&&(S&&o.locale!=="ko"&&(He||we!=="onCompositionStart"?we==="onCompositionEnd"&&He&&(Te=$o()):(Dr=he,Bi="value"in Dr?Dr.value:Dr.textContent,He=!0)),Le=Uc(ne,we),0<Le.length&&(we=new Jo(we,t,null,o,he),me.push({event:we,listeners:Le}),Te?we.data=Te:(Te=ye(o),Te!==null&&(we.data=Te)))),(Te=E?Ht(t,o):Ge(t,o))&&(we=Uc(ne,"onBeforeInput"),0<we.length&&(Le=new Jo("onBeforeInput","beforeinput",null,o,he),me.push({event:Le,listeners:we}),Le.data=Te)),k2(me,t,ne,o,he)}tv(me,i)})}function Dl(t,i,o){return{instance:t,listener:i,currentTarget:o}}function Uc(t,i){for(var o=i+"Capture",u=[];t!==null;){var d=t,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=qa(t,o),d!=null&&u.unshift(Dl(t,d,p)),d=qa(t,i),d!=null&&u.push(Dl(t,d,p))),t.tag===3)return u;t=t.return}return[]}function uo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function rv(t,i,o,u,d){for(var p=i._reactName,w=[];o!==null&&o!==u;){var O=o,z=O.alternate,ne=O.stateNode;if(O=O.tag,z!==null&&z===u)break;O!==5&&O!==26&&O!==27||ne===null||(z=ne,d?(ne=qa(o,p),ne!=null&&w.unshift(Dl(o,ne,z))):d||(ne=qa(o,p),ne!=null&&w.push(Dl(o,ne,z)))),o=o.return}w.length!==0&&t.push({event:i,listeners:w})}var B2=/\r\n?/g,F2=/\u0000|\uFFFD/g;function iv(t){return(typeof t=="string"?t:""+t).replace(B2,`
`).replace(F2,"")}function av(t,i){return i=iv(i),iv(t)===i}function kc(){}function ut(t,i,o,u,d,p){switch(o){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Jn(t,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Jn(t,""+u);break;case"className":xr(t,"class",u);break;case"tabIndex":xr(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":xr(t,o,u);break;case"style":Qo(t,u,p);break;case"data":if(i!=="object"){xr(t,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||o!=="href")){t.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=Ns(""+u),t.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(i!=="input"&&ut(t,i,"name",d.name,d,null),ut(t,i,"formEncType",d.formEncType,d,null),ut(t,i,"formMethod",d.formMethod,d,null),ut(t,i,"formTarget",d.formTarget,d,null)):(ut(t,i,"encType",d.encType,d,null),ut(t,i,"method",d.method,d,null),ut(t,i,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=Ns(""+u),t.setAttribute(o,u);break;case"onClick":u!=null&&(t.onclick=kc);break;case"onScroll":u!=null&&ke("scroll",t);break;case"onScrollEnd":u!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(a(60));t.innerHTML=o}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}o=Ns(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""+u):t.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""):t.removeAttribute(o);break;case"capture":case"download":u===!0?t.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,u):t.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(o,u):t.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(o):t.setAttribute(o,u);break;case"popover":ke("beforetoggle",t),ke("toggle",t),ji(t,"popover",u);break;case"xlinkActuate":dn(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":dn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":dn(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":dn(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":dn(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":dn(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":dn(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":dn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":dn(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ji(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=vd.get(o)||o,ji(t,o,u))}}function Wf(t,i,o,u,d,p){switch(o){case"style":Qo(t,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(a(60));t.innerHTML=o}}break;case"children":typeof u=="string"?Jn(t,u):(typeof u=="number"||typeof u=="bigint")&&Jn(t,""+u);break;case"onScroll":u!=null&&ke("scroll",t);break;case"onScrollEnd":u!=null&&ke("scrollend",t);break;case"onClick":u!=null&&(t.onclick=kc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ws.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),i=o.slice(2,d?o.length-7:void 0),p=t[Lt]||null,p=p!=null?p[o]:null,typeof p=="function"&&t.removeEventListener(i,p,d),typeof u=="function")){typeof p!="function"&&p!==null&&(o in t?t[o]=null:t.hasAttribute(o)&&t.removeAttribute(o)),t.addEventListener(i,u,d);break e}o in t?t[o]=u:u===!0?t.setAttribute(o,""):ji(t,o,u)}}}function gn(t,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var u=!1,d=!1,p;for(p in o)if(o.hasOwnProperty(p)){var w=o[p];if(w!=null)switch(p){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:ut(t,i,p,w,o,null)}}d&&ut(t,i,"srcSet",o.srcSet,o,null),u&&ut(t,i,"src",o.src,o,null);return;case"input":ke("invalid",t);var O=p=w=d=null,z=null,ne=null;for(u in o)if(o.hasOwnProperty(u)){var he=o[u];if(he!=null)switch(u){case"name":d=he;break;case"type":w=he;break;case"checked":z=he;break;case"defaultChecked":ne=he;break;case"value":p=he;break;case"defaultValue":O=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(a(137,i));break;default:ut(t,i,u,he,o,null)}}Va(t,p,O,z,ne,w,d,!1),xs(t);return;case"select":ke("invalid",t),u=w=p=null;for(d in o)if(o.hasOwnProperty(d)&&(O=o[d],O!=null))switch(d){case"value":p=O;break;case"defaultValue":w=O;break;case"multiple":u=O;default:ut(t,i,d,O,o,null)}i=p,o=w,t.multiple=!!u,i!=null?oi(t,!!u,i,!1):o!=null&&oi(t,!!u,o,!0);return;case"textarea":ke("invalid",t),p=d=u=null;for(w in o)if(o.hasOwnProperty(w)&&(O=o[w],O!=null))switch(w){case"value":u=O;break;case"defaultValue":d=O;break;case"children":p=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(a(91));break;default:ut(t,i,w,O,o,null)}Ua(t,u,d,p),xs(t);return;case"option":for(z in o)if(o.hasOwnProperty(z)&&(u=o[z],u!=null))switch(z){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ut(t,i,z,u,o,null)}return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(u=0;u<Nl.length;u++)ke(Nl[u],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in o)if(o.hasOwnProperty(ne)&&(u=o[ne],u!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:ut(t,i,ne,u,o,null)}return;default:if(Ko(i)){for(he in o)o.hasOwnProperty(he)&&(u=o[he],u!==void 0&&Wf(t,i,he,u,o,void 0));return}}for(O in o)o.hasOwnProperty(O)&&(u=o[O],u!=null&&ut(t,i,O,u,o,null))}function H2(t,i,o,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,w=null,O=null,z=null,ne=null,he=null;for(oe in o){var me=o[oe];if(o.hasOwnProperty(oe)&&me!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":z=me;default:u.hasOwnProperty(oe)||ut(t,i,oe,null,u,me)}}for(var se in u){var oe=u[se];if(me=o[se],u.hasOwnProperty(se)&&(oe!=null||me!=null))switch(se){case"type":p=oe;break;case"name":d=oe;break;case"checked":ne=oe;break;case"defaultChecked":he=oe;break;case"value":w=oe;break;case"defaultValue":O=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(a(137,i));break;default:oe!==me&&ut(t,i,se,oe,u,me)}}Bn(t,w,O,z,ne,he,p,d);return;case"select":oe=w=O=se=null;for(p in o)if(z=o[p],o.hasOwnProperty(p)&&z!=null)switch(p){case"value":break;case"multiple":oe=z;default:u.hasOwnProperty(p)||ut(t,i,p,null,u,z)}for(d in u)if(p=u[d],z=o[d],u.hasOwnProperty(d)&&(p!=null||z!=null))switch(d){case"value":se=p;break;case"defaultValue":O=p;break;case"multiple":w=p;default:p!==z&&ut(t,i,d,p,u,z)}i=O,o=w,u=oe,se!=null?oi(t,!!o,se,!1):!!u!=!!o&&(i!=null?oi(t,!!o,i,!0):oi(t,!!o,o?[]:"",!1));return;case"textarea":oe=se=null;for(O in o)if(d=o[O],o.hasOwnProperty(O)&&d!=null&&!u.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:ut(t,i,O,null,u,d)}for(w in u)if(d=u[w],p=o[w],u.hasOwnProperty(w)&&(d!=null||p!=null))switch(w){case"value":se=d;break;case"defaultValue":oe=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==p&&ut(t,i,w,d,u,p)}ot(t,se,oe);return;case"option":for(var Ie in o)if(se=o[Ie],o.hasOwnProperty(Ie)&&se!=null&&!u.hasOwnProperty(Ie))switch(Ie){case"selected":t.selected=!1;break;default:ut(t,i,Ie,null,u,se)}for(z in u)if(se=u[z],oe=o[z],u.hasOwnProperty(z)&&se!==oe&&(se!=null||oe!=null))switch(z){case"selected":t.selected=se&&typeof se!="function"&&typeof se!="symbol";break;default:ut(t,i,z,se,u,oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in o)se=o[Se],o.hasOwnProperty(Se)&&se!=null&&!u.hasOwnProperty(Se)&&ut(t,i,Se,null,u,se);for(ne in u)if(se=u[ne],oe=o[ne],u.hasOwnProperty(ne)&&se!==oe&&(se!=null||oe!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(a(137,i));break;default:ut(t,i,ne,se,u,oe)}return;default:if(Ko(i)){for(var ct in o)se=o[ct],o.hasOwnProperty(ct)&&se!==void 0&&!u.hasOwnProperty(ct)&&Wf(t,i,ct,void 0,u,se);for(he in u)se=u[he],oe=o[he],!u.hasOwnProperty(he)||se===oe||se===void 0&&oe===void 0||Wf(t,i,he,se,u,oe);return}}for(var $ in o)se=o[$],o.hasOwnProperty($)&&se!=null&&!u.hasOwnProperty($)&&ut(t,i,$,null,u,se);for(me in u)se=u[me],oe=o[me],!u.hasOwnProperty(me)||se===oe||se==null&&oe==null||ut(t,i,me,se,u,oe)}var Jf=null,Zf=null;function qc(t){return t.nodeType===9?t:t.ownerDocument}function sv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ov(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function em(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var tm=null;function G2(){var t=window.event;return t&&t.type==="popstate"?t===tm?!1:(tm=t,!0):(tm=null,!1)}var lv=typeof setTimeout=="function"?setTimeout:void 0,Q2=typeof clearTimeout=="function"?clearTimeout:void 0,uv=typeof Promise=="function"?Promise:void 0,K2=typeof queueMicrotask=="function"?queueMicrotask:typeof uv<"u"?function(t){return uv.resolve(null).then(t).catch(Y2)}:lv;function Y2(t){setTimeout(function(){throw t})}function ia(t){return t==="head"}function cv(t,i){var o=i,u=0,d=0;do{var p=o.nextSibling;if(t.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<u&&8>u){o=u;var w=t.ownerDocument;if(o&1&&Ol(w.documentElement),o&2&&Ol(w.body),o&4)for(o=w.head,Ol(o),w=o.firstChild;w;){var O=w.nextSibling,z=w.nodeName;w[Oa]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&w.rel.toLowerCase()==="stylesheet"||o.removeChild(w),w=O}}if(d===0){t.removeChild(p),jl(i);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:u=o.charCodeAt(0)-48;else u=0;o=p}while(o);jl(i)}function nm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":nm(o),qi(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}t.removeChild(o)}}function $2(t,i,o,u){for(;t.nodeType===1;){var d=o;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[Oa])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=Er(t.nextSibling),t===null)break}return null}function X2(t,i,o){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=Er(t.nextSibling),t===null))return null;return t}function rm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function W2(t,i){var o=t.ownerDocument;if(t.data!=="$?"||o.readyState==="complete")i();else{var u=function(){i(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function Er(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var im=null;function hv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return t;i--}else o==="/$"&&i++}t=t.previousSibling}return null}function dv(t,i,o){switch(i=qc(o),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Ol(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);qi(t)}var lr=new Map,fv=new Set;function jc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ri=N.d;N.d={f:J2,r:Z2,D:eA,C:tA,L:nA,m:rA,X:aA,S:iA,M:sA};function J2(){var t=Ri.f(),i=Dc();return t||i}function Z2(t){var i=Cr(t);i!==null&&i.tag===5&&i.type==="form"?Py(i):Ri.r(t)}var co=typeof document>"u"?null:document;function mv(t,i,o){var u=co;if(u&&typeof i=="string"&&i){var d=Vt(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),fv.has(d)||(fv.add(d),t={rel:t,crossOrigin:o,href:i},u.querySelector(d)===null&&(i=u.createElement("link"),gn(i,"link",t),xt(i),u.head.appendChild(i)))}}function eA(t){Ri.D(t),mv("dns-prefetch",t,null)}function tA(t,i){Ri.C(t,i),mv("preconnect",t,i)}function nA(t,i,o){Ri.L(t,i,o);var u=co;if(u&&t&&i){var d='link[rel="preload"][as="'+Vt(i)+'"]';i==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Vt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Vt(o.imageSizes)+'"]')):d+='[href="'+Vt(t)+'"]';var p=d;switch(i){case"style":p=ho(t);break;case"script":p=fo(t)}lr.has(p)||(t=g({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:t,as:i},o),lr.set(p,t),u.querySelector(d)!==null||i==="style"&&u.querySelector(Pl(p))||i==="script"&&u.querySelector(Ml(p))||(i=u.createElement("link"),gn(i,"link",t),xt(i),u.head.appendChild(i)))}}function rA(t,i){Ri.m(t,i);var o=co;if(o&&t){var u=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+Vt(u)+'"][href="'+Vt(t)+'"]',p=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=fo(t)}if(!lr.has(p)&&(t=g({rel:"modulepreload",href:t},i),lr.set(p,t),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ml(p)))return}u=o.createElement("link"),gn(u,"link",t),xt(u),o.head.appendChild(u)}}}function iA(t,i,o){Ri.S(t,i,o);var u=co;if(u&&t){var d=Nn(u).hoistableStyles,p=ho(t);i=i||"default";var w=d.get(p);if(!w){var O={loading:0,preload:null};if(w=u.querySelector(Pl(p)))O.loading=5;else{t=g({rel:"stylesheet",href:t,"data-precedence":i},o),(o=lr.get(p))&&am(t,o);var z=w=u.createElement("link");xt(z),gn(z,"link",t),z._p=new Promise(function(ne,he){z.onload=ne,z.onerror=he}),z.addEventListener("load",function(){O.loading|=1}),z.addEventListener("error",function(){O.loading|=2}),O.loading|=4,zc(w,i,u)}w={type:"stylesheet",instance:w,count:1,state:O},d.set(p,w)}}}function aA(t,i){Ri.X(t,i);var o=co;if(o&&t){var u=Nn(o).hoistableScripts,d=fo(t),p=u.get(d);p||(p=o.querySelector(Ml(d)),p||(t=g({src:t,async:!0},i),(i=lr.get(d))&&sm(t,i),p=o.createElement("script"),xt(p),gn(p,"link",t),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(d,p))}}function sA(t,i){Ri.M(t,i);var o=co;if(o&&t){var u=Nn(o).hoistableScripts,d=fo(t),p=u.get(d);p||(p=o.querySelector(Ml(d)),p||(t=g({src:t,async:!0,type:"module"},i),(i=lr.get(d))&&sm(t,i),p=o.createElement("script"),xt(p),gn(p,"link",t),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(d,p))}}function pv(t,i,o,u){var d=(d=ge.current)?jc(d):null;if(!d)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=ho(o.href),o=Nn(d).hoistableStyles,u=o.get(i),u||(u={type:"style",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){t=ho(o.href);var p=Nn(d).hoistableStyles,w=p.get(t);if(w||(d=d.ownerDocument||d,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,w),(p=d.querySelector(Pl(t)))&&!p._p&&(w.instance=p,w.state.loading=5),lr.has(t)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},lr.set(t,o),p||oA(d,t,o,w.state))),i&&u===null)throw Error(a(528,""));return w}if(i&&u!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=fo(o),o=Nn(d).hoistableScripts,u=o.get(i),u||(u={type:"script",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ho(t){return'href="'+Vt(t)+'"'}function Pl(t){return'link[rel="stylesheet"]['+t+"]"}function gv(t){return g({},t,{"data-precedence":t.precedence,precedence:null})}function oA(t,i,o,u){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=t.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),gn(i,"link",o),xt(i),t.head.appendChild(i))}function fo(t){return'[src="'+Vt(t)+'"]'}function Ml(t){return"script[async]"+t}function yv(t,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var u=t.querySelector('style[data-href~="'+Vt(o.href)+'"]');if(u)return i.instance=u,xt(u),u;var d=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),xt(u),gn(u,"style",d),zc(u,o.precedence,t),i.instance=u;case"stylesheet":d=ho(o.href);var p=t.querySelector(Pl(d));if(p)return i.state.loading|=4,i.instance=p,xt(p),p;u=gv(o),(d=lr.get(d))&&am(u,d),p=(t.ownerDocument||t).createElement("link"),xt(p);var w=p;return w._p=new Promise(function(O,z){w.onload=O,w.onerror=z}),gn(p,"link",u),i.state.loading|=4,zc(p,o.precedence,t),i.instance=p;case"script":return p=fo(o.src),(d=t.querySelector(Ml(p)))?(i.instance=d,xt(d),d):(u=o,(d=lr.get(p))&&(u=g({},o),sm(u,d)),t=t.ownerDocument||t,d=t.createElement("script"),xt(d),gn(d,"link",u),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,zc(u,o.precedence,t));return i.instance}function zc(t,i,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,p=d,w=0;w<u.length;w++){var O=u[w];if(O.dataset.precedence===i)p=O;else if(p!==d)break}p?p.parentNode.insertBefore(t,p.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(t,i.firstChild))}function am(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function sm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Bc=null;function _v(t,i,o){if(Bc===null){var u=new Map,d=Bc=new Map;d.set(o,u)}else d=Bc,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(t))return u;for(u.set(t,null),o=o.getElementsByTagName(t),d=0;d<o.length;d++){var p=o[d];if(!(p[Oa]||p[Ft]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var w=p.getAttribute(i)||"";w=t+w;var O=u.get(w);O?O.push(p):u.set(w,[p])}}return u}function vv(t,i,o){t=t.ownerDocument||t,t.head.insertBefore(o,i==="title"?t.querySelector("head > title"):null)}function lA(t,i,o){if(o===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Ev(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ll=null;function uA(){}function cA(t,i,o){if(Ll===null)throw Error(a(475));var u=Ll;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=ho(o.href),p=t.querySelector(Pl(d));if(p){t=p._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(u.count++,u=Fc.bind(u),t.then(u,u)),i.state.loading|=4,i.instance=p,xt(p);return}p=t.ownerDocument||t,o=gv(o),(d=lr.get(d))&&am(o,d),p=p.createElement("link"),xt(p);var w=p;w._p=new Promise(function(O,z){w.onload=O,w.onerror=z}),gn(p,"link",o),i.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=Fc.bind(u),t.addEventListener("load",i),t.addEventListener("error",i))}}function hA(){if(Ll===null)throw Error(a(475));var t=Ll;return t.stylesheets&&t.count===0&&om(t,t.stylesheets),0<t.count?function(i){var o=setTimeout(function(){if(t.stylesheets&&om(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(o)}}:null}function Fc(){if(this.count--,this.count===0){if(this.stylesheets)om(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Hc=null;function om(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Hc=new Map,i.forEach(dA,t),Hc=null,Fc.call(t))}function dA(t,i){if(!(i.state.loading&4)){var o=Hc.get(t);if(o)var u=o.get(null);else{o=new Map,Hc.set(t,o);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var w=d[p];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),u=w)}u&&o.set(null,u)}d=i.instance,w=d.getAttribute("data-precedence"),p=o.get(w)||u,p===u&&o.set(null,d),o.set(w,d),this.count++,u=Fc.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),p?p.parentNode.insertBefore(d,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var Vl={$$typeof:H,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function fA(t,i,o,u,d,p,w,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fr(0),this.hiddenUpdates=fr(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function Tv(t,i,o,u,d,p,w,O,z,ne,he,me){return t=new fA(t,i,o,w,O,z,ne,me),i=1,p===!0&&(i|=24),p=Hn(3,null,null,i),t.current=p,p.stateNode=t,i=zd(),i.refCount++,t.pooledCache=i,i.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:i},Gd(p),t}function bv(t){return t?(t=Fs,t):Fs}function Av(t,i,o,u,d,p){d=bv(d),u.context===null?u.context=d:u.pendingContext=d,u=Gi(i),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=Qi(t,u,i),o!==null&&($n(o,t,i),dl(o,t,i))}function Sv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<i?o:i}}function lm(t,i){Sv(t,i),(t=t.alternate)&&Sv(t,i)}function wv(t){if(t.tag===13){var i=Bs(t,67108864);i!==null&&$n(i,t,67108864),lm(t,67108864)}}var Gc=!0;function mA(t,i,o,u){var d=R.T;R.T=null;var p=N.p;try{N.p=2,um(t,i,o,u)}finally{N.p=p,R.T=d}}function pA(t,i,o,u){var d=R.T;R.T=null;var p=N.p;try{N.p=8,um(t,i,o,u)}finally{N.p=p,R.T=d}}function um(t,i,o,u){if(Gc){var d=cm(u);if(d===null)Xf(t,i,u,Qc,o),Cv(t,u);else if(yA(d,t,i,o,u))u.stopPropagation();else if(Cv(t,u),i&4&&-1<gA.indexOf(t)){for(;d!==null;){var p=Cr(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var w=Bt(p.pendingLanes);if(w!==0){var O=p;for(O.pendingLanes|=2,O.entangledLanes|=2;w;){var z=1<<31-yt(w);O.entanglements[1]|=z,w&=~z}zr(p),(rt&6)===0&&(xc=Ve()+500,xl(0))}}break;case 13:O=Bs(p,2),O!==null&&$n(O,p,2),Dc(),lm(p,2)}if(p=cm(u),p===null&&Xf(t,i,u,Qc,o),p===d)break;d=p}d!==null&&u.stopPropagation()}else Xf(t,i,u,null,o)}}function cm(t){return t=Zn(t),hm(t)}var Qc=null;function hm(t){if(Qc=null,t=ii(t),t!==null){var i=l(t);if(i===null)t=null;else{var o=i.tag;if(o===13){if(t=c(i),t!==null)return t;t=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Qc=t,null}function Rv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nt()){case Et:return 2;case At:return 8;case st:case un:return 32;case dt:return 268435456;default:return 32}default:return 32}}var dm=!1,aa=null,sa=null,oa=null,Ul=new Map,kl=new Map,la=[],gA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cv(t,i){switch(t){case"focusin":case"focusout":aa=null;break;case"dragenter":case"dragleave":sa=null;break;case"mouseover":case"mouseout":oa=null;break;case"pointerover":case"pointerout":Ul.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(i.pointerId)}}function ql(t,i,o,u,d,p){return t===null||t.nativeEvent!==p?(t={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[d]},i!==null&&(i=Cr(i),i!==null&&wv(i)),t):(t.eventSystemFlags|=u,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function yA(t,i,o,u,d){switch(i){case"focusin":return aa=ql(aa,t,i,o,u,d),!0;case"dragenter":return sa=ql(sa,t,i,o,u,d),!0;case"mouseover":return oa=ql(oa,t,i,o,u,d),!0;case"pointerover":var p=d.pointerId;return Ul.set(p,ql(Ul.get(p)||null,t,i,o,u,d)),!0;case"gotpointercapture":return p=d.pointerId,kl.set(p,ql(kl.get(p)||null,t,i,o,u,d)),!0}return!1}function Iv(t){var i=ii(t.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=c(o),i!==null){t.blockedOn=i,Du(t.priority,function(){if(o.tag===13){var u=Yn();u=pr(u);var d=Bs(o,u);d!==null&&$n(d,o,u),lm(o,u)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var o=cm(t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);li=u,o.target.dispatchEvent(u),li=null}else return i=Cr(o),i!==null&&wv(i),t.blockedOn=o,!1;i.shift()}return!0}function xv(t,i,o){Kc(t)&&o.delete(i)}function _A(){dm=!1,aa!==null&&Kc(aa)&&(aa=null),sa!==null&&Kc(sa)&&(sa=null),oa!==null&&Kc(oa)&&(oa=null),Ul.forEach(xv),kl.forEach(xv)}function Yc(t,i){t.blockedOn===i&&(t.blockedOn=null,dm||(dm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,_A)))}var $c=null;function Nv(t){$c!==t&&($c=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){$c===t&&($c=null);for(var i=0;i<t.length;i+=3){var o=t[i],u=t[i+1],d=t[i+2];if(typeof u!="function"){if(hm(u||o)===null)continue;break}var p=Cr(o);p!==null&&(t.splice(i,3),i-=3,hf(p,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function jl(t){function i(z){return Yc(z,t)}aa!==null&&Yc(aa,t),sa!==null&&Yc(sa,t),oa!==null&&Yc(oa,t),Ul.forEach(i),kl.forEach(i);for(var o=0;o<la.length;o++){var u=la[o];u.blockedOn===t&&(u.blockedOn=null)}for(;0<la.length&&(o=la[0],o.blockedOn===null);)Iv(o),o.blockedOn===null&&la.shift();if(o=(t.ownerDocument||t).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],p=o[u+1],w=d[Lt]||null;if(typeof p=="function")w||Nv(o);else if(w){var O=null;if(p&&p.hasAttribute("formAction")){if(d=p,w=p[Lt]||null)O=w.formAction;else if(hm(d)!==null)continue}else O=w.action;typeof O=="function"?o[u+1]=O:(o.splice(u,3),u-=3),Nv(o)}}}function fm(t){this._internalRoot=t}Xc.prototype.render=fm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,u=Yn();Av(o,u,t,i,null,null)},Xc.prototype.unmount=fm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Av(t.current,2,null,t,null,null),Dc(),i[Wn]=null}};function Xc(t){this._internalRoot=t}Xc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Tn();t={blockedOn:null,target:t,priority:i};for(var o=0;o<la.length&&i!==0&&i<la[o].priority;o++);la.splice(o,0,t),o===0&&Iv(t)}};var Dv=e.version;if(Dv!=="19.1.1")throw Error(a(527,Dv,"19.1.1"));N.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=m(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var vA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{We=Wc.inject(vA),Fe=Wc}catch{}}return Bl.createRoot=function(t,i){if(!s(t))throw Error(a(299));var o=!1,u="",d=Ky,p=Yy,w=$y,O=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(O=i.unstable_transitionCallbacks)),i=Tv(t,1,!1,null,null,o,u,d,p,w,O,null),t[Wn]=i.current,$f(t),new fm(i)},Bl.hydrateRoot=function(t,i,o){if(!s(t))throw Error(a(299));var u=!1,d="",p=Ky,w=Yy,O=$y,z=null,ne=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(z=o.unstable_transitionCallbacks),o.formState!==void 0&&(ne=o.formState)),i=Tv(t,1,!0,i,o??null,u,d,p,w,O,z,ne),i.context=bv(null),o=i.current,u=Yn(),u=pr(u),d=Gi(u),d.callback=null,Qi(o,d,u),o=u,i.current.lanes=o,en(i,o),zr(i),t[Wn]=i.current,$f(t),new Xc(i)},Bl.version="19.1.1",Bl}var zv;function NA(){if(zv)return gm.exports;zv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),gm.exports=xA(),gm.exports}var DA=NA();const OA=O0(DA);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Bv="popstate";function PA(r={}){function e(a,s){let{pathname:l,search:c,hash:f}=a.location;return Um("",{pathname:l,search:c,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(a,s){return typeof s=="string"?s:ru(s)}return LA(e,n,null,r)}function Yt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Jr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MA(){return Math.random().toString(36).substring(2,10)}function Fv(r,e){return{usr:r.state,key:r.key,idx:e}}function Um(r,e,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?_u(e):e,state:n,key:e&&e.key||a||MA()}}function ru({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function _u(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function LA(r,e,n,a={}){let{window:s=document.defaultView,v5Compat:l=!1}=a,c=s.history,f="POP",m=null,y=g();y==null&&(y=0,c.replaceState({...c.state,idx:y},""));function g(){return(c.state||{idx:null}).idx}function v(){f="POP";let V=g(),k=V==null?null:V-y;y=V,m&&m({action:f,location:q.location,delta:k})}function _(V,k){f="PUSH";let B=Um(q.location,V,k);y=g()+1;let H=Fv(B,y),G=q.createHref(B);try{c.pushState(H,"",G)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;s.location.assign(G)}l&&m&&m({action:f,location:q.location,delta:1})}function A(V,k){f="REPLACE";let B=Um(q.location,V,k);y=g();let H=Fv(B,y),G=q.createHref(B);c.replaceState(H,"",G),l&&m&&m({action:f,location:q.location,delta:0})}function I(V){return VA(V)}let q={get action(){return f},get location(){return r(s,c)},listen(V){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(Bv,v),m=V,()=>{s.removeEventListener(Bv,v),m=null}},createHref(V){return e(s,V)},createURL:I,encodeLocation(V){let k=I(V);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:_,replace:A,go(V){return c.go(V)}};return q}function VA(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Yt(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:ru(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function P0(r,e,n="/"){return UA(r,e,n,!1)}function UA(r,e,n,a){let s=typeof e=="string"?_u(e):e,l=Di(s.pathname||"/",n);if(l==null)return null;let c=M0(r);kA(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let y=$A(l);f=KA(c[m],y,a)}return f}function M0(r,e=[],n=[],a="",s=!1){let l=(c,f,m=s,y)=>{let g={relativePath:y===void 0?c.path||"":y,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(a)&&m)return;Yt(g.relativePath.startsWith(a),`Absolute route path "${g.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(a.length)}let v=xi([a,g.relativePath]),_=n.concat(g);c.children&&c.children.length>0&&(Yt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),M0(c.children,e,_,v,m)),!(c.path==null&&!c.index)&&e.push({path:v,score:GA(v,c.index),routesMeta:_})};return r.forEach((c,f)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))l(c,f);else for(let y of L0(c.path))l(c,f,!0,y)}),e}function L0(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,s=n.endsWith("?"),l=n.replace(/\?$/,"");if(a.length===0)return s?[l,""]:[l];let c=L0(a.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),s&&f.push(...c),f.map(m=>r.startsWith("/")&&m===""?"/":m)}function kA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:QA(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var qA=/^:[\w-]+$/,jA=3,zA=2,BA=1,FA=10,HA=-2,Hv=r=>r==="*";function GA(r,e){let n=r.split("/"),a=n.length;return n.some(Hv)&&(a+=HA),e&&(a+=zA),n.filter(s=>!Hv(s)).reduce((s,l)=>s+(qA.test(l)?jA:l===""?BA:FA),a)}function QA(r,e){return r.length===e.length&&r.slice(0,-1).every((a,s)=>a===e[s])?r[r.length-1]-e[e.length-1]:0}function KA(r,e,n=!1){let{routesMeta:a}=r,s={},l="/",c=[];for(let f=0;f<a.length;++f){let m=a[f],y=f===a.length-1,g=l==="/"?e:e.slice(l.length)||"/",v=Th({path:m.relativePath,caseSensitive:m.caseSensitive,end:y},g),_=m.route;if(!v&&y&&n&&!a[a.length-1].route.index&&(v=Th({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},g)),!v)return null;Object.assign(s,v.params),c.push({params:s,pathname:xi([l,v.pathname]),pathnameBase:ZA(xi([l,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(l=xi([l,v.pathnameBase]))}return c}function Th(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=YA(r.path,r.caseSensitive,r.end),s=e.match(n);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:a.reduce((y,{paramName:g,isOptional:v},_)=>{if(g==="*"){let I=f[_]||"";c=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const A=f[_];return v&&!A?y[g]=void 0:y[g]=(A||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:c,pattern:r}}function YA(r,e=!1,n=!0){Jr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(a.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(a.push({paramName:"*"}),s+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":r!==""&&r!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),a]}function $A(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Di(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function XA(r,e="/"){let{pathname:n,search:a="",hash:s=""}=typeof r=="string"?_u(r):r;return{pathname:n?n.startsWith("/")?n:WA(n,e):e,search:eS(a),hash:tS(s)}}function WA(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Em(r,e,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function V0(r){let e=JA(r);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function U0(r,e,n,a=!1){let s;typeof r=="string"?s=_u(r):(s={...r},Yt(!s.pathname||!s.pathname.includes("?"),Em("?","pathname","search",s)),Yt(!s.pathname||!s.pathname.includes("#"),Em("#","pathname","hash",s)),Yt(!s.search||!s.search.includes("#"),Em("#","search","hash",s)));let l=r===""||s.pathname==="",c=l?"/":s.pathname,f;if(c==null)f=n;else{let v=e.length-1;if(!a&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),v-=1;s.pathname=_.join("/")}f=v>=0?e[v]:"/"}let m=XA(s,f),y=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(y||g)&&(m.pathname+="/"),m}var xi=r=>r.join("/").replace(/\/\/+/g,"/"),ZA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),eS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,tS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function nS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var k0=["POST","PUT","PATCH","DELETE"];new Set(k0);var rS=["GET",...k0];new Set(rS);var Po=le.createContext(null);Po.displayName="DataRouter";var Gh=le.createContext(null);Gh.displayName="DataRouterState";le.createContext(!1);var q0=le.createContext({isTransitioning:!1});q0.displayName="ViewTransition";var iS=le.createContext(new Map);iS.displayName="Fetchers";var aS=le.createContext(null);aS.displayName="Await";var ei=le.createContext(null);ei.displayName="Navigation";var Qh=le.createContext(null);Qh.displayName="Location";var Vi=le.createContext({outlet:null,matches:[],isDataRoute:!1});Vi.displayName="Route";var pp=le.createContext(null);pp.displayName="RouteError";function sS(r,{relative:e}={}){Yt(vu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=le.useContext(ei),{hash:s,pathname:l,search:c}=Eu(r,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:xi([n,l])),a.createHref({pathname:f,search:c,hash:s})}function vu(){return le.useContext(Qh)!=null}function ys(){return Yt(vu(),"useLocation() may be used only in the context of a <Router> component."),le.useContext(Qh).location}var j0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function z0(r){le.useContext(ei).static||le.useLayoutEffect(r)}function B0(){let{isDataRoute:r}=le.useContext(Vi);return r?vS():oS()}function oS(){Yt(vu(),"useNavigate() may be used only in the context of a <Router> component.");let r=le.useContext(Po),{basename:e,navigator:n}=le.useContext(ei),{matches:a}=le.useContext(Vi),{pathname:s}=ys(),l=JSON.stringify(V0(a)),c=le.useRef(!1);return z0(()=>{c.current=!0}),le.useCallback((m,y={})=>{if(Jr(c.current,j0),!c.current)return;if(typeof m=="number"){n.go(m);return}let g=U0(m,JSON.parse(l),s,y.relative==="path");r==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:xi([e,g.pathname])),(y.replace?n.replace:n.push)(g,y.state,y)},[e,n,l,s,r])}le.createContext(null);function Eu(r,{relative:e}={}){let{matches:n}=le.useContext(Vi),{pathname:a}=ys(),s=JSON.stringify(V0(n));return le.useMemo(()=>U0(r,JSON.parse(s),a,e==="path"),[r,s,a,e])}function lS(r,e,n,a,s){Yt(vu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=le.useContext(ei),{matches:c}=le.useContext(Vi),f=c[c.length-1],m=f?f.params:{},y=f?f.pathname:"/",g=f?f.pathnameBase:"/",v=f&&f.route;{let B=v&&v.path||"";F0(y,!v||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let _=ys(),A;A=_;let I=A.pathname||"/",q=I;if(g!=="/"){let B=g.replace(/^\//,"").split("/");q="/"+I.replace(/^\//,"").split("/").slice(B.length).join("/")}let V=P0(r,{pathname:q});return Jr(v||V!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Jr(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),fS(V&&V.map(B=>Object.assign({},B,{params:Object.assign({},m,B.params),pathname:xi([g,l.encodeLocation?l.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?g:xi([g,l.encodeLocation?l.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),c,n,a,s)}function uS(){let r=_S(),e=nS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=le.createElement(le.Fragment,null,le.createElement("p",null,"💿 Hey developer 👋"),le.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",le.createElement("code",{style:l},"ErrorBoundary")," or"," ",le.createElement("code",{style:l},"errorElement")," prop on your route.")),le.createElement(le.Fragment,null,le.createElement("h2",null,"Unexpected Application Error!"),le.createElement("h3",{style:{fontStyle:"italic"}},e),n?le.createElement("pre",{style:s},n):null,c)}var cS=le.createElement(uS,null),hS=class extends le.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?le.createElement(Vi.Provider,{value:this.props.routeContext},le.createElement(pp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dS({routeContext:r,match:e,children:n}){let a=le.useContext(Po);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),le.createElement(Vi.Provider,{value:r},n)}function fS(r,e=[],n=null,a=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let l=r,c=n==null?void 0:n.errors;if(c!=null){let y=l.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);Yt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let f=!1,m=-1;if(n)for(let y=0;y<l.length;y++){let g=l[y];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=y),g.route.id){let{loaderData:v,errors:_}=n,A=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!_||_[g.route.id]===void 0);if(g.route.lazy||A){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((y,g,v)=>{let _,A=!1,I=null,q=null;n&&(_=c&&g.route.id?c[g.route.id]:void 0,I=g.route.errorElement||cS,f&&(m<0&&v===0?(F0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,q=null):m===v&&(A=!0,q=g.route.hydrateFallbackElement||null)));let V=e.concat(l.slice(0,v+1)),k=()=>{let B;return _?B=I:A?B=q:g.route.Component?B=le.createElement(g.route.Component,null):g.route.element?B=g.route.element:B=y,le.createElement(dS,{match:g,routeContext:{outlet:y,matches:V,isDataRoute:n!=null},children:B})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?le.createElement(hS,{location:n.location,revalidation:n.revalidation,component:I,error:_,children:k(),routeContext:{outlet:null,matches:V,isDataRoute:!0},unstable_onError:a}):k()},null)}function gp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mS(r){let e=le.useContext(Po);return Yt(e,gp(r)),e}function pS(r){let e=le.useContext(Gh);return Yt(e,gp(r)),e}function gS(r){let e=le.useContext(Vi);return Yt(e,gp(r)),e}function yp(r){let e=gS(r),n=e.matches[e.matches.length-1];return Yt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function yS(){return yp("useRouteId")}function _S(){var a;let r=le.useContext(pp),e=pS("useRouteError"),n=yp("useRouteError");return r!==void 0?r:(a=e.errors)==null?void 0:a[n]}function vS(){let{router:r}=mS("useNavigate"),e=yp("useNavigate"),n=le.useRef(!1);return z0(()=>{n.current=!0}),le.useCallback(async(s,l={})=>{Jr(n.current,j0),n.current&&(typeof s=="number"?r.navigate(s):await r.navigate(s,{fromRouteId:e,...l}))},[r,e])}var Gv={};function F0(r,e,n){!e&&!Gv[r]&&(Gv[r]=!0,Jr(!1,n))}le.memo(ES);function ES({routes:r,future:e,state:n,unstable_onError:a}){return lS(r,void 0,n,a,e)}function TS({basename:r="/",children:e=null,location:n,navigationType:a="POP",navigator:s,static:l=!1}){Yt(!vu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),f=le.useMemo(()=>({basename:c,navigator:s,static:l,future:{}}),[c,s,l]);typeof n=="string"&&(n=_u(n));let{pathname:m="/",search:y="",hash:g="",state:v=null,key:_="default"}=n,A=le.useMemo(()=>{let I=Di(m,c);return I==null?null:{location:{pathname:I,search:y,hash:g,state:v,key:_},navigationType:a}},[c,m,y,g,v,_,a]);return Jr(A!=null,`<Router basename="${c}"> is not able to match the URL "${m}${y}${g}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:le.createElement(ei.Provider,{value:f},le.createElement(Qh.Provider,{children:e,value:A}))}var lh="get",uh="application/x-www-form-urlencoded";function Kh(r){return r!=null&&typeof r.tagName=="string"}function bS(r){return Kh(r)&&r.tagName.toLowerCase()==="button"}function AS(r){return Kh(r)&&r.tagName.toLowerCase()==="form"}function SS(r){return Kh(r)&&r.tagName.toLowerCase()==="input"}function wS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function RS(r,e){return r.button===0&&(!e||e==="_self")&&!wS(r)}var Jc=null;function CS(){if(Jc===null)try{new FormData(document.createElement("form"),0),Jc=!1}catch{Jc=!0}return Jc}var IS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tm(r){return r!=null&&!IS.has(r)?(Jr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uh}"`),null):r}function xS(r,e){let n,a,s,l,c;if(AS(r)){let f=r.getAttribute("action");a=f?Di(f,e):null,n=r.getAttribute("method")||lh,s=Tm(r.getAttribute("enctype"))||uh,l=new FormData(r)}else if(bS(r)||SS(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||f.getAttribute("action");if(a=m?Di(m,e):null,n=r.getAttribute("formmethod")||f.getAttribute("method")||lh,s=Tm(r.getAttribute("formenctype"))||Tm(f.getAttribute("enctype"))||uh,l=new FormData(f,r),!CS()){let{name:y,type:g,value:v}=r;if(g==="image"){let _=y?`${y}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else y&&l.append(y,v)}}else{if(Kh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=lh,a=null,s=uh,c=r}return l&&s==="text/plain"&&(c=l,l=void 0),{action:a,method:n.toLowerCase(),encType:s,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _p(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function NS(r,e,n){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return a.pathname==="/"?a.pathname=`_root.${n}`:e&&Di(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function DS(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function OS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function PS(r,e,n){let a=await Promise.all(r.map(async s=>{let l=e.routes[s.route.id];if(l){let c=await DS(l,n);return c.links?c.links():[]}return[]}));return US(a.flat(1).filter(OS).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Qv(r,e,n,a,s,l){let c=(m,y)=>n[y]?m.route.id!==n[y].route.id:!0,f=(m,y)=>{var g;return n[y].pathname!==m.pathname||((g=n[y].route.path)==null?void 0:g.endsWith("*"))&&n[y].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,y)=>c(m,y)||f(m,y)):l==="data"?e.filter((m,y)=>{var v;let g=a.routes[m.route.id];if(!g||!g.hasLoader)return!1;if(c(m,y)||f(m,y))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function MS(r,e,{includeHydrateFallback:n}={}){return LS(r.map(a=>{let s=e.routes[a.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function LS(r){return[...new Set(r)]}function VS(r){let e={},n=Object.keys(r).sort();for(let a of n)e[a]=r[a];return e}function US(r,e){let n=new Set;return new Set(e),r.reduce((a,s)=>{let l=JSON.stringify(VS(s));return n.has(l)||(n.add(l),a.push({key:l,link:s})),a},[])}function H0(){let r=le.useContext(Po);return _p(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function kS(){let r=le.useContext(Gh);return _p(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var vp=le.createContext(void 0);vp.displayName="FrameworkContext";function G0(){let r=le.useContext(vp);return _p(r,"You must render this element inside a <HydratedRouter> element"),r}function qS(r,e){let n=le.useContext(vp),[a,s]=le.useState(!1),[l,c]=le.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:y,onMouseLeave:g,onTouchStart:v}=e,_=le.useRef(null);le.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let q=k=>{k.forEach(B=>{c(B.isIntersecting)})},V=new IntersectionObserver(q,{threshold:.5});return _.current&&V.observe(_.current),()=>{V.disconnect()}}},[r]),le.useEffect(()=>{if(a){let q=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(q)}}},[a]);let A=()=>{s(!0)},I=()=>{s(!1),c(!1)};return n?r!=="intent"?[l,_,{}]:[l,_,{onFocus:Fl(f,A),onBlur:Fl(m,I),onMouseEnter:Fl(y,A),onMouseLeave:Fl(g,I),onTouchStart:Fl(v,A)}]:[!1,_,{}]}function Fl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function jS({page:r,...e}){let{router:n}=H0(),a=le.useMemo(()=>P0(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?le.createElement(BS,{page:r,matches:a,...e}):null}function zS(r){let{manifest:e,routeModules:n}=G0(),[a,s]=le.useState([]);return le.useEffect(()=>{let l=!1;return PS(r,e,n).then(c=>{l||s(c)}),()=>{l=!0}},[r,e,n]),a}function BS({page:r,matches:e,...n}){let a=ys(),{manifest:s,routeModules:l}=G0(),{basename:c}=H0(),{loaderData:f,matches:m}=kS(),y=le.useMemo(()=>Qv(r,e,m,s,a,"data"),[r,e,m,s,a]),g=le.useMemo(()=>Qv(r,e,m,s,a,"assets"),[r,e,m,s,a]),v=le.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let I=new Set,q=!1;if(e.forEach(k=>{var H;let B=s.routes[k.route.id];!B||!B.hasLoader||(!y.some(G=>G.route.id===k.route.id)&&k.route.id in f&&((H=l[k.route.id])!=null&&H.shouldRevalidate)||B.hasClientLoader?q=!0:I.add(k.route.id))}),I.size===0)return[];let V=NS(r,c,"data");return q&&I.size>0&&V.searchParams.set("_routes",e.filter(k=>I.has(k.route.id)).map(k=>k.route.id).join(",")),[V.pathname+V.search]},[c,f,a,s,y,e,r,l]),_=le.useMemo(()=>MS(g,s),[g,s]),A=zS(g);return le.createElement(le.Fragment,null,v.map(I=>le.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),_.map(I=>le.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),A.map(({key:I,link:q})=>le.createElement("link",{key:I,nonce:n.nonce,...q})))}function FS(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Q0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Q0&&(window.__reactRouterVersion="7.8.2")}catch{}function HS({basename:r,children:e,window:n}){let a=le.useRef();a.current==null&&(a.current=PA({window:n,v5Compat:!0}));let s=a.current,[l,c]=le.useState({action:s.action,location:s.location}),f=le.useCallback(m=>{le.startTransition(()=>c(m))},[c]);return le.useLayoutEffect(()=>s.listen(f),[s,f]),le.createElement(TS,{basename:r,children:e,location:l.location,navigationType:l.action,navigator:s})}var K0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Y0=le.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:s,reloadDocument:l,replace:c,state:f,target:m,to:y,preventScrollReset:g,viewTransition:v,..._},A){let{basename:I}=le.useContext(ei),q=typeof y=="string"&&K0.test(y),V,k=!1;if(typeof y=="string"&&q&&(V=y,Q0))try{let b=new URL(window.location.href),x=y.startsWith("//")?new URL(b.protocol+y):new URL(y),D=Di(x.pathname,I);x.origin===b.origin&&D!=null?y=D+x.search+x.hash:k=!0}catch{Jr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=sS(y,{relative:s}),[H,G,Z]=qS(a,_),j=YS(y,{replace:c,state:f,target:m,preventScrollReset:g,relative:s,viewTransition:v});function U(b){e&&e(b),b.defaultPrevented||j(b)}let T=le.createElement("a",{..._,...Z,href:V||B,onClick:k||l?e:U,ref:FS(A,G),target:m,"data-discover":!q&&n==="render"?"true":void 0});return H&&!q?le.createElement(le.Fragment,null,T,le.createElement(jS,{page:B})):T});Y0.displayName="Link";var GS=le.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:s=!1,style:l,to:c,viewTransition:f,children:m,...y},g){let v=Eu(c,{relative:y.relative}),_=ys(),A=le.useContext(Gh),{navigator:I,basename:q}=le.useContext(ei),V=A!=null&&ZS(v)&&f===!0,k=I.encodeLocation?I.encodeLocation(v).pathname:v.pathname,B=_.pathname,H=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(B=B.toLowerCase(),H=H?H.toLowerCase():null,k=k.toLowerCase()),H&&q&&(H=Di(H,q)||H);const G=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let Z=B===k||!s&&B.startsWith(k)&&B.charAt(G)==="/",j=H!=null&&(H===k||!s&&H.startsWith(k)&&H.charAt(k.length)==="/"),U={isActive:Z,isPending:j,isTransitioning:V},T=Z?e:void 0,b;typeof a=="function"?b=a(U):b=[a,Z?"active":null,j?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let x=typeof l=="function"?l(U):l;return le.createElement(Y0,{...y,"aria-current":T,className:b,ref:g,style:x,to:c,viewTransition:f},typeof m=="function"?m(U):m)});GS.displayName="NavLink";var QS=le.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:s,state:l,method:c=lh,action:f,onSubmit:m,relative:y,preventScrollReset:g,viewTransition:v,..._},A)=>{let I=WS(),q=JS(f,{relative:y}),V=c.toLowerCase()==="get"?"get":"post",k=typeof f=="string"&&K0.test(f),B=H=>{if(m&&m(H),H.defaultPrevented)return;H.preventDefault();let G=H.nativeEvent.submitter,Z=(G==null?void 0:G.getAttribute("formmethod"))||c;I(G||H.currentTarget,{fetcherKey:e,method:Z,navigate:n,replace:s,state:l,relative:y,preventScrollReset:g,viewTransition:v})};return le.createElement("form",{ref:A,method:V,action:q,onSubmit:a?m:B,..._,"data-discover":!k&&r==="render"?"true":void 0})});QS.displayName="Form";function KS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $0(r){let e=le.useContext(Po);return Yt(e,KS(r)),e}function YS(r,{target:e,replace:n,state:a,preventScrollReset:s,relative:l,viewTransition:c}={}){let f=B0(),m=ys(),y=Eu(r,{relative:l});return le.useCallback(g=>{if(RS(g,e)){g.preventDefault();let v=n!==void 0?n:ru(m)===ru(y);f(r,{replace:v,state:a,preventScrollReset:s,relative:l,viewTransition:c})}},[m,f,y,n,a,e,r,s,l,c])}var $S=0,XS=()=>`__${String(++$S)}__`;function WS(){let{router:r}=$0("useSubmit"),{basename:e}=le.useContext(ei),n=yS();return le.useCallback(async(a,s={})=>{let{action:l,method:c,encType:f,formData:m,body:y}=xS(a,e);if(s.navigate===!1){let g=s.fetcherKey||XS();await r.fetch(g,n,s.action||l,{preventScrollReset:s.preventScrollReset,formData:m,body:y,formMethod:s.method||c,formEncType:s.encType||f,flushSync:s.flushSync})}else await r.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:m,body:y,formMethod:s.method||c,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,e,n])}function JS(r,{relative:e}={}){let{basename:n}=le.useContext(ei),a=le.useContext(Vi);Yt(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),l={...Eu(r||".",{relative:e})},c=ys();if(r==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(g=>g==="")){f.delete("index"),m.filter(v=>v).forEach(v=>f.append("index",v));let g=f.toString();l.search=g?`?${g}`:""}}return(!r||r===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:xi([n,l.pathname])),ru(l)}function ZS(r,{relative:e}={}){let n=le.useContext(q0);Yt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=$0("useViewTransitionState"),s=Eu(r,{relative:e});if(!n.isTransitioning)return!1;let l=Di(n.currentLocation.pathname,a)||n.currentLocation.pathname,c=Di(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Th(s.pathname,c)!=null||Th(s.pathname,l)!=null}const ew=()=>{};var Kv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let s=r.charCodeAt(a);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(s=65536+((s&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},tw=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const s=r[n++];if(s<128)e[a++]=String.fromCharCode(s);else if(s>191&&s<224){const l=r[n++];e[a++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=r[n++],c=r[n++],f=r[n++],m=((s&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[a++]=String.fromCharCode(55296+(m>>10)),e[a++]=String.fromCharCode(56320+(m&1023))}else{const l=r[n++],c=r[n++];e[a++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return e.join("")},W0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let s=0;s<r.length;s+=3){const l=r[s],c=s+1<r.length,f=c?r[s+1]:0,m=s+2<r.length,y=m?r[s+2]:0,g=l>>2,v=(l&3)<<4|f>>4;let _=(f&15)<<2|y>>6,A=y&63;m||(A=64,c||(_=64)),a.push(n[g],n[v],n[_],n[A])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(X0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):tw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let s=0;s<r.length;){const l=n[r.charAt(s++)],f=s<r.length?n[r.charAt(s)]:0;++s;const y=s<r.length?n[r.charAt(s)]:64;++s;const v=s<r.length?n[r.charAt(s)]:64;if(++s,l==null||f==null||y==null||v==null)throw new nw;const _=l<<2|f>>4;if(a.push(_),y!==64){const A=f<<4&240|y>>2;if(a.push(A),v!==64){const I=y<<6&192|v;a.push(I)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class nw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rw=function(r){const e=X0(r);return W0.encodeByteArray(e,!0)},bh=function(r){return rw(r).replace(/\./g,"")},J0=function(r){try{return W0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=()=>iw().__FIREBASE_DEFAULTS__,sw=()=>{if(typeof process>"u"||typeof Kv>"u")return;const r=Kv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ow=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&J0(r[1]);return e&&JSON.parse(e)},Yh=()=>{try{return ew()||aw()||sw()||ow()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Z0=r=>{var e,n;return(n=(e=Yh())==null?void 0:e.emulatorHosts)==null?void 0:n[r]},eE=r=>{const e=Z0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},tE=()=>{var r;return(r=Yh())==null?void 0:r.config},nE=r=>{var e;return(e=Yh())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ep(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",s=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${a}`,aud:a,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[bh(JSON.stringify(n)),bh(JSON.stringify(c)),""].join(".")}const Xl={};function uw(){const r={prod:[],emulator:[]};for(const e of Object.keys(Xl))Xl[e]?r.emulator.push(e):r.prod.push(e);return r}function cw(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Yv=!1;function Tp(r,e){if(typeof window>"u"||typeof document>"u"||!Na(window.location.host)||Xl[r]===e||Xl[r]||Yv)return;Xl[r]=e;function n(_){return`__firebase__banner__${_}`}const a="__firebase__banner",l=uw().prod.length>0;function c(){const _=document.getElementById(a);_&&_.remove()}function f(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function m(_,A){_.setAttribute("width","24"),_.setAttribute("id",A),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function y(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{Yv=!0,c()},_}function g(_,A){_.setAttribute("id",A),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function v(){const _=cw(a),A=n("text"),I=document.getElementById(A)||document.createElement("span"),q=n("learnmore"),V=document.getElementById(q)||document.createElement("a"),k=n("preprendIcon"),B=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const H=_.element;f(H),g(V,q);const G=y();m(B,k),H.append(B,I,V,G),document.body.appendChild(H)}l?(I.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}function dw(){var e;const r=(e=Yh())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function pw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gw(){const r=Cn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function yw(){return!dw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _w(){try{return typeof indexedDB=="object"}catch{return!1}}function vw(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(a);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var l;e(((l=s.error)==null?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="FirebaseError";class ti extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=Ew,Object.setPrototypeOf(this,ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tu.prototype.create)}}class Tu{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},s=`${this.service}/${e}`,l=this.errors[e],c=l?Tw(l,a):"Error",f=`${this.serviceName}: ${c} (${s}).`;return new ti(s,f,a)}}function Tw(r,e){return r.replace(bw,(n,a)=>{const s=e[a];return s!=null?String(s):`<${a}?>`})}const bw=/\{\$([^}]+)}/g;function Aw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function hs(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const s of n){if(!a.includes(s))return!1;const l=r[s],c=e[s];if($v(l)&&$v(c)){if(!hs(l,c))return!1}else if(l!==c)return!1}for(const s of a)if(!n.includes(s))return!1;return!0}function $v(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Gl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[s,l]=a.split("=");e[decodeURIComponent(s)]=decodeURIComponent(l)}}),e}function Ql(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function Sw(r,e){const n=new ww(r,e);return n.subscribe.bind(n)}class ww{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let s;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");Rw(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:a},s.next===void 0&&(s.next=bm),s.error===void 0&&(s.error=bm),s.complete===void 0&&(s.complete=bm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Rw(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function bm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(r){return r&&r._delegate?r._delegate:r}class Aa{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new lw;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&a.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(a)return null;throw s}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xw(e))try{this.getOrInitializeService({instanceIdentifier:os})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:s});a.resolve(l)}catch{}}}}clearInstance(e=os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=os){return this.instances.has(e)}getOptions(e=os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);a===f&&c.resolve(s)}return s}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(a)??new Set;s.add(e),this.onInitCallbacks.set(a,s);const l=this.instances.get(a);return l&&e(l,a),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const s of a)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Iw(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=os){return this.component?this.component.multipleInstances?e:os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Iw(r){return r===os?void 0:r}function xw(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Cw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(qe||(qe={}));const Dw={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},Ow=qe.INFO,Pw={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},Mw=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),s=Pw[e];if(s)console[s](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bp{constructor(e){this.name=e,this._logLevel=Ow,this._logHandler=Mw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Dw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const Lw=(r,e)=>e.some(n=>r instanceof n);let Xv,Wv;function Vw(){return Xv||(Xv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Uw(){return Wv||(Wv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iE=new WeakMap,km=new WeakMap,aE=new WeakMap,Am=new WeakMap,Ap=new WeakMap;function kw(r){const e=new Promise((n,a)=>{const s=()=>{r.removeEventListener("success",l),r.removeEventListener("error",c)},l=()=>{n(ya(r.result)),s()},c=()=>{a(r.error),s()};r.addEventListener("success",l),r.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&iE.set(n,r)}).catch(()=>{}),Ap.set(e,r),e}function qw(r){if(km.has(r))return;const e=new Promise((n,a)=>{const s=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",c),r.removeEventListener("abort",c)},l=()=>{n(),s()},c=()=>{a(r.error||new DOMException("AbortError","AbortError")),s()};r.addEventListener("complete",l),r.addEventListener("error",c),r.addEventListener("abort",c)});km.set(r,e)}let qm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return km.get(r);if(e==="objectStoreNames")return r.objectStoreNames||aE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ya(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function jw(r){qm=r(qm)}function zw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(Sm(this),e,...n);return aE.set(a,e.sort?e.sort():[e]),ya(a)}:Uw().includes(r)?function(...e){return r.apply(Sm(this),e),ya(iE.get(this))}:function(...e){return ya(r.apply(Sm(this),e))}}function Bw(r){return typeof r=="function"?zw(r):(r instanceof IDBTransaction&&qw(r),Lw(r,Vw())?new Proxy(r,qm):r)}function ya(r){if(r instanceof IDBRequest)return kw(r);if(Am.has(r))return Am.get(r);const e=Bw(r);return e!==r&&(Am.set(r,e),Ap.set(e,r)),e}const Sm=r=>Ap.get(r);function Fw(r,e,{blocked:n,upgrade:a,blocking:s,terminated:l}={}){const c=indexedDB.open(r,e),f=ya(c);return a&&c.addEventListener("upgradeneeded",m=>{a(ya(c.result),m.oldVersion,m.newVersion,ya(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),s&&m.addEventListener("versionchange",y=>s(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const Hw=["get","getKey","getAll","getAllKeys","count"],Gw=["put","add","delete","clear"],wm=new Map;function Jv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(wm.get(e))return wm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,s=Gw.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(s||Hw.includes(n)))return;const l=async function(c,...f){const m=this.transaction(c,s?"readwrite":"readonly");let y=m.store;return a&&(y=y.index(f.shift())),(await Promise.all([y[n](...f),s&&m.done]))[0]};return wm.set(e,l),l}jw(r=>({...r,get:(e,n,a)=>Jv(e,n)||r.get(e,n,a),has:(e,n)=>!!Jv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Kw(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function Kw(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jm="@firebase/app",Zv="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new bp("@firebase/app"),Yw="@firebase/app-compat",$w="@firebase/analytics-compat",Xw="@firebase/analytics",Ww="@firebase/app-check-compat",Jw="@firebase/app-check",Zw="@firebase/auth",eR="@firebase/auth-compat",tR="@firebase/database",nR="@firebase/data-connect",rR="@firebase/database-compat",iR="@firebase/functions",aR="@firebase/functions-compat",sR="@firebase/installations",oR="@firebase/installations-compat",lR="@firebase/messaging",uR="@firebase/messaging-compat",cR="@firebase/performance",hR="@firebase/performance-compat",dR="@firebase/remote-config",fR="@firebase/remote-config-compat",mR="@firebase/storage",pR="@firebase/storage-compat",gR="@firebase/firestore",yR="@firebase/ai",_R="@firebase/firestore-compat",vR="firebase",ER="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="[DEFAULT]",TR={[jm]:"fire-core",[Yw]:"fire-core-compat",[Xw]:"fire-analytics",[$w]:"fire-analytics-compat",[Jw]:"fire-app-check",[Ww]:"fire-app-check-compat",[Zw]:"fire-auth",[eR]:"fire-auth-compat",[tR]:"fire-rtdb",[nR]:"fire-data-connect",[rR]:"fire-rtdb-compat",[iR]:"fire-fn",[aR]:"fire-fn-compat",[sR]:"fire-iid",[oR]:"fire-iid-compat",[lR]:"fire-fcm",[uR]:"fire-fcm-compat",[cR]:"fire-perf",[hR]:"fire-perf-compat",[dR]:"fire-rc",[fR]:"fire-rc-compat",[mR]:"fire-gcs",[pR]:"fire-gcs-compat",[gR]:"fire-fst",[_R]:"fire-fst-compat",[yR]:"fire-vertex","fire-js":"fire-js",[vR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new Map,bR=new Map,Bm=new Map;function e1(r,e){try{r.container.addComponent(e)}catch(n){Oi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ds(r){const e=r.name;if(Bm.has(e))return Oi.debug(`There were multiple attempts to register component ${e}.`),!1;Bm.set(e,r);for(const n of Ah.values())e1(n,r);for(const n of bR.values())e1(n,r);return!0}function $h(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function ur(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_a=new Tu("app","Firebase",AR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _a.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=ER;function sE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a={name:zm,automaticDataCollectionEnabled:!0,...e},s=a.name;if(typeof s!="string"||!s)throw _a.create("bad-app-name",{appName:String(s)});if(n||(n=tE()),!n)throw _a.create("no-options");const l=Ah.get(s);if(l){if(hs(n,l.options)&&hs(a,l.config))return l;throw _a.create("duplicate-app",{appName:s})}const c=new Nw(s);for(const m of Bm.values())c.addComponent(m);const f=new SR(n,a,c);return Ah.set(s,f),f}function Sp(r=zm){const e=Ah.get(r);if(!e&&r===zm&&tE())return sE();if(!e)throw _a.create("no-app",{appName:r});return e}function Gr(r,e,n){let a=TR[r]??r;n&&(a+=`-${n}`);const s=a.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const c=[`Unable to register library "${a}" with version "${e}":`];s&&c.push(`library name "${a}" contains illegal characters (whitespace or "/")`),s&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oi.warn(c.join(" "));return}ds(new Aa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR="firebase-heartbeat-database",RR=1,iu="firebase-heartbeat-store";let Rm=null;function oE(){return Rm||(Rm=Fw(wR,RR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(iu)}catch(n){console.warn(n)}}}}).catch(r=>{throw _a.create("idb-open",{originalErrorMessage:r.message})})),Rm}async function CR(r){try{const n=(await oE()).transaction(iu),a=await n.objectStore(iu).get(lE(r));return await n.done,a}catch(e){if(e instanceof ti)Oi.warn(e.message);else{const n=_a.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Oi.warn(n.message)}}}async function t1(r,e){try{const a=(await oE()).transaction(iu,"readwrite");await a.objectStore(iu).put(e,lE(r)),await a.done}catch(n){if(n instanceof ti)Oi.warn(n.message);else{const a=_a.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Oi.warn(a.message)}}}function lE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=1024,xR=30;class NR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OR(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=n1();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats.length>xR){const c=PR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Oi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=n1(),{heartbeatsToSend:a,unsentEntries:s}=DR(this._heartbeatsCache.heartbeats),l=bh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Oi.warn(n),""}}}function n1(){return new Date().toISOString().substring(0,10)}function DR(r,e=IR){const n=[];let a=r.slice();for(const s of r){const l=n.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),r1(n)>e){l.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),r1(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class OR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _w()?vw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await CR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return t1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return t1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function r1(r){return bh(JSON.stringify({version:2,heartbeats:r})).length}function PR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(r){ds(new Aa("platform-logger",e=>new Qw(e),"PRIVATE")),ds(new Aa("heartbeat",e=>new NR(e),"PRIVATE")),Gr(jm,Zv,r),Gr(jm,Zv,"esm2020"),Gr("fire-js","")}MR("");var LR="firebase",VR="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gr(LR,VR,"app");function uE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UR=uE,cE=new Tu("auth","Firebase",uE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new bp("@firebase/auth");function kR(r,...e){Sh.logLevel<=qe.WARN&&Sh.warn(`Auth (${_s}): ${r}`,...e)}function ch(r,...e){Sh.logLevel<=qe.ERROR&&Sh.error(`Auth (${_s}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(r,...e){throw wp(r,...e)}function Qr(r,...e){return wp(r,...e)}function hE(r,e,n){const a={...UR(),[e]:n};return new Tu("auth","Firebase",a).create(e,{appName:r.name})}function va(r){return hE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wp(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return cE.create(r,...e)}function Re(r,e,...n){if(!r)throw wp(e,...n)}function Ci(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ch(e),new Error(e)}function Pi(r,e){r||Ci(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function qR(){return i1()==="http:"||i1()==="https:"}function i1(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qR()||mw()||"connection"in navigator)?navigator.onLine:!0}function zR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pi(n>e,"Short delay should be less than long delay!"),this.isMobile=hw()||pw()}get(){return jR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(r,e){Pi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HR=new Au(3e4,6e4);function vs(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Da(r,e,n,a,s={}){return fE(r,s,async()=>{let l={},c={};a&&(e==="GET"?c=a:l={body:JSON.stringify(a)});const f=bu({key:r.config.apiKey,...c}).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:m,...l};return fw()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Na(r.emulatorConfig.host)&&(y.credentials="include"),dE.fetch()(await mE(r,r.config.apiHost,n,f),y)})}async function fE(r,e,n){r._canInitEmulator=!1;const a={...BR,...e};try{const s=new QR(r),l=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Zc(r,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,y]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zc(r,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Zc(r,"email-already-in-use",c);if(m==="USER_DISABLED")throw Zc(r,"user-disabled",c);const g=a[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw hE(r,g,y);Sr(r,g)}}catch(s){if(s instanceof ti)throw s;Sr(r,"network-request-failed",{message:String(s)})}}async function Xh(r,e,n,a,s={}){const l=await Da(r,e,n,a,s);return"mfaPendingCredential"in l&&Sr(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function mE(r,e,n,a){const s=`${e}${n}?${a}`,l=r,c=l.config.emulator?Rp(r.config,s):`${r.config.apiScheme}://${s}`;return FR.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function GR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class QR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Qr(this.auth,"network-request-failed")),HR.get())})}}function Zc(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const s=Qr(r,e,a);return s.customData._tokenResponse=n,s}function a1(r){return r!==void 0&&r.enterprise!==void 0}class KR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return GR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function YR(r,e){return Da(r,"GET","/v2/recaptchaConfig",vs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $R(r,e){return Da(r,"POST","/v1/accounts:delete",e)}async function wh(r,e){return Da(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XR(r,e=!1){const n=Xt(r),a=await n.getIdToken(e),s=Cp(a);Re(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:s,token:a,authTime:Wl(Cm(s.auth_time)),issuedAtTime:Wl(Cm(s.iat)),expirationTime:Wl(Cm(s.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Cm(r){return Number(r)*1e3}function Cp(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const s=J0(n);return s?JSON.parse(s):(ch("Failed to decode base64 JWT payload"),null)}catch(s){return ch("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function s1(r){const e=Cp(r);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof ti&&WR(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function WR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wl(this.lastLoginAt),this.creationTime=Wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rh(r){var v;const e=r.auth,n=await r.getIdToken(),a=await au(r,wh(e,{idToken:n}));Re(a==null?void 0:a.users.length,e,"internal-error");const s=a.users[0];r._notifyReloadListener(s);const l=(v=s.providerUserInfo)!=null&&v.length?pE(s.providerUserInfo):[],c=eC(r.providerData,l),f=r.isAnonymous,m=!(r.email&&s.passwordHash)&&!(c!=null&&c.length),y=f?m:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Hm(s.createdAt,s.lastLoginAt),isAnonymous:y};Object.assign(r,g)}async function ZR(r){const e=Xt(r);await Rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eC(r,e){return[...r.filter(a=>!e.some(s=>s.providerId===a.providerId)),...e]}function pE(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tC(r,e){const n=await fE(r,{},async()=>{const a=bu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:l}=r.config,c=await mE(r,s,"/v1/token",`key=${l}`),f=await r._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:a};return r.emulatorConfig&&Na(r.emulatorConfig.host)&&(m.credentials="include"),dE.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nC(r,e){return Da(r,"POST","/v2/accounts:revokeToken",vs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):s1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=s1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:s,expiresIn:l}=await tC(e,n);this.updateTokensAndExpiration(a,s,Number(l))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:s,expirationTime:l}=n,c=new Eo;return a&&(Re(typeof a=="string","internal-error",{appName:e}),c.refreshToken=a),s&&(Re(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),l&&(Re(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Eo,this.toJSON())}_performRefresh(){return Ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(r,e){Re(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class br{constructor({uid:e,auth:n,stsTokenManager:a,...s}){this.providerId="firebase",this.proactiveRefresh=new JR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Hm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await au(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return XR(this,e)}reload(){return ZR(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new br({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Rh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ur(this.auth.app))return Promise.reject(va(this.auth));const e=await this.getIdToken();return await au(this,$R(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,s=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,f=n.tenantId??void 0,m=n._redirectEventId??void 0,y=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:v,emailVerified:_,isAnonymous:A,providerData:I,stsTokenManager:q}=n;Re(v&&q,e,"internal-error");const V=Eo.fromJSON(this.name,q);Re(typeof v=="string",e,"internal-error"),ca(a,e.name),ca(s,e.name),Re(typeof _=="boolean",e,"internal-error"),Re(typeof A=="boolean",e,"internal-error"),ca(l,e.name),ca(c,e.name),ca(f,e.name),ca(m,e.name),ca(y,e.name),ca(g,e.name);const k=new br({uid:v,auth:e,email:s,emailVerified:_,displayName:a,isAnonymous:A,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:V,createdAt:y,lastLoginAt:g});return I&&Array.isArray(I)&&(k.providerData=I.map(B=>({...B}))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,n,a=!1){const s=new Eo;s.updateFromServerResponse(n);const l=new br({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:a});return await Rh(l),l}static async _fromGetAccountInfoResponse(e,n,a){const s=n.users[0];Re(s.localId!==void 0,"internal-error");const l=s.providerUserInfo!==void 0?pE(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!(l!=null&&l.length),f=new Eo;f.updateFromIdToken(a);const m=new br({uid:s.localId,auth:e,stsTokenManager:f,isAnonymous:c}),y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Hm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,y),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=new Map;function Ii(r){Pi(r instanceof Function,"Expected a class definition");let e=o1.get(r);return e?(Pi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,o1.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gE.type="NONE";const l1=gE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(r,e,n){return`firebase:${r}:${e}:${n}`}class To{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:s,name:l}=this.auth;this.fullUserKey=hh(this.userKey,s.apiKey,l),this.fullPersistenceKey=hh("persistence",s.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await wh(this.auth,{idToken:e}).catch(()=>{});return n?br._fromGetAccountInfoResponse(this.auth,n,e):null}return br._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new To(Ii(l1),e,a);const s=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=s[0]||Ii(l1);const c=hh(a,e.config.apiKey,e.name);let f=null;for(const y of n)try{const g=await y._get(c);if(g){let v;if(typeof g=="string"){const _=await wh(e,{idToken:g}).catch(()=>{});if(!_)break;v=await br._fromGetAccountInfoResponse(e,_,g)}else v=br._fromJSON(e,g);y!==l&&(f=v),l=y;break}}catch{}const m=s.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new To(l,e,a):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async y=>{if(y!==l)try{await y._remove(c)}catch{}})),new To(l,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(EE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bE(e))return"Blackberry";if(AE(e))return"Webos";if(_E(e))return"Safari";if((e.includes("chrome/")||vE(e))&&!e.includes("edge/"))return"Chrome";if(TE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function yE(r=Cn()){return/firefox\//i.test(r)}function _E(r=Cn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vE(r=Cn()){return/crios\//i.test(r)}function EE(r=Cn()){return/iemobile/i.test(r)}function TE(r=Cn()){return/android/i.test(r)}function bE(r=Cn()){return/blackberry/i.test(r)}function AE(r=Cn()){return/webos/i.test(r)}function Ip(r=Cn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function rC(r=Cn()){var e;return Ip(r)&&!!((e=window.navigator)!=null&&e.standalone)}function iC(){return gw()&&document.documentMode===10}function SE(r=Cn()){return Ip(r)||TE(r)||AE(r)||bE(r)||/windows phone/i.test(r)||EE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(r,e=[]){let n;switch(r){case"Browser":n=u1(Cn());break;case"Worker":n=`${u1(Cn())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_s}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});a.onAbort=n,this.queue.push(a);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sC(r,e={}){return Da(r,"GET","/v2/passwordPolicy",vs(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=6;class lC{constructor(e){var a;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??oC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((a=e.allowedNonAlphanumericCharacters)==null?void 0:a.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let s=0;s<e.length;s++)a=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,s,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,n,a,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new c1(this),this.idTokenSubscription=new c1(this),this.beforeStateQueue=new aC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ii(n)),this._initializationPromise=this.queue(async()=>{var a,s,l;if(!this._deleted&&(this.persistenceManager=await To.create(this,e),(a=this._resolvePersistenceManagerAvailable)==null||a.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await wh(this,{idToken:e}),a=await br._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(ur(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,f=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===f)&&(m!=null&&m.user)&&(a=m.user,s=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ur(this.app))return Promise.reject(va(this));const n=e?Xt(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ur(this.app)?Promise.reject(va(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ur(this.app)?Promise.reject(va(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sC(this),n=new lC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tu("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await nC(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ii(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await To.create(this,[Ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)==null?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,s){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,a,s);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){var n;if(ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&kR(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Mo(r){return Xt(r)}class c1{constructor(e){this.auth=e,this.observer=null,this.addObserver=Sw(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cC(r){Wh=r}function RE(r){return Wh.loadJS(r)}function hC(){return Wh.recaptchaEnterpriseScript}function dC(){return Wh.gapiScript}function fC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class mC{constructor(){this.enterprise=new pC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class pC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const gC="recaptcha-enterprise",CE="NO_RECAPTCHA";class yC{constructor(e){this.type=gC,this.auth=Mo(e)}async verify(e="verify",n=!1){async function a(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{YR(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const y=new KR(m);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,c(y.siteKey)}}).catch(m=>{f(m)})})}function s(l,c,f){const m=window.grecaptcha;a1(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(y=>{c(y)}).catch(()=>{c(CE)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mC().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{a(this.auth).then(f=>{if(!n&&a1(window.grecaptcha))s(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=hC();m.length!==0&&(m+=f),RE(m).then(()=>{s(f,l,c)}).catch(y=>{c(y)})}}).catch(f=>{c(f)})})}}async function h1(r,e,n,a=!1,s=!1){const l=new yC(r);let c;if(s)c=CE;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const f={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,y=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:y,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return a?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function d1(r,e,n,a,s){var l;if((l=r._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await h1(r,e,n,n==="getOobCode");return a(r,c)}else return a(r,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await h1(r,e,n,n==="getOobCode");return a(r,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(r,e){const n=$h(r,"auth");if(n.isInitialized()){const s=n.getImmediate(),l=n.getOptions();if(hs(l,e??{}))return s;Sr(s,"already-initialized")}return n.initialize({options:e})}function vC(r,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(Ii);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function EC(r,e,n){const a=Mo(r);Re(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const s=!1,l=IE(e),{host:c,port:f}=TC(e),m=f===null?"":`:${f}`,y={url:`${l}//${c}${m}/`},g=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!a._canInitEmulator){Re(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Re(hs(y,a.config.emulator)&&hs(g,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=g,a.settings.appVerificationDisabledForTesting=!0,Na(c)?(Ep(`${l}//${c}${m}`),Tp("Auth",!0)):bC()}function IE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function TC(r){const e=IE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(a);if(s){const l=s[1];return{host:l,port:f1(a.substr(l.length+1))}}else{const[l,c]=a.split(":");return{host:l,port:f1(c)}}}function f1(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function bC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ci("not implemented")}_getIdTokenResponse(e){return Ci("not implemented")}_linkToIdToken(e,n){return Ci("not implemented")}_getReauthenticationResolver(e){return Ci("not implemented")}}async function AC(r,e){return Da(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SC(r,e){return Xh(r,"POST","/v1/accounts:signInWithPassword",vs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wC(r,e){return Xh(r,"POST","/v1/accounts:signInWithEmailLink",vs(r,e))}async function RC(r,e){return Xh(r,"POST","/v1/accounts:signInWithEmailLink",vs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends xp{constructor(e,n,a,s=null){super("password",a),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new su(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new su(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return d1(e,n,"signInWithPassword",SC);case"emailLink":return wC(e,{email:this._email,oobCode:this._password});default:Sr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return d1(e,a,"signUpPassword",AC);case"emailLink":return RC(e,{idToken:n,email:this._email,oobCode:this._password});default:Sr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(r,e){return Xh(r,"POST","/v1/accounts:signInWithIdp",vs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="http://localhost";class fs extends xp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Sr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:s,...l}=n;if(!a||!s)return null;const c=new fs(a,s);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return bo(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,bo(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bo(e,n)}buildRequest(){const e={requestUri:CC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=bu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xC(r){const e=Gl(Ql(r)).link,n=e?Gl(Ql(e)).deep_link_id:null,a=Gl(Ql(r)).deep_link_id;return(a?Gl(Ql(a)).link:null)||a||n||e||r}class Np{constructor(e){const n=Gl(Ql(e)),a=n.apiKey??null,s=n.oobCode??null,l=IC(n.mode??null);Re(a&&s&&l,"argument-error"),this.apiKey=a,this.operation=l,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=xC(e);try{return new Np(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.providerId=Lo.PROVIDER_ID}static credential(e,n){return su._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=Np.parseLink(n);return Re(a,"argument-error"),su._fromEmailAndCode(e,a.code,a.tenantId)}}Lo.PROVIDER_ID="password";Lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends xE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha extends Su{constructor(){super("facebook.com")}static credential(e){return fs._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ha.credentialFromTaggedObject(e)}static credentialFromError(e){return ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ha.credential(e.oauthAccessToken)}catch{return null}}}ha.FACEBOOK_SIGN_IN_METHOD="facebook.com";ha.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da extends Su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fs._fromParams({providerId:da.PROVIDER_ID,signInMethod:da.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return da.credentialFromTaggedObject(e)}static credentialFromError(e){return da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return da.credential(n,a)}catch{return null}}}da.GOOGLE_SIGN_IN_METHOD="google.com";da.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa extends Su{constructor(){super("github.com")}static credential(e){return fs._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fa.credentialFromTaggedObject(e)}static credentialFromError(e){return fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fa.credential(e.oauthAccessToken)}catch{return null}}}fa.GITHUB_SIGN_IN_METHOD="github.com";fa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma extends Su{constructor(){super("twitter.com")}static credential(e,n){return fs._fromParams({providerId:ma.PROVIDER_ID,signInMethod:ma.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ma.credentialFromTaggedObject(e)}static credentialFromError(e){return ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return ma.credential(n,a)}catch{return null}}}ma.TWITTER_SIGN_IN_METHOD="twitter.com";ma.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,s=!1){const l=await br._fromIdTokenResponse(e,a,s),c=m1(a);return new Ro({user:l,providerId:c,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const s=m1(a);return new Ro({user:e,providerId:s,_tokenResponse:a,operationType:n})}}function m1(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch extends ti{constructor(e,n,a,s){super(n.code,n.message),this.operationType=a,this.user=s,Object.setPrototypeOf(this,Ch.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,s){return new Ch(e,n,a,s)}}function NE(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Ch._fromErrorAndOperation(r,l,e,a):l})}async function NC(r,e,n=!1){const a=await au(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Ro._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DC(r,e,n=!1){const{auth:a}=r;if(ur(a.app))return Promise.reject(va(a));const s="reauthenticate";try{const l=await au(r,NE(a,s,e,r),n);Re(l.idToken,a,"internal-error");const c=Cp(l.idToken);Re(c,a,"internal-error");const{sub:f}=c;return Re(r.uid===f,a,"user-mismatch"),Ro._forOperation(r,s,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Sr(a,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DE(r,e,n=!1){if(ur(r.app))return Promise.reject(va(r));const a="signIn",s=await NE(r,a,e),l=await Ro._fromIdTokenResponse(r,a,s);return n||await r._updateCurrentUser(l.user),l}async function OC(r,e){return DE(Mo(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PC(r){const e=Mo(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function MC(r,e,n){return ur(r.app)?Promise.reject(va(r)):OC(Xt(r),Lo.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&PC(r),a})}function LC(r,e,n,a){return Xt(r).onIdTokenChanged(e,n,a)}function VC(r,e,n){return Xt(r).beforeAuthStateChanged(e,n)}function Dp(r,e,n,a){return Xt(r).onAuthStateChanged(e,n,a)}function UC(r){return Xt(r).signOut()}const Ih="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ih,"1"),this.storage.removeItem(Ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=1e3,qC=10;class PE extends OE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),s=this.localCache[n];a!==s&&e(n,s,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const a=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(a);!n&&this.localCache[a]===c||this.notifyListeners(a,c)},l=this.storage.getItem(a);iC()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,qC):s()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const s of Array.from(a))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},kC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}PE.type="LOCAL";const jC=PE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME extends OE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ME.type="SESSION";const LE=ME;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const a=new Jh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:s,data:l}=n.data,c=this.handlersMap[s];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:s});const f=Array.from(c).map(async y=>y(n.origin,l)),m=await zC(f);n.ports[0].postMessage({status:"done",eventId:a,eventType:s,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const y=Op("",20);s.port1.start();const g=setTimeout(()=>{m(new Error("unsupported_event"))},a);c={messageChannel:s,onMessage(v){const _=v;if(_.data.eventId===y)switch(_.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(_.data.response);break;default:clearTimeout(g),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(){return window}function FC(r){Kr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(){return typeof Kr().WorkerGlobalScope<"u"&&typeof Kr().importScripts=="function"}async function HC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function QC(){return VE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="firebaseLocalStorageDb",KC=1,xh="firebaseLocalStorage",kE="fbase_key";class wu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zh(r,e){return r.transaction([xh],e?"readwrite":"readonly").objectStore(xh)}function YC(){const r=indexedDB.deleteDatabase(UE);return new wu(r).toPromise()}function Gm(){const r=indexedDB.open(UE,KC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(xh,{keyPath:kE})}catch(s){n(s)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(xh)?e(a):(a.close(),await YC(),e(await Gm()))})})}async function p1(r,e,n){const a=Zh(r,!0).put({[kE]:e,value:n});return new wu(a).toPromise()}async function $C(r,e){const n=Zh(r,!1).get(e),a=await new wu(n).toPromise();return a===void 0?null:a.value}function g1(r,e){const n=Zh(r,!0).delete(e);return new wu(n).toPromise()}const XC=800,WC=3;class qE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>WC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jh._getInstance(QC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,a;if(this.activeServiceWorker=await HC(),!this.activeServiceWorker)return;this.sender=new BC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(a=e[0])!=null&&a.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gm();return await p1(e,Ih,"1"),await g1(e,Ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>p1(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>$C(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>g1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const l=Zh(s,!1).getAll();return new wu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:s,value:l}of e)a.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!a.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const s of Array.from(a))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qE.type="LOCAL";const JC=qE;new Au(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(r,e){return e?Ii(e):(Re(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp extends xp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function e3(r){return DE(r.auth,new Pp(r),r.bypassAuthState)}function t3(r){const{auth:e,user:n}=r;return Re(n,e,"internal-error"),DC(n,new Pp(r),r.bypassAuthState)}async function n3(r){const{auth:e,user:n}=r;return Re(n,e,"internal-error"),NC(n,new Pp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,n,a,s,l=!1){this.auth=e,this.resolver=a,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:s,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:a,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return e3;case"linkViaPopup":case"linkViaRedirect":return n3;case"reauthViaPopup":case"reauthViaRedirect":return t3;default:Sr(this.auth,"internal-error")}}resolve(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3=new Au(2e3,1e4);class _o extends jE{constructor(e,n,a,s,l){super(e,n,s,l),this.provider=a,this.authWindow=null,this.pollId=null,_o.currentPopupAction&&_o.currentPopupAction.cancel(),_o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Pi(this.filter.length===1,"Popup operations only handle one event");const e=Op();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_o.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if((a=(n=this.authWindow)==null?void 0:n.window)!=null&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,r3.get())};e()}}_o.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3="pendingRedirect",dh=new Map;class a3 extends jE{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=dh.get(this.auth._key());if(!e){try{const a=await s3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}dh.set(this.auth._key(),e)}return this.bypassAuthState||dh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function s3(r,e){const n=u3(e),a=l3(r);if(!await a._isAvailable())return!1;const s=await a._get(n)==="true";return await a._remove(n),s}function o3(r,e){dh.set(r._key(),e)}function l3(r){return Ii(r._redirectPersistence)}function u3(r){return hh(i3,r.config.apiKey,r.name)}async function c3(r,e,n=!1){if(ur(r.app))return Promise.reject(va(r));const a=Mo(r),s=ZC(a,e),c=await new a3(a,s,n).execute();return c&&!n&&(delete c.user._redirectEventId,await a._persistUserIfCurrent(c.user),await a._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=600*1e3;class d3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!f3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!zE(e)){const s=((a=e.error.code)==null?void 0:a.split("auth/")[1])||"internal-error";n.onError(Qr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=h3&&this.cachedEventUids.clear(),this.cachedEventUids.has(y1(e))}saveEventToCache(e){this.cachedEventUids.add(y1(e)),this.lastProcessedEventTime=Date.now()}}function y1(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function zE({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function f3(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m3(r,e={}){return Da(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,g3=/^https?/;async function y3(r){if(r.config.emulator)return;const{authorizedDomains:e}=await m3(r);for(const n of e)try{if(_3(n))return}catch{}Sr(r,"unauthorized-domain")}function _3(r){const e=Fm(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===a}if(!g3.test(n))return!1;if(p3.test(r))return a===r;const s=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3=new Au(3e4,6e4);function _1(){const r=Kr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function E3(r){return new Promise((e,n)=>{var s,l,c;function a(){_1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_1(),n(Qr(r,"network-request-failed"))},timeout:v3.get()})}if((l=(s=Kr().gapi)==null?void 0:s.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=Kr().gapi)!=null&&c.load)a();else{const f=fC("iframefcb");return Kr()[f]=()=>{gapi.load?a():n(Qr(r,"network-request-failed"))},RE(`${dC()}?onload=${f}`).catch(m=>n(m))}}).catch(e=>{throw fh=null,e})}let fh=null;function T3(r){return fh=fh||E3(r),fh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3=new Au(5e3,15e3),A3="__/auth/iframe",S3="emulator/auth/iframe",w3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function C3(r){const e=r.config;Re(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Rp(e,S3):`https://${r.config.authDomain}/${A3}`,a={apiKey:e.apiKey,appName:r.name,v:_s},s=R3.get(r.config.apiHost);s&&(a.eid=s);const l=r._getFrameworks();return l.length&&(a.fw=l.join(",")),`${n}?${bu(a).slice(1)}`}async function I3(r){const e=await T3(r),n=Kr().gapi;return Re(n,r,"internal-error"),e.open({where:document.body,url:C3(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:w3,dontclear:!0},a=>new Promise(async(s,l)=>{await a.restyle({setHideOnLeave:!1});const c=Qr(r,"network-request-failed"),f=Kr().setTimeout(()=>{l(c)},b3.get());function m(){Kr().clearTimeout(f),s(a)}a.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},N3=500,D3=600,O3="_blank",P3="http://localhost";class v1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function M3(r,e,n,a=N3,s=D3){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-a)/2,0).toString();let f="";const m={...x3,width:a.toString(),height:s.toString(),top:l,left:c},y=Cn().toLowerCase();n&&(f=vE(y)?O3:n),yE(y)&&(e=e||P3,m.scrollbars="yes");const g=Object.entries(m).reduce((_,[A,I])=>`${_}${A}=${I},`,"");if(rC(y)&&f!=="_self")return L3(e||"",f),new v1(null);const v=window.open(e||"",f,g);Re(v,r,"popup-blocked");try{v.focus()}catch{}return new v1(v)}function L3(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3="__/auth/handler",U3="emulator/auth/handler",k3=encodeURIComponent("fac");async function E1(r,e,n,a,s,l){Re(r.config.authDomain,r,"auth-domain-config-required"),Re(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:_s,eventId:s};if(e instanceof xE){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",Aw(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))c[g]=v}if(e instanceof Su){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(c.scopes=g.join(","))}r.tenantId&&(c.tid=r.tenantId);const f=c;for(const g of Object.keys(f))f[g]===void 0&&delete f[g];const m=await r._getAppCheckToken(),y=m?`#${k3}=${encodeURIComponent(m)}`:"";return`${q3(r)}?${bu(f).slice(1)}${y}`}function q3({config:r}){return r.emulator?Rp(r,U3):`https://${r.authDomain}/${V3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="webStorageSupport";class j3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LE,this._completeRedirectFn=c3,this._overrideRedirectResult=o3}async _openPopup(e,n,a,s){var c;Pi((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await E1(e,n,a,Fm(),s);return M3(e,l,Op())}async _openRedirect(e,n,a,s){await this._originValidation(e);const l=await E1(e,n,a,Fm(),s);return FC(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:l}=this.eventManagers[n];return s?Promise.resolve(s):(Pi(l,"If manager is not set, promise should be"),l)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await I3(e),a=new d3(e);return n.register("authEvent",s=>(Re(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:a.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Im,{type:Im},s=>{var c;const l=(c=s==null?void 0:s[0])==null?void 0:c[Im];l!==void 0&&n(!!l),Sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=y3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return SE()||_E()||Ip()}}const z3=j3;var T1="@firebase/auth",b1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F3(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function H3(r){ds(new Aa("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=a.options;Re(c&&!c.includes(":"),"invalid-api-key",{appName:a.name});const m={apiKey:c,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wE(r)},y=new uC(a,s,l,m);return vC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),ds(new Aa("auth-internal",e=>{const n=Mo(e.getProvider("auth").getImmediate());return(a=>new B3(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gr(T1,b1,F3(r)),Gr(T1,b1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=300,Q3=nE("authIdTokenMaxAge")||G3;let A1=null;const K3=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>Q3)return;const s=n==null?void 0:n.token;A1!==s&&(A1=s,await fetch(r,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Qm(r=Sp()){const e=$h(r,"auth");if(e.isInitialized())return e.getImmediate();const n=_C(r,{popupRedirectResolver:z3,persistence:[JC,jC,LE]}),a=nE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(a,location.origin);if(location.origin===l.origin){const c=K3(l.toString());VC(n,c,()=>c(n.currentUser)),LC(n,f=>c(f))}}const s=Z0("auth");return s&&EC(n,`http://${s}`),n}function Y3(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}cC({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=s=>{const l=Qr("internal-error");l.customData=s,n(l)},a.type="text/javascript",a.charset="UTF-8",Y3().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});H3("Browser");var S1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ea,BE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(U,T){function b(){}b.prototype=T.prototype,U.D=T.prototype,U.prototype=new b,U.prototype.constructor=U,U.C=function(x,D,P){for(var C=Array(arguments.length-2),K=2;K<arguments.length;K++)C[K-2]=arguments[K];return T.prototype[D].apply(x,C)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(U,T,b){b||(b=0);var x=Array(16);if(typeof T=="string")for(var D=0;16>D;++D)x[D]=T.charCodeAt(b++)|T.charCodeAt(b++)<<8|T.charCodeAt(b++)<<16|T.charCodeAt(b++)<<24;else for(D=0;16>D;++D)x[D]=T[b++]|T[b++]<<8|T[b++]<<16|T[b++]<<24;T=U.g[0],b=U.g[1],D=U.g[2];var P=U.g[3],C=T+(P^b&(D^P))+x[0]+3614090360&4294967295;T=b+(C<<7&4294967295|C>>>25),C=P+(D^T&(b^D))+x[1]+3905402710&4294967295,P=T+(C<<12&4294967295|C>>>20),C=D+(b^P&(T^b))+x[2]+606105819&4294967295,D=P+(C<<17&4294967295|C>>>15),C=b+(T^D&(P^T))+x[3]+3250441966&4294967295,b=D+(C<<22&4294967295|C>>>10),C=T+(P^b&(D^P))+x[4]+4118548399&4294967295,T=b+(C<<7&4294967295|C>>>25),C=P+(D^T&(b^D))+x[5]+1200080426&4294967295,P=T+(C<<12&4294967295|C>>>20),C=D+(b^P&(T^b))+x[6]+2821735955&4294967295,D=P+(C<<17&4294967295|C>>>15),C=b+(T^D&(P^T))+x[7]+4249261313&4294967295,b=D+(C<<22&4294967295|C>>>10),C=T+(P^b&(D^P))+x[8]+1770035416&4294967295,T=b+(C<<7&4294967295|C>>>25),C=P+(D^T&(b^D))+x[9]+2336552879&4294967295,P=T+(C<<12&4294967295|C>>>20),C=D+(b^P&(T^b))+x[10]+4294925233&4294967295,D=P+(C<<17&4294967295|C>>>15),C=b+(T^D&(P^T))+x[11]+2304563134&4294967295,b=D+(C<<22&4294967295|C>>>10),C=T+(P^b&(D^P))+x[12]+1804603682&4294967295,T=b+(C<<7&4294967295|C>>>25),C=P+(D^T&(b^D))+x[13]+4254626195&4294967295,P=T+(C<<12&4294967295|C>>>20),C=D+(b^P&(T^b))+x[14]+2792965006&4294967295,D=P+(C<<17&4294967295|C>>>15),C=b+(T^D&(P^T))+x[15]+1236535329&4294967295,b=D+(C<<22&4294967295|C>>>10),C=T+(D^P&(b^D))+x[1]+4129170786&4294967295,T=b+(C<<5&4294967295|C>>>27),C=P+(b^D&(T^b))+x[6]+3225465664&4294967295,P=T+(C<<9&4294967295|C>>>23),C=D+(T^b&(P^T))+x[11]+643717713&4294967295,D=P+(C<<14&4294967295|C>>>18),C=b+(P^T&(D^P))+x[0]+3921069994&4294967295,b=D+(C<<20&4294967295|C>>>12),C=T+(D^P&(b^D))+x[5]+3593408605&4294967295,T=b+(C<<5&4294967295|C>>>27),C=P+(b^D&(T^b))+x[10]+38016083&4294967295,P=T+(C<<9&4294967295|C>>>23),C=D+(T^b&(P^T))+x[15]+3634488961&4294967295,D=P+(C<<14&4294967295|C>>>18),C=b+(P^T&(D^P))+x[4]+3889429448&4294967295,b=D+(C<<20&4294967295|C>>>12),C=T+(D^P&(b^D))+x[9]+568446438&4294967295,T=b+(C<<5&4294967295|C>>>27),C=P+(b^D&(T^b))+x[14]+3275163606&4294967295,P=T+(C<<9&4294967295|C>>>23),C=D+(T^b&(P^T))+x[3]+4107603335&4294967295,D=P+(C<<14&4294967295|C>>>18),C=b+(P^T&(D^P))+x[8]+1163531501&4294967295,b=D+(C<<20&4294967295|C>>>12),C=T+(D^P&(b^D))+x[13]+2850285829&4294967295,T=b+(C<<5&4294967295|C>>>27),C=P+(b^D&(T^b))+x[2]+4243563512&4294967295,P=T+(C<<9&4294967295|C>>>23),C=D+(T^b&(P^T))+x[7]+1735328473&4294967295,D=P+(C<<14&4294967295|C>>>18),C=b+(P^T&(D^P))+x[12]+2368359562&4294967295,b=D+(C<<20&4294967295|C>>>12),C=T+(b^D^P)+x[5]+4294588738&4294967295,T=b+(C<<4&4294967295|C>>>28),C=P+(T^b^D)+x[8]+2272392833&4294967295,P=T+(C<<11&4294967295|C>>>21),C=D+(P^T^b)+x[11]+1839030562&4294967295,D=P+(C<<16&4294967295|C>>>16),C=b+(D^P^T)+x[14]+4259657740&4294967295,b=D+(C<<23&4294967295|C>>>9),C=T+(b^D^P)+x[1]+2763975236&4294967295,T=b+(C<<4&4294967295|C>>>28),C=P+(T^b^D)+x[4]+1272893353&4294967295,P=T+(C<<11&4294967295|C>>>21),C=D+(P^T^b)+x[7]+4139469664&4294967295,D=P+(C<<16&4294967295|C>>>16),C=b+(D^P^T)+x[10]+3200236656&4294967295,b=D+(C<<23&4294967295|C>>>9),C=T+(b^D^P)+x[13]+681279174&4294967295,T=b+(C<<4&4294967295|C>>>28),C=P+(T^b^D)+x[0]+3936430074&4294967295,P=T+(C<<11&4294967295|C>>>21),C=D+(P^T^b)+x[3]+3572445317&4294967295,D=P+(C<<16&4294967295|C>>>16),C=b+(D^P^T)+x[6]+76029189&4294967295,b=D+(C<<23&4294967295|C>>>9),C=T+(b^D^P)+x[9]+3654602809&4294967295,T=b+(C<<4&4294967295|C>>>28),C=P+(T^b^D)+x[12]+3873151461&4294967295,P=T+(C<<11&4294967295|C>>>21),C=D+(P^T^b)+x[15]+530742520&4294967295,D=P+(C<<16&4294967295|C>>>16),C=b+(D^P^T)+x[2]+3299628645&4294967295,b=D+(C<<23&4294967295|C>>>9),C=T+(D^(b|~P))+x[0]+4096336452&4294967295,T=b+(C<<6&4294967295|C>>>26),C=P+(b^(T|~D))+x[7]+1126891415&4294967295,P=T+(C<<10&4294967295|C>>>22),C=D+(T^(P|~b))+x[14]+2878612391&4294967295,D=P+(C<<15&4294967295|C>>>17),C=b+(P^(D|~T))+x[5]+4237533241&4294967295,b=D+(C<<21&4294967295|C>>>11),C=T+(D^(b|~P))+x[12]+1700485571&4294967295,T=b+(C<<6&4294967295|C>>>26),C=P+(b^(T|~D))+x[3]+2399980690&4294967295,P=T+(C<<10&4294967295|C>>>22),C=D+(T^(P|~b))+x[10]+4293915773&4294967295,D=P+(C<<15&4294967295|C>>>17),C=b+(P^(D|~T))+x[1]+2240044497&4294967295,b=D+(C<<21&4294967295|C>>>11),C=T+(D^(b|~P))+x[8]+1873313359&4294967295,T=b+(C<<6&4294967295|C>>>26),C=P+(b^(T|~D))+x[15]+4264355552&4294967295,P=T+(C<<10&4294967295|C>>>22),C=D+(T^(P|~b))+x[6]+2734768916&4294967295,D=P+(C<<15&4294967295|C>>>17),C=b+(P^(D|~T))+x[13]+1309151649&4294967295,b=D+(C<<21&4294967295|C>>>11),C=T+(D^(b|~P))+x[4]+4149444226&4294967295,T=b+(C<<6&4294967295|C>>>26),C=P+(b^(T|~D))+x[11]+3174756917&4294967295,P=T+(C<<10&4294967295|C>>>22),C=D+(T^(P|~b))+x[2]+718787259&4294967295,D=P+(C<<15&4294967295|C>>>17),C=b+(P^(D|~T))+x[9]+3951481745&4294967295,U.g[0]=U.g[0]+T&4294967295,U.g[1]=U.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,U.g[2]=U.g[2]+D&4294967295,U.g[3]=U.g[3]+P&4294967295}a.prototype.u=function(U,T){T===void 0&&(T=U.length);for(var b=T-this.blockSize,x=this.B,D=this.h,P=0;P<T;){if(D==0)for(;P<=b;)s(this,U,P),P+=this.blockSize;if(typeof U=="string"){for(;P<T;)if(x[D++]=U.charCodeAt(P++),D==this.blockSize){s(this,x),D=0;break}}else for(;P<T;)if(x[D++]=U[P++],D==this.blockSize){s(this,x),D=0;break}}this.h=D,this.o+=T},a.prototype.v=function(){var U=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);U[0]=128;for(var T=1;T<U.length-8;++T)U[T]=0;var b=8*this.o;for(T=U.length-8;T<U.length;++T)U[T]=b&255,b/=256;for(this.u(U),U=Array(16),T=b=0;4>T;++T)for(var x=0;32>x;x+=8)U[b++]=this.g[T]>>>x&255;return U};function l(U,T){var b=f;return Object.prototype.hasOwnProperty.call(b,U)?b[U]:b[U]=T(U)}function c(U,T){this.h=T;for(var b=[],x=!0,D=U.length-1;0<=D;D--){var P=U[D]|0;x&&P==T||(b[D]=P,x=!1)}this.g=b}var f={};function m(U){return-128<=U&&128>U?l(U,function(T){return new c([T|0],0>T?-1:0)}):new c([U|0],0>U?-1:0)}function y(U){if(isNaN(U)||!isFinite(U))return v;if(0>U)return V(y(-U));for(var T=[],b=1,x=0;U>=b;x++)T[x]=U/b|0,b*=4294967296;return new c(T,0)}function g(U,T){if(U.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(U.charAt(0)=="-")return V(g(U.substring(1),T));if(0<=U.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=y(Math.pow(T,8)),x=v,D=0;D<U.length;D+=8){var P=Math.min(8,U.length-D),C=parseInt(U.substring(D,D+P),T);8>P?(P=y(Math.pow(T,P)),x=x.j(P).add(y(C))):(x=x.j(b),x=x.add(y(C)))}return x}var v=m(0),_=m(1),A=m(16777216);r=c.prototype,r.m=function(){if(q(this))return-V(this).m();for(var U=0,T=1,b=0;b<this.g.length;b++){var x=this.i(b);U+=(0<=x?x:4294967296+x)*T,T*=4294967296}return U},r.toString=function(U){if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(I(this))return"0";if(q(this))return"-"+V(this).toString(U);for(var T=y(Math.pow(U,6)),b=this,x="";;){var D=G(b,T).g;b=k(b,D.j(T));var P=((0<b.g.length?b.g[0]:b.h)>>>0).toString(U);if(b=D,I(b))return P+x;for(;6>P.length;)P="0"+P;x=P+x}},r.i=function(U){return 0>U?0:U<this.g.length?this.g[U]:this.h};function I(U){if(U.h!=0)return!1;for(var T=0;T<U.g.length;T++)if(U.g[T]!=0)return!1;return!0}function q(U){return U.h==-1}r.l=function(U){return U=k(this,U),q(U)?-1:I(U)?0:1};function V(U){for(var T=U.g.length,b=[],x=0;x<T;x++)b[x]=~U.g[x];return new c(b,~U.h).add(_)}r.abs=function(){return q(this)?V(this):this},r.add=function(U){for(var T=Math.max(this.g.length,U.g.length),b=[],x=0,D=0;D<=T;D++){var P=x+(this.i(D)&65535)+(U.i(D)&65535),C=(P>>>16)+(this.i(D)>>>16)+(U.i(D)>>>16);x=C>>>16,P&=65535,C&=65535,b[D]=C<<16|P}return new c(b,b[b.length-1]&-2147483648?-1:0)};function k(U,T){return U.add(V(T))}r.j=function(U){if(I(this)||I(U))return v;if(q(this))return q(U)?V(this).j(V(U)):V(V(this).j(U));if(q(U))return V(this.j(V(U)));if(0>this.l(A)&&0>U.l(A))return y(this.m()*U.m());for(var T=this.g.length+U.g.length,b=[],x=0;x<2*T;x++)b[x]=0;for(x=0;x<this.g.length;x++)for(var D=0;D<U.g.length;D++){var P=this.i(x)>>>16,C=this.i(x)&65535,K=U.i(D)>>>16,Y=U.i(D)&65535;b[2*x+2*D]+=C*Y,B(b,2*x+2*D),b[2*x+2*D+1]+=P*Y,B(b,2*x+2*D+1),b[2*x+2*D+1]+=C*K,B(b,2*x+2*D+1),b[2*x+2*D+2]+=P*K,B(b,2*x+2*D+2)}for(x=0;x<T;x++)b[x]=b[2*x+1]<<16|b[2*x];for(x=T;x<2*T;x++)b[x]=0;return new c(b,0)};function B(U,T){for(;(U[T]&65535)!=U[T];)U[T+1]+=U[T]>>>16,U[T]&=65535,T++}function H(U,T){this.g=U,this.h=T}function G(U,T){if(I(T))throw Error("division by zero");if(I(U))return new H(v,v);if(q(U))return T=G(V(U),T),new H(V(T.g),V(T.h));if(q(T))return T=G(U,V(T)),new H(V(T.g),T.h);if(30<U.g.length){if(q(U)||q(T))throw Error("slowDivide_ only works with positive integers.");for(var b=_,x=T;0>=x.l(U);)b=Z(b),x=Z(x);var D=j(b,1),P=j(x,1);for(x=j(x,2),b=j(b,2);!I(x);){var C=P.add(x);0>=C.l(U)&&(D=D.add(b),P=C),x=j(x,1),b=j(b,1)}return T=k(U,D.j(T)),new H(D,T)}for(D=v;0<=U.l(T);){for(b=Math.max(1,Math.floor(U.m()/T.m())),x=Math.ceil(Math.log(b)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),P=y(b),C=P.j(T);q(C)||0<C.l(U);)b-=x,P=y(b),C=P.j(T);I(P)&&(P=_),D=D.add(P),U=k(U,C)}return new H(D,U)}r.A=function(U){return G(this,U).h},r.and=function(U){for(var T=Math.max(this.g.length,U.g.length),b=[],x=0;x<T;x++)b[x]=this.i(x)&U.i(x);return new c(b,this.h&U.h)},r.or=function(U){for(var T=Math.max(this.g.length,U.g.length),b=[],x=0;x<T;x++)b[x]=this.i(x)|U.i(x);return new c(b,this.h|U.h)},r.xor=function(U){for(var T=Math.max(this.g.length,U.g.length),b=[],x=0;x<T;x++)b[x]=this.i(x)^U.i(x);return new c(b,this.h^U.h)};function Z(U){for(var T=U.g.length+1,b=[],x=0;x<T;x++)b[x]=U.i(x)<<1|U.i(x-1)>>>31;return new c(b,U.h)}function j(U,T){var b=T>>5;T%=32;for(var x=U.g.length-b,D=[],P=0;P<x;P++)D[P]=0<T?U.i(P+b)>>>T|U.i(P+b+1)<<32-T:U.i(P+b);return new c(D,U.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,BE=a,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=g,Ea=c}).apply(typeof S1<"u"?S1:typeof self<"u"?self:typeof window<"u"?window:{});var eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var FE,Kl,HE,mh,Km,GE,QE,KE;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,E,S){return h==Array.prototype||h==Object.prototype||(h[E]=S.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof eh=="object"&&eh];for(var E=0;E<h.length;++E){var S=h[E];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var a=n(this);function s(h,E){if(E)e:{var S=a;h=h.split(".");for(var L=0;L<h.length-1;L++){var W=h[L];if(!(W in S))break e;S=S[W]}h=h[h.length-1],L=S[h],E=E(L),E!=L&&E!=null&&e(S,h,{configurable:!0,writable:!0,value:E})}}function l(h,E){h instanceof String&&(h+="");var S=0,L=!1,W={next:function(){if(!L&&S<h.length){var ce=S++;return{value:E(ce,h[ce]),done:!1}}return L=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}s("Array.prototype.values",function(h){return h||function(){return l(this,function(E,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function m(h){var E=typeof h;return E=E!="object"?E:h?Array.isArray(h)?"array":E:"null",E=="array"||E=="object"&&typeof h.length=="number"}function y(h){var E=typeof h;return E=="object"&&h!=null||E=="function"}function g(h,E,S){return h.call.apply(h.bind,arguments)}function v(h,E,S){if(!h)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,L),h.apply(E,W)}}return function(){return h.apply(E,arguments)}}function _(h,E,S){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,_.apply(null,arguments)}function A(h,E){var S=Array.prototype.slice.call(arguments,1);return function(){var L=S.slice();return L.push.apply(L,arguments),h.apply(this,L)}}function I(h,E){function S(){}S.prototype=E.prototype,h.aa=E.prototype,h.prototype=new S,h.prototype.constructor=h,h.Qb=function(L,W,ce){for(var ye=Array(arguments.length-2),He=2;He<arguments.length;He++)ye[He-2]=arguments[He];return E.prototype[W].apply(L,ye)}}function q(h){const E=h.length;if(0<E){const S=Array(E);for(let L=0;L<E;L++)S[L]=h[L];return S}return[]}function V(h,E){for(let S=1;S<arguments.length;S++){const L=arguments[S];if(m(L)){const W=h.length||0,ce=L.length||0;h.length=W+ce;for(let ye=0;ye<ce;ye++)h[W+ye]=L[ye]}else h.push(L)}}class k{constructor(E,S){this.i=E,this.j=S,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function B(h){return/^[\s\xa0]*$/.test(h)}function H(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function G(h){return G[" "](h),h}G[" "]=function(){};var Z=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function j(h,E,S){for(const L in h)E.call(S,h[L],L,h)}function U(h,E){for(const S in h)E.call(void 0,h[S],S,h)}function T(h){const E={};for(const S in h)E[S]=h[S];return E}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(h,E){let S,L;for(let W=1;W<arguments.length;W++){L=arguments[W];for(S in L)h[S]=L[S];for(let ce=0;ce<b.length;ce++)S=b[ce],Object.prototype.hasOwnProperty.call(L,S)&&(h[S]=L[S])}}function D(h){var E=1;h=h.split(":");const S=[];for(;0<E&&h.length;)S.push(h.shift()),E--;return h.length&&S.push(h.join(":")),S}function P(h){f.setTimeout(()=>{throw h},0)}function C(){var h=X;let E=null;return h.g&&(E=h.g,h.g=h.g.next,h.g||(h.h=null),E.next=null),E}class K{constructor(){this.h=this.g=null}add(E,S){const L=Y.get();L.set(E,S),this.h?this.h.next=L:this.g=L,this.h=L}}var Y=new k(()=>new R,h=>h.reset());class R{constructor(){this.next=this.g=this.h=null}set(E,S){this.h=E,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let N,te=!1,X=new K,M=()=>{const h=f.Promise.resolve(void 0);N=()=>{h.then(ee)}};var ee=()=>{for(var h;h=C();){try{h.h.call(h.g)}catch(S){P(S)}var E=Y;E.j(h),100>E.h&&(E.h++,h.next=E.g,E.g=h)}te=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(h,E){this.type=h,this.g=this.target=E,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var ue=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,E=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const S=()=>{};f.addEventListener("test",S,E),f.removeEventListener("test",S,E)}catch{}return h})();function ae(h,E){if(ie.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var S=this.type=h.type,L=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=E,E=h.relatedTarget){if(Z){e:{try{G(E.nodeName);var W=!0;break e}catch{}W=!1}W||(E=null)}}else S=="mouseover"?E=h.fromElement:S=="mouseout"&&(E=h.toElement);this.relatedTarget=E,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:ge[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ae.aa.h.call(this)}}I(ae,ie);var ge={2:"touch",3:"pen",4:"mouse"};ae.prototype.h=function(){ae.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),Ae=0;function Oe(h,E,S,L,W){this.listener=h,this.proxy=null,this.src=E,this.type=S,this.capture=!!L,this.ha=W,this.key=++Ae,this.da=this.fa=!1}function Be(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function $e(h){this.src=h,this.g={},this.h=0}$e.prototype.add=function(h,E,S,L,W){var ce=h.toString();h=this.g[ce],h||(h=this.g[ce]=[],this.h++);var ye=In(h,E,L,W);return-1<ye?(E=h[ye],S||(E.fa=!1)):(E=new Oe(E,this.src,ce,!!L,W),E.fa=S,h.push(E)),E};function ht(h,E){var S=E.type;if(S in h.g){var L=h.g[S],W=Array.prototype.indexOf.call(L,E,void 0),ce;(ce=0<=W)&&Array.prototype.splice.call(L,W,1),ce&&(Be(E),h.g[S].length==0&&(delete h.g[S],h.h--))}}function In(h,E,S,L){for(var W=0;W<h.length;++W){var ce=h[W];if(!ce.da&&ce.listener==E&&ce.capture==!!S&&ce.ha==L)return W}return-1}var Wt="closure_lm_"+(1e6*Math.random()|0),at={};function It(h,E,S,L,W){if(Array.isArray(E)){for(var ce=0;ce<E.length;ce++)It(h,E[ce],S,L,W);return null}return S=Jt(S),h&&h[De]?h.K(E,S,y(L)?!!L.capture:!1,W):Ve(h,E,S,!1,L,W)}function Ve(h,E,S,L,W,ce){if(!E)throw Error("Invalid event type");var ye=y(W)?!!W.capture:!!W,He=dt(h);if(He||(h[Wt]=He=new $e(h)),S=He.add(E,S,L,ye,ce),S.proxy)return S;if(L=nt(),S.proxy=L,L.src=h,L.listener=S,h.addEventListener)ue||(W=ye),W===void 0&&(W=!1),h.addEventListener(E.toString(),L,W);else if(h.attachEvent)h.attachEvent(st(E.toString()),L);else if(h.addListener&&h.removeListener)h.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return S}function nt(){function h(S){return E.call(h.src,h.listener,S)}const E=un;return h}function Et(h,E,S,L,W){if(Array.isArray(E))for(var ce=0;ce<E.length;ce++)Et(h,E[ce],S,L,W);else L=y(L)?!!L.capture:!!L,S=Jt(S),h&&h[De]?(h=h.i,E=String(E).toString(),E in h.g&&(ce=h.g[E],S=In(ce,S,L,W),-1<S&&(Be(ce[S]),Array.prototype.splice.call(ce,S,1),ce.length==0&&(delete h.g[E],h.h--)))):h&&(h=dt(h))&&(E=h.g[E.toString()],h=-1,E&&(h=In(E,S,L,W)),(S=-1<h?E[h]:null)&&At(S))}function At(h){if(typeof h!="number"&&h&&!h.da){var E=h.src;if(E&&E[De])ht(E.i,h);else{var S=h.type,L=h.proxy;E.removeEventListener?E.removeEventListener(S,L,h.capture):E.detachEvent?E.detachEvent(st(S),L):E.addListener&&E.removeListener&&E.removeListener(L),(S=dt(E))?(ht(S,h),S.h==0&&(S.src=null,E[Wt]=null)):Be(h)}}}function st(h){return h in at?at[h]:at[h]="on"+h}function un(h,E){if(h.da)h=!0;else{E=new ae(E,this);var S=h.listener,L=h.ha||h.src;h.fa&&At(h),h=S.call(L,E)}return h}function dt(h){return h=h[Wt],h instanceof $e?h:null}var Xe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jt(h){return typeof h=="function"?h:(h[Xe]||(h[Xe]=function(E){return h.handleEvent(E)}),h[Xe])}function We(){re.call(this),this.i=new $e(this),this.M=this,this.F=null}I(We,re),We.prototype[De]=!0,We.prototype.removeEventListener=function(h,E,S,L){Et(this,h,E,S,L)};function Fe(h,E){var S,L=h.F;if(L)for(S=[];L;L=L.F)S.push(L);if(h=h.M,L=E.type||E,typeof E=="string")E=new ie(E,h);else if(E instanceof ie)E.target=E.target||h;else{var W=E;E=new ie(L,h),x(E,W)}if(W=!0,S)for(var ce=S.length-1;0<=ce;ce--){var ye=E.g=S[ce];W=Ze(ye,L,!0,E)&&W}if(ye=E.g=h,W=Ze(ye,L,!0,E)&&W,W=Ze(ye,L,!1,E)&&W,S)for(ce=0;ce<S.length;ce++)ye=E.g=S[ce],W=Ze(ye,L,!1,E)&&W}We.prototype.N=function(){if(We.aa.N.call(this),this.i){var h=this.i,E;for(E in h.g){for(var S=h.g[E],L=0;L<S.length;L++)Be(S[L]);delete h.g[E],h.h--}}this.F=null},We.prototype.K=function(h,E,S,L){return this.i.add(String(h),E,!1,S,L)},We.prototype.L=function(h,E,S,L){return this.i.add(String(h),E,!0,S,L)};function Ze(h,E,S,L){if(E=h.i.g[String(E)],!E)return!0;E=E.concat();for(var W=!0,ce=0;ce<E.length;++ce){var ye=E[ce];if(ye&&!ye.da&&ye.capture==S){var He=ye.listener,Ht=ye.ha||ye.src;ye.fa&&ht(h.i,ye),W=He.call(Ht,L)!==!1&&W}}return W&&!L.defaultPrevented}function yt(h,E,S){if(typeof h=="function")S&&(h=_(h,S));else if(h&&typeof h.handleEvent=="function")h=_(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:f.setTimeout(h,E||0)}function Pt(h){h.g=yt(()=>{h.g=null,h.i&&(h.i=!1,Pt(h))},h.l);const E=h.h;h.h=null,h.m.apply(null,E)}class xn extends re{constructor(E,S){super(),this.m=E,this.l=S,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Pt(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mt(h){re.call(this),this.h=h,this.g={}}I(Mt,re);var cn=[];function Zt(h){j(h.g,function(E,S){this.g.hasOwnProperty(S)&&At(E)},h),h.g={}}Mt.prototype.N=function(){Mt.aa.N.call(this),Zt(this)},Mt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bt=f.JSON.stringify,Rr=f.JSON.parse,ni=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function ri(){}ri.prototype.h=null;function Ui(h){return h.h||(h.h=h.i())}function dr(){}var fr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function en(){ie.call(this,"d")}I(en,ie);function Ln(){ie.call(this,"c")}I(Ln,ie);var hn={},mr=null;function pr(){return mr=mr||new We}hn.La="serverreachability";function Vn(h){ie.call(this,hn.La,h)}I(Vn,ie);function Tn(h){const E=pr();Fe(E,new Vn(E))}hn.STAT_EVENT="statevent";function Du(h,E){ie.call(this,hn.STAT_EVENT,h),this.stat=E}I(Du,ie);function _t(h){const E=pr();Fe(E,new Du(E,h))}hn.Ma="timingevent";function Ft(h,E){ie.call(this,hn.Ma,h),this.size=E}I(Ft,ie);function Lt(h,E){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},E)}function Wn(){this.g=!0}Wn.prototype.xa=function(){this.g=!1};function zo(h,E,S,L,W,ce){h.info(function(){if(h.g)if(ce)for(var ye="",He=ce.split("&"),Ht=0;Ht<He.length;Ht++){var Ge=He[Ht].split("=");if(1<Ge.length){var nn=Ge[0];Ge=Ge[1];var Gt=nn.split("_");ye=2<=Gt.length&&Gt[1]=="type"?ye+(nn+"="+Ge+"&"):ye+(nn+"=redacted&")}}else ye=null;else ye=ce;return"XMLHTTP REQ ("+L+") [attempt "+W+"]: "+E+`
`+S+`
`+ye})}function gd(h,E,S,L,W,ce,ye){h.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+W+"]: "+E+`
`+S+`
`+ce+" "+ye})}function ki(h,E,S,L){h.info(function(){return"XMLHTTP TEXT ("+E+"): "+Oa(h,S)+(L?" "+L:"")})}function Ou(h,E){h.info(function(){return"TIMEOUT: "+E})}Wn.prototype.info=function(){};function Oa(h,E){if(!h.g)return E;if(!E)return null;try{var S=JSON.parse(E);if(S){for(h=0;h<S.length;h++)if(Array.isArray(S[h])){var L=S[h];if(!(2>L.length)){var W=L[1];if(Array.isArray(W)&&!(1>W.length)){var ce=W[0];if(ce!="noop"&&ce!="stop"&&ce!="close")for(var ye=1;ye<W.length;ye++)W[ye]=""}}}}return Bt(S)}catch{return E}}var qi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ii={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Cr;function Ir(){}I(Ir,ri),Ir.prototype.g=function(){return new XMLHttpRequest},Ir.prototype.i=function(){return{}},Cr=new Ir;function Nn(h,E,S,L){this.j=h,this.i=E,this.l=S,this.R=L||1,this.U=new Mt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xt}function xt(){this.i=null,this.g="",this.h=!1}var Bo={},ws={};function gr(h,E,S){h.L=1,h.v=Ua(Bn(E)),h.m=S,h.P=!0,ai(h,null)}function ai(h,E){h.F=Date.now(),Pa(h),h.A=Bn(h.v);var S=h.A,L=h.R;Array.isArray(L)||(L=[String(L)]),Yo(S.i,"t",L),h.C=0,S=h.j.J,h.h=new xt,h.g=Yu(h.j,S?E:null,!h.m),0<h.O&&(h.M=new xn(_(h.Y,h,h.g),h.O)),E=h.U,S=h.g,L=h.ca;var W="readystatechange";Array.isArray(W)||(W&&(cn[0]=W.toString()),W=cn);for(var ce=0;ce<W.length;ce++){var ye=It(S,W[ce],L||E.handleEvent,!1,E.h||E);if(!ye)break;E.g[ye.key]=ye}E=h.H?T(h.H):{},h.m?(h.u||(h.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,E)):(h.u="GET",h.g.ea(h.A,h.u,null,E)),Tn(),zo(h.i,h.u,h.A,h.l,h.R,h.m)}Nn.prototype.ca=function(h){h=h.target;const E=this.M;E&&tr(h)==3?E.j():this.Y(h)},Nn.prototype.Y=function(h){try{if(h==this.g)e:{const Gt=tr(this.g);var E=this.g.Ba();const fi=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||ju(this.g)))){this.J||Gt!=4||E==7||(E==8||0>=fi?Tn(3):Tn(2)),ji(this);var S=this.g.Z();this.X=S;t:if(Pu(this)){var L=ju(this.g);h="";var W=L.length,ce=tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dn(this),xr(this);var ye="";break t}this.h.i=new f.TextDecoder}for(E=0;E<W;E++)this.h.h=!0,h+=this.h.i.decode(L[E],{stream:!(ce&&E==W-1)});L.length=0,this.h.g+=h,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=S==200,gd(this.i,this.u,this.A,this.l,this.R,Gt,S),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Ht=this.g;if((He=Ht.g?Ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(He)){var Ge=He;break t}}Ge=null}if(S=Ge)ki(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ma(this,S);else{this.o=!1,this.s=3,_t(12),dn(this),xr(this);break e}}if(this.P){S=!0;let fn;for(;!this.J&&this.C<ye.length;)if(fn=Mu(this,ye),fn==ws){Gt==4&&(this.s=4,_t(14),S=!1),ki(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==Bo){this.s=4,_t(15),ki(this.i,this.l,ye,"[Invalid Chunk]"),S=!1;break}else ki(this.i,this.l,fn,null),Ma(this,fn);if(Pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||ye.length!=0||this.h.h||(this.s=1,_t(16),S=!1),this.o=this.o&&S,!S)ki(this.i,this.l,ye,"[Invalid Chunked Response]"),dn(this),xr(this);else if(0<ye.length&&!this.W){this.W=!0;var nn=this.j;nn.g==this&&nn.ba&&!nn.M&&(nn.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),Ga(nn),nn.M=!0,_t(11))}}else ki(this.i,this.l,ye,null),Ma(this,ye);Gt==4&&dn(this),this.o&&!this.J&&(Gt==4?Gu(this.j,this):(this.o=!1,Pa(this)))}else Td(this.g),S==400&&0<ye.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),dn(this),xr(this)}}}catch{}finally{}};function Pu(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Mu(h,E){var S=h.C,L=E.indexOf(`
`,S);return L==-1?ws:(S=Number(E.substring(S,L)),isNaN(S)?Bo:(L+=1,L+S>E.length?ws:(E=E.slice(L,L+S),h.C=L+S,E)))}Nn.prototype.cancel=function(){this.J=!0,dn(this)};function Pa(h){h.S=Date.now()+h.I,Lu(h,h.I)}function Lu(h,E){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Lt(_(h.ba,h),E)}function ji(h){h.B&&(f.clearTimeout(h.B),h.B=null)}Nn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Ou(this.i,this.A),this.L!=2&&(Tn(),_t(17)),dn(this),this.s=2,xr(this)):Lu(this,this.S-h)};function xr(h){h.j.G==0||h.J||Gu(h.j,h)}function dn(h){ji(h);var E=h.M;E&&typeof E.ma=="function"&&E.ma(),h.M=null,Zt(h.U),h.g&&(E=h.g,h.g=null,E.abort(),E.ma())}function Ma(h,E){try{var S=h.j;if(S.G!=0&&(S.g==h||Fo(S.h,h))){if(!h.K&&Fo(S.h,h)&&S.G==3){try{var L=S.Da.g.parse(E)}catch{L=null}if(Array.isArray(L)&&L.length==3){var W=L;if(W[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<h.F)Us(S),Ls(S);else break e;Zo(S),_t(18)}}else S.za=W[1],0<S.za-S.T&&37500>W[2]&&S.F&&S.v==0&&!S.C&&(S.C=Lt(_(S.Za,S),6e3));if(1>=Cs(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else di(S,11)}else if((h.K||S.g==h)&&Us(S),!B(E))for(W=S.Da.g.parse(E),E=0;E<W.length;E++){let Ge=W[E];if(S.T=Ge[0],Ge=Ge[1],S.G==2)if(Ge[0]=="c"){S.K=Ge[1],S.ia=Ge[2];const nn=Ge[3];nn!=null&&(S.la=nn,S.j.info("VER="+S.la));const Gt=Ge[4];Gt!=null&&(S.Aa=Gt,S.j.info("SVER="+S.Aa));const fi=Ge[5];fi!=null&&typeof fi=="number"&&0<fi&&(L=1.5*fi,S.L=L,S.j.info("backChannelRequestTimeoutMs_="+L)),L=S;const fn=h.g;if(fn){const Vr=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vr){var ce=L.h;ce.g||Vr.indexOf("spdy")==-1&&Vr.indexOf("quic")==-1&&Vr.indexOf("h2")==-1||(ce.j=ce.l,ce.g=new Set,ce.h&&(Is(ce,ce.h),ce.h=null))}if(L.D){const tl=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;tl&&(L.ya=tl,ot(L.I,L.D,tl))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-h.F,S.j.info("Handshake RTT: "+S.R+"ms")),L=S;var ye=h;if(L.qa=Ku(L,L.J?L.ia:null,L.W),ye.K){Dn(L.h,ye);var He=ye,Ht=L.L;Ht&&(He.I=Ht),He.B&&(ji(He),Pa(He)),L.g=ye}else Fu(L);0<S.i.length&&Vs(S)}else Ge[0]!="stop"&&Ge[0]!="close"||di(S,7);else S.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?di(S,7):Wo(S):Ge[0]!="noop"&&S.l&&S.l.ta(Ge),S.v=0)}}Tn(4)}catch{}}var Vu=class{constructor(h,E){this.g=h,this.map=E}};function si(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rs(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Cs(h){return h.h?1:h.g?h.g.size:0}function Fo(h,E){return h.h?h.h==E:h.g?h.g.has(E):!1}function Is(h,E){h.g?h.g.add(E):h.h=E}function Dn(h,E){h.h&&h.h==E?h.h=null:h.g&&h.g.has(E)&&h.g.delete(E)}si.prototype.cancel=function(){if(this.i=Ho(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Ho(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let E=h.i;for(const S of h.g.values())E=E.concat(S.D);return E}return q(h.i)}function yd(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var E=[],S=h.length,L=0;L<S;L++)E.push(h[L]);return E}E=[],S=0;for(L in h)E[S++]=h[L];return E}function xs(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var E=[];h=h.length;for(var S=0;S<h;S++)E.push(S);return E}E=[],S=0;for(const L in h)E[S++]=L;return E}}}function Go(h,E){if(h.forEach&&typeof h.forEach=="function")h.forEach(E,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,E,void 0);else for(var S=xs(h),L=yd(h),W=L.length,ce=0;ce<W;ce++)E.call(void 0,L[ce],S&&S[ce],h)}var La=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _d(h,E){if(h){h=h.split("&");for(var S=0;S<h.length;S++){var L=h[S].indexOf("="),W=null;if(0<=L){var ce=h[S].substring(0,L);W=h[S].substring(L+1)}else ce=h[S];E(ce,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Vt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Vt){this.h=h.h,Va(this,h.j),this.o=h.o,this.g=h.g,zi(this,h.s),this.l=h.l;var E=h.i,S=new li;S.i=E.i,E.g&&(S.g=new Map(E.g),S.h=E.h),oi(this,S),this.m=h.m}else h&&(E=String(h).match(La))?(this.h=!1,Va(this,E[1]||"",!0),this.o=Jn(E[2]||""),this.g=Jn(E[3]||"",!0),zi(this,E[4]),this.l=Jn(E[5]||"",!0),oi(this,E[6]||"",!0),this.m=Jn(E[7]||"")):(this.h=!1,this.i=new li(null,this.h))}Vt.prototype.toString=function(){var h=[],E=this.j;E&&h.push(ka(E,Qo,!0),":");var S=this.g;return(S||E=="file")&&(h.push("//"),(E=this.o)&&h.push(ka(E,Qo,!0),"@"),h.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&h.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&h.push("/"),h.push(ka(S,S.charAt(0)=="/"?vd:Ko,!0))),(S=this.i.toString())&&h.push("?",S),(S=this.m)&&h.push("#",ka(S,Ns)),h.join("")};function Bn(h){return new Vt(h)}function Va(h,E,S){h.j=S?Jn(E,!0):E,h.j&&(h.j=h.j.replace(/:$/,""))}function zi(h,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);h.s=E}else h.s=null}function oi(h,E,S){E instanceof li?(h.i=E,ku(h.i,h.h)):(S||(E=ka(E,Ed)),h.i=new li(E,h.h))}function ot(h,E,S){h.i.set(E,S)}function Ua(h){return ot(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Jn(h,E){return h?E?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ka(h,E,S){return typeof h=="string"?(h=encodeURI(h).replace(E,Uu),S&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Uu(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Qo=/[#\/\?@]/g,Ko=/[#\?:]/g,vd=/[#\?]/g,Ed=/[#\?@]/g,Ns=/#/g;function li(h,E){this.h=this.g=null,this.i=h||null,this.j=!!E}function Zn(h){h.g||(h.g=new Map,h.h=0,h.i&&_d(h.i,function(E,S){h.add(decodeURIComponent(E.replace(/\+/g," ")),S)}))}r=li.prototype,r.add=function(h,E){Zn(this),this.i=null,h=Nr(this,h);var S=this.g.get(h);return S||this.g.set(h,S=[]),S.push(E),this.h+=1,this};function ui(h,E){Zn(h),E=Nr(h,E),h.g.has(E)&&(h.i=null,h.h-=h.g.get(E).length,h.g.delete(E))}function ci(h,E){return Zn(h),E=Nr(h,E),h.g.has(E)}r.forEach=function(h,E){Zn(this),this.g.forEach(function(S,L){S.forEach(function(W){h.call(E,W,L,this)},this)},this)},r.na=function(){Zn(this);const h=Array.from(this.g.values()),E=Array.from(this.g.keys()),S=[];for(let L=0;L<E.length;L++){const W=h[L];for(let ce=0;ce<W.length;ce++)S.push(E[L])}return S},r.V=function(h){Zn(this);let E=[];if(typeof h=="string")ci(this,h)&&(E=E.concat(this.g.get(Nr(this,h))));else{h=Array.from(this.g.values());for(let S=0;S<h.length;S++)E=E.concat(h[S])}return E},r.set=function(h,E){return Zn(this),this.i=null,h=Nr(this,h),ci(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[E]),this.h+=1,this},r.get=function(h,E){return h?(h=this.V(h),0<h.length?String(h[0]):E):E};function Yo(h,E,S){ui(h,E),0<S.length&&(h.i=null,h.g.set(Nr(h,E),q(S)),h.h+=S.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],E=Array.from(this.g.keys());for(var S=0;S<E.length;S++){var L=E[S];const ce=encodeURIComponent(String(L)),ye=this.V(L);for(L=0;L<ye.length;L++){var W=ce;ye[L]!==""&&(W+="="+encodeURIComponent(String(ye[L]))),h.push(W)}}return this.i=h.join("&")};function Nr(h,E){return E=String(E),h.j&&(E=E.toLowerCase()),E}function ku(h,E){E&&!h.j&&(Zn(h),h.i=null,h.g.forEach(function(S,L){var W=L.toLowerCase();L!=W&&(ui(this,L),Yo(this,W,S))},h)),h.j=E}function qa(h,E){const S=new Wn;if(f.Image){const L=new Image;L.onload=A(er,S,"TestLoadImage: loaded",!0,E,L),L.onerror=A(er,S,"TestLoadImage: error",!1,E,L),L.onabort=A(er,S,"TestLoadImage: abort",!1,E,L),L.ontimeout=A(er,S,"TestLoadImage: timeout",!1,E,L),f.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=h}else E(!1)}function yr(h,E){const S=new Wn,L=new AbortController,W=setTimeout(()=>{L.abort(),er(S,"TestPingServer: timeout",!1,E)},1e4);fetch(h,{signal:L.signal}).then(ce=>{clearTimeout(W),ce.ok?er(S,"TestPingServer: ok",!0,E):er(S,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(W),er(S,"TestPingServer: error",!1,E)})}function er(h,E,S,L,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),L(S)}catch{}}function ja(){this.g=new ni}function Dr(h,E,S){const L=S||"";try{Go(h,function(W,ce){let ye=W;y(W)&&(ye=Bt(W)),E.push(L+ce+"="+encodeURIComponent(ye))})}catch(W){throw E.push(L+"type="+encodeURIComponent("_badmap")),W}}function Bi(h){this.l=h.Ub||null,this.j=h.eb||!1}I(Bi,ri),Bi.prototype.g=function(){return new hi(this.l,this.j)},Bi.prototype.i=(function(h){return function(){return h}})({});function hi(h,E){We.call(this),this.D=h,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(hi,We),r=hi.prototype,r.open=function(h,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=E,this.readyState=1,Pr(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(E.body=h),(this.D||f).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Or(this)),this.readyState=0},r.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Pr(this)),this.g&&(this.readyState=3,Pr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$o(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function $o(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}r.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var E=h.value?h.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!h.done}))&&(this.response=this.responseText+=E)}h.done?Or(this):Pr(this),this.readyState==3&&$o(this)}},r.Ra=function(h){this.g&&(this.response=this.responseText=h,Or(this))},r.Qa=function(h){this.g&&(this.response=h,Or(this))},r.ga=function(){this.g&&Or(this)};function Or(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Pr(h)}r.setRequestHeader=function(h,E){this.u.append(h,E)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],E=this.h.entries();for(var S=E.next();!S.done;)S=S.value,h.push(S[0]+": "+S[1]),S=E.next();return h.join(`\r
`)};function Pr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Xo(h){let E="";return j(h,function(S,L){E+=L,E+=":",E+=S,E+=`\r
`}),E}function tn(h,E,S){e:{for(L in S){var L=!1;break e}L=!0}L||(S=Xo(S),typeof h=="string"?S!=null&&encodeURIComponent(String(S)):ot(h,E,S))}function et(h){We.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(et,We);var Ds=/^https?$/i,za=["POST","PUT"];r=et.prototype,r.Ha=function(h){this.J=h},r.ea=function(h,E,S,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);E=E?E.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cr.g(),this.v=this.o?Ui(this.o):Ui(Cr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(E,String(h),!0),this.B=!1}catch(ce){qu(this,ce);return}if(h=S||"",S=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var W in L)S.set(W,L[W]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const ce of L.keys())S.set(ce,L.get(ce));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(S.keys()).find(ce=>ce.toLowerCase()=="content-type"),W=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(za,E,void 0))||L||W||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ce,ye]of S)this.g.setRequestHeader(ce,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ba(this),this.u=!0,this.g.send(h),this.u=!1}catch(ce){qu(this,ce)}};function qu(h,E){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=E,h.m=5,Os(h),Mr(h)}function Os(h){h.A||(h.A=!0,Fe(h,"complete"),Fe(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Fe(this,"complete"),Fe(this,"abort"),Mr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mr(this,!0)),et.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ps(this):this.bb())},r.bb=function(){Ps(this)};function Ps(h){if(h.h&&typeof c<"u"&&(!h.v[1]||tr(h)!=4||h.Z()!=2)){if(h.u&&tr(h)==4)yt(h.Ea,0,h);else if(Fe(h,"readystatechange"),tr(h)==4){h.h=!1;try{const ye=h.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var S;if(!(S=E)){var L;if(L=ye===0){var W=String(h.D).match(La)[1]||null;!W&&f.self&&f.self.location&&(W=f.self.location.protocol.slice(0,-1)),L=!Ds.test(W?W.toLowerCase():"")}S=L}if(S)Fe(h,"complete"),Fe(h,"success");else{h.m=6;try{var ce=2<tr(h)?h.g.statusText:""}catch{ce=""}h.l=ce+" ["+h.Z()+"]",Os(h)}}finally{Mr(h)}}}}function Mr(h,E){if(h.g){Ba(h);const S=h.g,L=h.v[0]?()=>{}:null;h.g=null,h.v=null,E||Fe(h,"ready");try{S.onreadystatechange=L}catch{}}}function Ba(h){h.I&&(f.clearTimeout(h.I),h.I=null)}r.isActive=function(){return!!this.g};function tr(h){return h.g?h.g.readyState:0}r.Z=function(){try{return 2<tr(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(h){if(this.g){var E=this.g.responseText;return h&&E.indexOf(h)==0&&(E=E.substring(h.length)),Rr(E)}};function ju(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Td(h){const E={};h=(h.g&&2<=tr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<h.length;L++){if(B(h[L]))continue;var S=D(h[L]);const W=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ce=E[W]||[];E[W]=ce,ce.push(S)}U(E,function(L){return L.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fa(h,E,S){return S&&S.internalChannelParams&&S.internalChannelParams[h]||E}function Ms(h){this.Aa=0,this.i=[],this.j=new Wn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fa("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fa("baseRetryDelayMs",5e3,h),this.cb=Fa("retryDelaySeedMs",1e4,h),this.Wa=Fa("forwardChannelMaxRetries",2,h),this.wa=Fa("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new si(h&&h.concurrentRequestLimit),this.Da=new ja,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ms.prototype,r.la=8,r.G=1,r.connect=function(h,E,S,L){_t(0),this.W=h,this.H=E||{},S&&L!==void 0&&(this.H.OSID=S,this.H.OAID=L),this.F=this.X,this.I=Ku(this,null,this.W),Vs(this)};function Wo(h){if(zu(h),h.G==3){var E=h.U++,S=Bn(h.I);if(ot(S,"SID",h.K),ot(S,"RID",E),ot(S,"TYPE","terminate"),Ha(h,S),E=new Nn(h,h.j,E),E.L=2,E.v=Ua(Bn(S)),S=!1,f.navigator&&f.navigator.sendBeacon)try{S=f.navigator.sendBeacon(E.v.toString(),"")}catch{}!S&&f.Image&&(new Image().src=E.v,S=!0),S||(E.g=Yu(E.j,null),E.g.ea(E.v)),E.F=Date.now(),Pa(E)}Qu(h)}function Ls(h){h.g&&(Ga(h),h.g.cancel(),h.g=null)}function zu(h){Ls(h),h.u&&(f.clearTimeout(h.u),h.u=null),Us(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function Vs(h){if(!Rs(h.h)&&!h.s){h.s=!0;var E=h.Ga;N||M(),te||(N(),te=!0),X.add(E,h),h.B=0}}function bd(h,E){return Cs(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=E.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Lt(_(h.Ga,h,E),el(h,h.B)),h.B++,!0)}r.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const W=new Nn(this,this.j,h);let ce=this.o;if(this.S&&(ce?(ce=T(ce),x(ce,this.S)):ce=this.S),this.m!==null||this.O||(W.H=ce,ce=null),this.P)e:{for(var E=0,S=0;S<this.i.length;S++){t:{var L=this.i[S];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(E+=L,4096<E){E=S;break e}if(E===4096||S===this.i.length-1){E=S+1;break e}}E=1e3}else E=1e3;E=Bu(this,W,E),S=Bn(this.I),ot(S,"RID",h),ot(S,"CVER",22),this.D&&ot(S,"X-HTTP-Session-Id",this.D),Ha(this,S),ce&&(this.O?E="headers="+encodeURIComponent(String(Xo(ce)))+"&"+E:this.m&&tn(S,this.m,ce)),Is(this.h,W),this.Ua&&ot(S,"TYPE","init"),this.P?(ot(S,"$req",E),ot(S,"SID","null"),W.T=!0,gr(W,S,null)):gr(W,S,E),this.G=2}}else this.G==3&&(h?Jo(this,h):this.i.length==0||Rs(this.h)||Jo(this))};function Jo(h,E){var S;E?S=E.l:S=h.U++;const L=Bn(h.I);ot(L,"SID",h.K),ot(L,"RID",S),ot(L,"AID",h.T),Ha(h,L),h.m&&h.o&&tn(L,h.m,h.o),S=new Nn(h,h.j,S,h.B+1),h.m===null&&(S.H=h.o),E&&(h.i=E.D.concat(h.i)),E=Bu(h,S,1e3),S.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Is(h.h,S),gr(S,L,E)}function Ha(h,E){h.H&&j(h.H,function(S,L){ot(E,L,S)}),h.l&&Go({},function(S,L){ot(E,L,S)})}function Bu(h,E,S){S=Math.min(h.i.length,S);var L=h.l?_(h.l.Na,h.l,h):null;e:{var W=h.i;let ce=-1;for(;;){const ye=["count="+S];ce==-1?0<S?(ce=W[0].g,ye.push("ofs="+ce)):ce=0:ye.push("ofs="+ce);let He=!0;for(let Ht=0;Ht<S;Ht++){let Ge=W[Ht].g;const nn=W[Ht].map;if(Ge-=ce,0>Ge)ce=Math.max(0,W[Ht].g-100),He=!1;else try{Dr(nn,ye,"req"+Ge+"_")}catch{L&&L(nn)}}if(He){L=ye.join("&");break e}}}return h=h.i.splice(0,S),E.D=h,L}function Fu(h){if(!h.g&&!h.u){h.Y=1;var E=h.Fa;N||M(),te||(N(),te=!0),X.add(E,h),h.v=0}}function Zo(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Lt(_(h.Fa,h),el(h,h.v)),h.v++,!0)}r.Fa=function(){if(this.u=null,Hu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Lt(_(this.ab,this),h)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),Ls(this),Hu(this))};function Ga(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function Hu(h){h.g=new Nn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var E=Bn(h.qa);ot(E,"RID","rpc"),ot(E,"SID",h.K),ot(E,"AID",h.T),ot(E,"CI",h.F?"0":"1"),!h.F&&h.ja&&ot(E,"TO",h.ja),ot(E,"TYPE","xmlhttp"),Ha(h,E),h.m&&h.o&&tn(E,h.m,h.o),h.L&&(h.g.I=h.L);var S=h.g;h=h.ia,S.L=1,S.v=Ua(Bn(E)),S.m=null,S.P=!0,ai(S,h)}r.Za=function(){this.C!=null&&(this.C=null,Ls(this),Zo(this),_t(19))};function Us(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function Gu(h,E){var S=null;if(h.g==E){Us(h),Ga(h),h.g=null;var L=2}else if(Fo(h.h,E))S=E.D,Dn(h.h,E),L=1;else return;if(h.G!=0){if(E.o)if(L==1){S=E.m?E.m.length:0,E=Date.now()-E.F;var W=h.B;L=pr(),Fe(L,new Ft(L,S)),Vs(h)}else Fu(h);else if(W=E.s,W==3||W==0&&0<E.X||!(L==1&&bd(h,E)||L==2&&Zo(h)))switch(S&&0<S.length&&(E=h.h,E.i=E.i.concat(S)),W){case 1:di(h,5);break;case 4:di(h,10);break;case 3:di(h,6);break;default:di(h,2)}}}function el(h,E){let S=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(S*=2),S*E}function di(h,E){if(h.j.info("Error code "+E),E==2){var S=_(h.fb,h),L=h.Xa;const W=!L;L=new Vt(L||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Va(L,"https"),Ua(L),W?qa(L.toString(),S):yr(L.toString(),S)}else _t(2);h.G=0,h.l&&h.l.sa(E),Qu(h),zu(h)}r.fb=function(h){h?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function Qu(h){if(h.G=0,h.ka=[],h.l){const E=Ho(h.h);(E.length!=0||h.i.length!=0)&&(V(h.ka,E),V(h.ka,h.i),h.h.i.length=0,q(h.i),h.i.length=0),h.l.ra()}}function Ku(h,E,S){var L=S instanceof Vt?Bn(S):new Vt(S);if(L.g!="")E&&(L.g=E+"."+L.g),zi(L,L.s);else{var W=f.location;L=W.protocol,E=E?E+"."+W.hostname:W.hostname,W=+W.port;var ce=new Vt(null);L&&Va(ce,L),E&&(ce.g=E),W&&zi(ce,W),S&&(ce.l=S),L=ce}return S=h.D,E=h.ya,S&&E&&ot(L,S,E),ot(L,"VER",h.la),Ha(h,L),L}function Yu(h,E,S){if(E&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=h.Ca&&!h.pa?new et(new Bi({eb:S})):new et(h.pa),E.Ha(h.J),E}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function $u(){}r=$u.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ks(){}ks.prototype.g=function(h,E){return new On(h,E)};function On(h,E){We.call(this),this.g=new Ms(E),this.l=h,this.h=E&&E.messageUrlParams||null,h=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(h?h["X-WebChannel-Content-Type"]=E.messageContentType:h={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(h?h["X-WebChannel-Client-Profile"]=E.va:h={"X-WebChannel-Client-Profile":E.va}),this.g.S=h,(h=E&&E.Sb)&&!B(h)&&(this.g.m=h),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!B(E)&&(this.g.D=E,h=this.h,h!==null&&E in h&&(h=this.h,E in h&&delete h[E])),this.j=new Lr(this)}I(On,We),On.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},On.prototype.close=function(){Wo(this.g)},On.prototype.o=function(h){var E=this.g;if(typeof h=="string"){var S={};S.__data__=h,h=S}else this.u&&(S={},S.__data__=Bt(h),h=S);E.i.push(new Vu(E.Ya++,h)),E.G==3&&Vs(E)},On.prototype.N=function(){this.g.l=null,delete this.j,Wo(this.g),delete this.g,On.aa.N.call(this)};function Xu(h){en.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var E=h.__sm__;if(E){e:{for(const S in E){h=S;break e}h=void 0}(this.i=h)&&(h=this.i,E=E!==null&&h in E?E[h]:void 0),this.data=E}else this.data=h}I(Xu,en);function Wu(){Ln.call(this),this.status=1}I(Wu,Ln);function Lr(h){this.g=h}I(Lr,$u),Lr.prototype.ua=function(){Fe(this.g,"a")},Lr.prototype.ta=function(h){Fe(this.g,new Xu(h))},Lr.prototype.sa=function(h){Fe(this.g,new Wu)},Lr.prototype.ra=function(){Fe(this.g,"b")},ks.prototype.createWebChannel=ks.prototype.g,On.prototype.send=On.prototype.o,On.prototype.open=On.prototype.m,On.prototype.close=On.prototype.close,KE=function(){return new ks},QE=function(){return pr()},GE=hn,Km={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qi.NO_ERROR=0,qi.TIMEOUT=8,qi.HTTP_ERROR=6,mh=qi,ii.COMPLETE="complete",HE=ii,dr.EventType=fr,fr.OPEN="a",fr.CLOSE="b",fr.ERROR="c",fr.MESSAGE="d",We.prototype.listen=We.prototype.K,Kl=dr,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,FE=et}).apply(typeof eh<"u"?eh:typeof self<"u"?self:typeof window<"u"?window:{});const w1="@firebase/firestore",R1="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wn.UNAUTHENTICATED=new wn(null),wn.GOOGLE_CREDENTIALS=new wn("google-credentials-uid"),wn.FIRST_PARTY=new wn("first-party-uid"),wn.MOCK_USER=new wn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new bp("@firebase/firestore");function mo(){return ms.logLevel}function ve(r,...e){if(ms.logLevel<=qe.DEBUG){const n=e.map(Mp);ms.debug(`Firestore (${Vo}): ${r}`,...n)}}function Mi(r,...e){if(ms.logLevel<=qe.ERROR){const n=e.map(Mp);ms.error(`Firestore (${Vo}): ${r}`,...n)}}function Co(r,...e){if(ms.logLevel<=qe.WARN){const n=e.map(Mp);ms.warn(`Firestore (${Vo}): ${r}`,...n)}}function Mp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(r,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,YE(r,a,n)}function YE(r,e,n){let a=`FIRESTORE (${Vo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Mi(a),new Error(a)}function tt(r,e,n,a){let s="Unexpected state";typeof n=="string"?s=n:a=n,r||YE(e,s,a)}function Ne(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends ti{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(wn.UNAUTHENTICATED)))}shutdown(){}}class X3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class W3{constructor(e){this.t=e,this.currentUser=wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tt(this.o===void 0,42304);let a=this.i;const s=m=>this.i!==a?(a=this.i,n(m)):Promise.resolve();let l=new Ta;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ta,e.enqueueRetryable((()=>s(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await s(this.currentUser)}))},f=m=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ta)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(tt(typeof a.accessToken=="string",31837,{l:a}),new $E(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new wn(e)}}class J3{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=wn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Z3{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new J3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(wn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class C1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ur(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){tt(this.o===void 0,3512);const a=l=>{l.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ve("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>a(l)))};const s=l=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>s(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?s(l):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new C1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new C1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const s=tI(40);for(let l=0;l<s.length;++l)a.length<20&&s[l]<n&&(a+=e.charAt(s[l]%62))}return a}}function je(r,e){return r<e?-1:r>e?1:0}function Ym(r,e){const n=Math.min(r.length,e.length);for(let a=0;a<n;a++){const s=r.charAt(a),l=e.charAt(a);if(s!==l)return xm(s)===xm(l)?je(s,l):xm(s)?1:-1}return je(r.length,e.length)}const nI=55296,rI=57343;function xm(r){const e=r.charCodeAt(0);return e>=nI&&e<=rI}function Io(r,e,n){return r.length===e.length&&r.every(((a,s)=>n(a,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="__name__";class Br{constructor(e,n,a){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Ce(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Br.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Br?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let s=0;s<a;s++){const l=Br.compareSegments(e.get(s),n.get(s));if(l!==0)return l}return je(e.length,n.length)}static compareSegments(e,n){const a=Br.isNumericId(e),s=Br.isNumericId(n);return a&&!s?-1:!a&&s?1:a&&s?Br.extractNumericId(e).compare(Br.extractNumericId(n)):Ym(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ea.fromString(e.substring(4,e.length-2))}}class pt extends Br{construct(e,n,a){return new pt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new _e(fe.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((s=>s.length>0)))}return new pt(n)}static emptyPath(){return new pt([])}}const iI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends Br{construct(e,n,a){return new vn(e,n,a)}static isValidIdentifier(e){return iI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===I1}static keyField(){return new vn([I1])}static fromServerFormat(e){const n=[];let a="",s=0;const l=()=>{if(a.length===0)throw new _e(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let c=!1;for(;s<e.length;){const f=e[s];if(f==="\\"){if(s+1===e.length)throw new _e(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[s+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new _e(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=m,s+=2}else f==="`"?(c=!c,s++):f!=="."||c?(a+=f,s++):(l(),s++)}if(l(),c)throw new _e(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(n)}static emptyPath(){return new vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(pt.fromString(e))}static fromName(e){return new be(pt.fromString(e).popFirst(5))}static empty(){return new be(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new pt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(r,e,n){if(!n)throw new _e(fe.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function aI(r,e,n,a){if(e===!0&&a===!0)throw new _e(fe.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function x1(r){if(!be.isDocumentKey(r))throw new _e(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function N1(r){if(be.isDocumentKey(r))throw new _e(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function WE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function ed(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ce(12329,{type:typeof r})}function Nh(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new _e(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ed(r);throw new _e(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Ru(r,e){if(!WE(r))throw new _e(fe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const s=e[a].typeString,l="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){n=`JSON missing required field: '${a}'`;break}const c=r[a];if(s&&typeof c!==s){n=`JSON field '${a}' must be a ${s}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${a}' field to equal '${l.value}'`;break}}if(n)throw new _e(fe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=-62135596800,O1=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*O1);return new gt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<D1)throw new _e(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/O1}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ru(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-D1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:zt("string",gt._jsonSchemaVersion),seconds:zt("number"),nanoseconds:zt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new gt(0,0))}static max(){return new xe(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou=-1;function sI(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,s=xe.fromTimestamp(a===1e9?new gt(n+1,0):new gt(n,a));return new Sa(s,be.empty(),e)}function oI(r){return new Sa(r.readTime,r.key,ou)}class Sa{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Sa(xe.min(),be.empty(),ou)}static max(){return new Sa(xe.max(),be.empty(),ou)}}function lI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(r.documentKey,e.documentKey),n!==0?n:je(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(r){if(r.code!==fe.FAILED_PRECONDITION||r.message!==uI)throw r;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new pe(((a,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(a,s)},this.catchCallback=l=>{this.wrapFailure(n,l).next(a,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof pe?n:pe.resolve(n)}catch(n){return pe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):pe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):pe.reject(n)}static resolve(e){return new pe(((n,a)=>{n(e)}))}static reject(e){return new pe(((n,a)=>{a(e)}))}static waitFor(e){return new pe(((n,a)=>{let s=0,l=0,c=!1;e.forEach((f=>{++s,f.next((()=>{++l,c&&l===s&&n()}),(m=>a(m)))})),c=!0,l===s&&n()}))}static or(e){let n=pe.resolve(!1);for(const a of e)n=n.next((s=>s?pe.resolve(s):a()));return n}static forEach(e,n){const a=[];return e.forEach(((s,l)=>{a.push(n.call(this,s,l))})),this.waitFor(a)}static mapArray(e,n){return new pe(((a,s)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const y=m;n(e[y]).next((g=>{c[y]=g,++f,f===l&&a(c)}),(g=>s(g)))}}))}static doWhile(e,n){return new pe(((a,s)=>{const l=()=>{e()===!0?n().next((()=>{l()}),s):a()};l()}))}}function hI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ko(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}td.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp=-1;function nd(r){return r==null}function Dh(r){return r===0&&1/r==-1/0}function dI(r){return typeof r=="number"&&Number.isInteger(r)&&!Dh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="";function fI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=P1(e)),e=mI(r.get(n),e);return P1(e)}function mI(r,e){let n=e;const a=r.length;for(let s=0;s<a;s++){const l=r.charAt(s);switch(l){case"\0":n+="";break;case JE:n+="";break;default:n+=l}}return n}function P1(r){return r+JE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Es(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function ZE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const s=this.comparator(e,a.key);if(s===0)return n+a.left.size;s<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new th(this.root,e,this.comparator,!1)}getReverseIterator(){return new th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new th(this.root,e,this.comparator,!0)}}class th{constructor(e,n,a,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?a(e.key,n):1,n&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,n,a,s,l){this.key=e,this.value=n,this.color=a??_n.RED,this.left=s??_n.EMPTY,this.right=l??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,s,l){return new _n(e??this.key,n??this.value,a??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let s=this;const l=a(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,n,a),null):l===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,a)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return _n.EMPTY;a=s.right.min(),s=s.copy(a.key,a.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,a,s,l){return this}insert(e,n,a){return new _n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const s=a.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new L1(this.data.getIterator())}getIteratorFrom(e){return new L1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,l=a.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new $t(this.comparator);return n.data=e,n}}class L1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new Ar([])}unionWith(e){let n=new $t(vn.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Ar(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Io(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new eT("Invalid base64 string: "+l):l}})(e);return new En(n)}static fromUint8Array(e){const n=(function(s){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);return l})(e);return new En(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let s=0;s<n.length;s++)a[s]=n.charCodeAt(s);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}En.EMPTY_BYTE_STRING=new En("");const pI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wa(r){if(tt(!!r,39018),typeof r=="string"){let e=0;const n=pI.exec(r);if(tt(!!n,46558,{timestamp:r}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ot(r.seconds),nanos:Ot(r.nanos)}}function Ot(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ra(r){return typeof r=="string"?En.fromBase64String(r):En.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="server_timestamp",nT="__type__",rT="__previous_value__",iT="__local_write_time__";function Up(r){var n,a;return((a=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[nT])==null?void 0:a.stringValue)===tT}function rd(r){const e=r.mapValue.fields[rT];return Up(e)?rd(e):e}function lu(r){const e=wa(r.mapValue.fields[iT].timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,n,a,s,l,c,f,m,y,g){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=y,this.isUsingEmulator=g}}const Oh="(default)";class uu{constructor(e,n){this.projectId=e,this.database=n||Oh}static empty(){return new uu("","")}get isDefaultDatabase(){return this.database===Oh}isEqual(e){return e instanceof uu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="__type__",yI="__max__",nh={mapValue:{}},sT="__vector__",Ph="value";function Ca(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Up(r)?4:vI(r)?9007199254740991:_I(r)?10:11:Ce(28295,{value:r})}function Zr(r,e){if(r===e)return!0;const n=Ca(r);if(n!==Ca(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return lu(r).isEqual(lu(e));case 3:return(function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const c=wa(s.timestampValue),f=wa(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(s,l){return Ra(s.bytesValue).isEqual(Ra(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(s,l){return Ot(s.geoPointValue.latitude)===Ot(l.geoPointValue.latitude)&&Ot(s.geoPointValue.longitude)===Ot(l.geoPointValue.longitude)})(r,e);case 2:return(function(s,l){if("integerValue"in s&&"integerValue"in l)return Ot(s.integerValue)===Ot(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const c=Ot(s.doubleValue),f=Ot(l.doubleValue);return c===f?Dh(c)===Dh(f):isNaN(c)&&isNaN(f)}return!1})(r,e);case 9:return Io(r.arrayValue.values||[],e.arrayValue.values||[],Zr);case 10:case 11:return(function(s,l){const c=s.mapValue.fields||{},f=l.mapValue.fields||{};if(M1(c)!==M1(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!Zr(c[m],f[m])))return!1;return!0})(r,e);default:return Ce(52216,{left:r})}}function cu(r,e){return(r.values||[]).find((n=>Zr(n,e)))!==void 0}function xo(r,e){if(r===e)return 0;const n=Ca(r),a=Ca(e);if(n!==a)return je(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(r.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=Ot(l.integerValue||l.doubleValue),m=Ot(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(r,e);case 3:return V1(r.timestampValue,e.timestampValue);case 4:return V1(lu(r),lu(e));case 5:return Ym(r.stringValue,e.stringValue);case 6:return(function(l,c){const f=Ra(l),m=Ra(c);return f.compareTo(m)})(r.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),m=c.split("/");for(let y=0;y<f.length&&y<m.length;y++){const g=je(f[y],m[y]);if(g!==0)return g}return je(f.length,m.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=je(Ot(l.latitude),Ot(c.latitude));return f!==0?f:je(Ot(l.longitude),Ot(c.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return U1(r.arrayValue,e.arrayValue);case 10:return(function(l,c){var _,A,I,q;const f=l.fields||{},m=c.fields||{},y=(_=f[Ph])==null?void 0:_.arrayValue,g=(A=m[Ph])==null?void 0:A.arrayValue,v=je(((I=y==null?void 0:y.values)==null?void 0:I.length)||0,((q=g==null?void 0:g.values)==null?void 0:q.length)||0);return v!==0?v:U1(y,g)})(r.mapValue,e.mapValue);case 11:return(function(l,c){if(l===nh.mapValue&&c===nh.mapValue)return 0;if(l===nh.mapValue)return 1;if(c===nh.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),y=c.fields||{},g=Object.keys(y);m.sort(),g.sort();for(let v=0;v<m.length&&v<g.length;++v){const _=Ym(m[v],g[v]);if(_!==0)return _;const A=xo(f[m[v]],y[g[v]]);if(A!==0)return A}return je(m.length,g.length)})(r.mapValue,e.mapValue);default:throw Ce(23264,{he:n})}}function V1(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return je(r,e);const n=wa(r),a=wa(e),s=je(n.seconds,a.seconds);return s!==0?s:je(n.nanos,a.nanos)}function U1(r,e){const n=r.values||[],a=e.values||[];for(let s=0;s<n.length&&s<a.length;++s){const l=xo(n[s],a[s]);if(l)return l}return je(n.length,a.length)}function No(r){return $m(r)}function $m(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const a=wa(n);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Ra(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return be.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let a="[",s=!0;for(const l of n.values||[])s?s=!1:a+=",",a+=$m(l);return a+"]"})(r.arrayValue):"mapValue"in r?(function(n){const a=Object.keys(n.fields||{}).sort();let s="{",l=!0;for(const c of a)l?l=!1:s+=",",s+=`${c}:${$m(n.fields[c])}`;return s+"}"})(r.mapValue):Ce(61005,{value:r})}function ph(r){switch(Ca(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rd(r);return e?16+ph(e):16;case 5:return 2*r.stringValue.length;case 6:return Ra(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((s,l)=>s+ph(l)),0)})(r.arrayValue);case 10:case 11:return(function(a){let s=0;return Es(a.fields,((l,c)=>{s+=l.length+ph(c)})),s})(r.mapValue);default:throw Ce(13486,{value:r})}}function k1(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Xm(r){return!!r&&"integerValue"in r}function kp(r){return!!r&&"arrayValue"in r}function q1(r){return!!r&&"nullValue"in r}function j1(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function gh(r){return!!r&&"mapValue"in r}function _I(r){var n,a;return((a=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[aT])==null?void 0:a.stringValue)===sT}function Jl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Es(r.mapValue.fields,((n,a)=>e.mapValue.fields[n]=Jl(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jl(r.arrayValue.values[n]);return e}return{...r}}function vI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===yI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.value=e}static empty(){return new cr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!gh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jl(n)}setAll(e){let n=vn.emptyPath(),a={},s=[];e.forEach(((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,a,s),a={},s=[],n=f.popLast()}c?a[f.lastSegment()]=Jl(c):s.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,a,s)}delete(e){const n=this.field(e.popLast());gh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let s=n.mapValue.fields[e.get(a)];gh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,a){Es(n,((s,l)=>e[s]=l));for(const s of a)delete e[s]}clone(){return new cr(Jl(this.value))}}function oT(r){const e=[];return Es(r.fields,((n,a)=>{const s=new vn([n]);if(gh(a)){const l=oT(a.mapValue).fields;if(l.length===0)e.push(s);else for(const c of l)e.push(s.child(c))}else e.push(s)})),new Ar(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,n,a,s,l,c,f){this.key=e,this.documentType=n,this.version=a,this.readTime=s,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Rn(e,0,xe.min(),xe.min(),xe.min(),cr.empty(),0)}static newFoundDocument(e,n,a,s){return new Rn(e,1,n,xe.min(),a,s,0)}static newNoDocument(e,n){return new Rn(e,2,n,xe.min(),xe.min(),cr.empty(),0)}static newUnknownDocument(e,n){return new Rn(e,3,n,xe.min(),xe.min(),cr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n){this.position=e,this.inclusive=n}}function z1(r,e,n){let a=0;for(let s=0;s<r.position.length;s++){const l=e[s],c=r.position[s];if(l.field.isKeyField()?a=be.comparator(be.fromName(c.referenceValue),n.key):a=xo(c,n.data.field(l.field)),l.dir==="desc"&&(a*=-1),a!==0)break}return a}function B1(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Zr(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n="asc"){this.field=e,this.dir=n}}function EI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{}class jt extends lT{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new bI(e,n,a):n==="array-contains"?new wI(e,a):n==="in"?new RI(e,a):n==="not-in"?new CI(e,a):n==="array-contains-any"?new II(e,a):new jt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new AI(e,a):new SI(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(xo(n,this.value)):n!==null&&Ca(this.value)===Ca(n)&&this.matchesComparison(xo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wr extends lT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new wr(e,n)}matches(e){return uT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uT(r){return r.op==="and"}function cT(r){return TI(r)&&uT(r)}function TI(r){for(const e of r.filters)if(e instanceof wr)return!1;return!0}function Wm(r){if(r instanceof jt)return r.field.canonicalString()+r.op.toString()+No(r.value);if(cT(r))return r.filters.map((e=>Wm(e))).join(",");{const e=r.filters.map((n=>Wm(n))).join(",");return`${r.op}(${e})`}}function hT(r,e){return r instanceof jt?(function(a,s){return s instanceof jt&&a.op===s.op&&a.field.isEqual(s.field)&&Zr(a.value,s.value)})(r,e):r instanceof wr?(function(a,s){return s instanceof wr&&a.op===s.op&&a.filters.length===s.filters.length?a.filters.reduce(((l,c,f)=>l&&hT(c,s.filters[f])),!0):!1})(r,e):void Ce(19439)}function dT(r){return r instanceof jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${No(n.value)}`})(r):r instanceof wr?(function(n){return n.op.toString()+" {"+n.getFilters().map(dT).join(" ,")+"}"})(r):"Filter"}class bI extends jt{constructor(e,n,a){super(e,n,a),this.key=be.fromName(a.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class AI extends jt{constructor(e,n){super(e,"in",n),this.keys=fT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class SI extends jt{constructor(e,n){super(e,"not-in",n),this.keys=fT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function fT(r,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((a=>be.fromName(a.referenceValue)))}class wI extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return kp(n)&&cu(n.arrayValue,this.value)}}class RI extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cu(this.value.arrayValue,n)}}class CI extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!cu(this.value.arrayValue,n)}}class II extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!kp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>cu(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,n=null,a=[],s=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=s,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function F1(r,e=null,n=[],a=[],s=null,l=null,c=null){return new xI(r,e,n,a,s,l,c)}function qp(r){const e=Ne(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>Wm(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(l){return l.field.canonicalString()+l.dir})(a))).join(","),nd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>No(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>No(a))).join(",")),e.Te=n}return e.Te}function jp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!EI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!hT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!B1(r.startAt,e.startAt)&&B1(r.endAt,e.endAt)}function Jm(r){return be.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n=null,a=[],s=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=s,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function NI(r,e,n,a,s,l,c,f){return new qo(r,e,n,a,s,l,c,f)}function mT(r){return new qo(r)}function H1(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function pT(r){return r.collectionGroup!==null}function Zl(r){const e=Ne(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new $t(vn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((y=>{y.isInequality()&&(f=f.add(y.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new hu(l,a))})),n.has(vn.keyField().canonicalString())||e.Ie.push(new hu(vn.keyField(),a))}return e.Ie}function Yr(r){const e=Ne(r);return e.Ee||(e.Ee=DI(e,Zl(r))),e.Ee}function DI(r,e){if(r.limitType==="F")return F1(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((s=>{const l=s.dir==="desc"?"asc":"desc";return new hu(s.field,l)}));const n=r.endAt?new Mh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Mh(r.startAt.position,r.startAt.inclusive):null;return F1(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function Zm(r,e){const n=r.filters.concat([e]);return new qo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function ep(r,e,n){return new qo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function id(r,e){return jp(Yr(r),Yr(e))&&r.limitType===e.limitType}function gT(r){return`${qp(Yr(r))}|lt:${r.limitType}`}function po(r){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((s=>dT(s))).join(", ")}]`),nd(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((s=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(s))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((s=>No(s))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((s=>No(s))).join(",")),`Target(${a})`})(Yr(r))}; limitType=${r.limitType})`}function ad(r,e){return e.isFoundDocument()&&(function(a,s){const l=s.key.path;return a.collectionGroup!==null?s.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(l):be.isDocumentKey(a.path)?a.path.isEqual(l):a.path.isImmediateParentOf(l)})(r,e)&&(function(a,s){for(const l of Zl(a))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(a,s){for(const l of a.filters)if(!l.matches(s))return!1;return!0})(r,e)&&(function(a,s){return!(a.startAt&&!(function(c,f,m){const y=z1(c,f,m);return c.inclusive?y<=0:y<0})(a.startAt,Zl(a),s)||a.endAt&&!(function(c,f,m){const y=z1(c,f,m);return c.inclusive?y>=0:y>0})(a.endAt,Zl(a),s))})(r,e)}function OI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function yT(r){return(e,n)=>{let a=!1;for(const s of Zl(r)){const l=PI(s,e,n);if(l!==0)return l;a=a||s.field.isKeyField()}return 0}}function PI(r,e,n){const a=r.field.isKeyField()?be.comparator(e.key,n.key):(function(l,c,f){const m=c.data.field(l),y=f.data.field(l);return m!==null&&y!==null?xo(m,y):Ce(42886)})(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Ce(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[s,l]of a)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),s=this.inner[a];if(s===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],e))return a.length===1?delete this.inner[n]:a.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Es(this.inner,((n,a)=>{for(const[s,l]of a)e(s,l)}))}isEmpty(){return ZE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=new bt(be.comparator);function Li(){return MI}const _T=new bt(be.comparator);function Yl(...r){let e=_T;for(const n of r)e=e.insert(n.key,n);return e}function vT(r){let e=_T;return r.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function ls(){return eu()}function ET(){return eu()}function eu(){return new Ts((r=>r.toString()),((r,e)=>r.isEqual(e)))}const LI=new bt(be.comparator),VI=new $t(be.comparator);function ze(...r){let e=VI;for(const n of r)e=e.add(n);return e}const UI=new $t(je);function kI(){return UI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dh(e)?"-0":e}}function TT(r){return{integerValue:""+r}}function qI(r,e){return dI(e)?TT(e):zp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(){this._=void 0}}function jI(r,e,n){return r instanceof du?(function(s,l){const c={fields:{[nT]:{stringValue:tT},[iT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&Up(l)&&(l=rd(l)),l&&(c.fields[rT]=l),{mapValue:c}})(n,e):r instanceof fu?AT(r,e):r instanceof mu?ST(r,e):(function(s,l){const c=bT(s,l),f=G1(c)+G1(s.Ae);return Xm(c)&&Xm(s.Ae)?TT(f):zp(s.serializer,f)})(r,e)}function zI(r,e,n){return r instanceof fu?AT(r,e):r instanceof mu?ST(r,e):n}function bT(r,e){return r instanceof Lh?(function(a){return Xm(a)||(function(l){return!!l&&"doubleValue"in l})(a)})(e)?e:{integerValue:0}:null}class du extends sd{}class fu extends sd{constructor(e){super(),this.elements=e}}function AT(r,e){const n=wT(e);for(const a of r.elements)n.some((s=>Zr(s,a)))||n.push(a);return{arrayValue:{values:n}}}class mu extends sd{constructor(e){super(),this.elements=e}}function ST(r,e){let n=wT(e);for(const a of r.elements)n=n.filter((s=>!Zr(s,a)));return{arrayValue:{values:n}}}class Lh extends sd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function G1(r){return Ot(r.integerValue||r.doubleValue)}function wT(r){return kp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n){this.field=e,this.transform=n}}function FI(r,e){return r.field.isEqual(e.field)&&(function(a,s){return a instanceof fu&&s instanceof fu||a instanceof mu&&s instanceof mu?Io(a.elements,s.elements,Zr):a instanceof Lh&&s instanceof Lh?Zr(a.Ae,s.Ae):a instanceof du&&s instanceof du})(r.transform,e.transform)}class HI{constructor(e,n){this.version=e,this.transformResults=n}}class Ni{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ni}static exists(e){return new Ni(void 0,e)}static updateTime(e){return new Ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class od{}function RT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new IT(r.key,Ni.none()):new Cu(r.key,r.data,Ni.none());{const n=r.data,a=cr.empty();let s=new $t(vn.comparator);for(let l of e.fields)if(!s.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?a.delete(l):a.set(l,c),s=s.add(l)}return new bs(r.key,a,new Ar(s.toArray()),Ni.none())}}function GI(r,e,n){r instanceof Cu?(function(s,l,c){const f=s.value.clone(),m=K1(s.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(r,e,n):r instanceof bs?(function(s,l,c){if(!yh(s.precondition,l))return void l.convertToUnknownDocument(c.version);const f=K1(s.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(CT(s)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(r,e,n):(function(s,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function tu(r,e,n,a){return r instanceof Cu?(function(l,c,f,m){if(!yh(l.precondition,c))return f;const y=l.value.clone(),g=Y1(l.fieldTransforms,m,c);return y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null})(r,e,n,a):r instanceof bs?(function(l,c,f,m){if(!yh(l.precondition,c))return f;const y=Y1(l.fieldTransforms,m,c),g=c.data;return g.setAll(CT(l)),g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(r,e,n,a):(function(l,c,f){return yh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(r,e,n)}function QI(r,e){let n=null;for(const a of r.fieldTransforms){const s=e.data.field(a.field),l=bT(a.transform,s||null);l!=null&&(n===null&&(n=cr.empty()),n.set(a.field,l))}return n||null}function Q1(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,s){return a===void 0&&s===void 0||!(!a||!s)&&Io(a,s,((l,c)=>FI(l,c)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Cu extends od{constructor(e,n,a,s=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class bs extends od{constructor(e,n,a,s,l=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function CT(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}})),e}function K1(r,e,n){const a=new Map;tt(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let s=0;s<n.length;s++){const l=r[s],c=l.transform,f=e.data.field(l.field);a.set(l.field,zI(c,f,n[s]))}return a}function Y1(r,e,n){const a=new Map;for(const s of r){const l=s.transform,c=n.data.field(s.field);a.set(s.field,jI(l,c,e))}return a}class IT extends od{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KI extends od{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,n,a,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=s}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&GI(l,e,a[s])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=tu(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=tu(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=ET();return this.mutations.forEach((s=>{const l=e.get(s.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(s.key)?null:f;const m=RT(c,f);m!==null&&a.set(s.key,m),c.isValidDocument()||c.convertToNoDocument(xe.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ze())}isEqual(e){return this.batchId===e.batchId&&Io(this.mutations,e.mutations,((n,a)=>Q1(n,a)))&&Io(this.baseMutations,e.baseMutations,((n,a)=>Q1(n,a)))}}class Bp{constructor(e,n,a,s){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=s}static from(e,n,a){tt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let s=(function(){return LI})();const l=e.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,a[c].version);return new Bp(e,n,a,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,Ke;function WI(r){switch(r){case fe.OK:return Ce(64938);case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0;default:return Ce(15467,{code:r})}}function xT(r){if(r===void 0)return Mi("GRPC error has no .code"),fe.UNKNOWN;switch(r){case qt.OK:return fe.OK;case qt.CANCELLED:return fe.CANCELLED;case qt.UNKNOWN:return fe.UNKNOWN;case qt.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case qt.INTERNAL:return fe.INTERNAL;case qt.UNAVAILABLE:return fe.UNAVAILABLE;case qt.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case qt.NOT_FOUND:return fe.NOT_FOUND;case qt.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case qt.ABORTED:return fe.ABORTED;case qt.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case qt.DATA_LOSS:return fe.DATA_LOSS;default:return Ce(39323,{code:r})}}(Ke=qt||(qt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=new Ea([4294967295,4294967295],0);function $1(r){const e=JI().encode(r),n=new BE;return n.update(e),new Uint8Array(n.digest())}function X1(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ea([n,a],0),new Ea([s,l],0)]}class Fp{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new $l(`Invalid padding: ${n}`);if(a<0)throw new $l(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new $l(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new $l(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ea.fromNumber(this.ge)}ye(e,n,a){let s=e.add(n.multiply(Ea.fromNumber(a)));return s.compare(ZI)===1&&(s=new Ea([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=$1(e),[a,s]=X1(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(a,s,l);if(!this.we(c))return!1}return!0}static create(e,n,a){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Fp(l,s,n);return a.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const n=$1(e),[a,s]=X1(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(a,s,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class $l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n,a,s,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const s=new Map;return s.set(e,Iu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new ld(xe.min(),s,new bt(je),Li(),ze())}}class Iu{constructor(e,n,a,s,l){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Iu(a,n,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n,a,s){this.be=e,this.removedTargetIds=n,this.key=a,this.De=s}}class NT{constructor(e,n){this.targetId=e,this.Ce=n}}class DT{constructor(e,n,a=En.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=s}}class W1{constructor(){this.ve=0,this.Fe=J1(),this.Me=En.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),a=ze();return this.Fe.forEach(((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:a=a.add(s);break;default:Ce(38017,{changeType:l})}})),new Iu(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=J1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class e4{constructor(e){this.Ge=e,this.ze=new Map,this.je=Li(),this.Je=rh(),this.He=rh(),this.Ye=new bt(je)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,a=e.Ce.count,s=this.ot(n);if(s){const l=s.target;if(Jm(l))if(a===0){const c=new be(l.path);this.et(n,c,Rn.newNoDocument(c,xe.min()))}else tt(a===1,20013,{expectedCount:a});else{const c=this._t(n);if(c!==a){const f=this.ut(e),m=f?this.ct(f,e,c):1;if(m!==0){this.it(n);const y=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:s=0},hashCount:l=0}=n;let c,f;try{c=Ra(a).toUint8Array()}catch(m){if(m instanceof eT)return Co("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new Fp(c,s,l)}catch(m){return Co(m instanceof $l?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let s=0;return a.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&Jm(f.target)){const m=new be(f.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,Rn.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let a=ze();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((m=>{const y=this.ot(m);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(a=a.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const s=new ld(e,n,this.Ye,this.je,a);return this.je=Li(),this.Je=rh(),this.He=rh(),this.Ye=new bt(je),s}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new W1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new $t(je),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new $t(je),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new W1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function rh(){return new bt(be.comparator)}function J1(){return new bt(be.comparator)}const t4={asc:"ASCENDING",desc:"DESCENDING"},n4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},r4={and:"AND",or:"OR"};class i4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tp(r,e){return r.useProto3Json||nd(e)?e:{value:e}}function Vh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function a4(r,e){return Vh(r,e.toTimestamp())}function $r(r){return tt(!!r,49232),xe.fromTimestamp((function(n){const a=wa(n);return new gt(a.seconds,a.nanos)})(r))}function Hp(r,e){return np(r,e).canonicalString()}function np(r,e){const n=(function(s){return new pt(["projects",s.projectId,"databases",s.database])})(r).child("documents");return e===void 0?n:n.child(e)}function PT(r){const e=pt.fromString(r);return tt(kT(e),10190,{key:e.toString()}),e}function rp(r,e){return Hp(r.databaseId,e.path)}function Nm(r,e){const n=PT(e);if(n.get(1)!==r.databaseId.projectId)throw new _e(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new _e(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new be(LT(n))}function MT(r,e){return Hp(r.databaseId,e)}function s4(r){const e=PT(r);return e.length===4?pt.emptyPath():LT(e)}function ip(r){return new pt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function LT(r){return tt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Z1(r,e,n){return{name:rp(r,e),fields:n.value.mapValue.fields}}function o4(r,e){let n;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ce(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=(function(y,g){return y.useProto3Json?(tt(g===void 0||typeof g=="string",58123),En.fromBase64String(g||"")):(tt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),En.fromUint8Array(g||new Uint8Array))})(r,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(y){const g=y.code===void 0?fe.UNKNOWN:xT(y.code);return new _e(g,y.message||"")})(c);n=new DT(a,s,l,f||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const s=Nm(r,a.document.name),l=$r(a.document.updateTime),c=a.document.createTime?$r(a.document.createTime):xe.min(),f=new cr({mapValue:{fields:a.document.fields}}),m=Rn.newFoundDocument(s,l,c,f),y=a.targetIds||[],g=a.removedTargetIds||[];n=new _h(y,g,m.key,m)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const s=Nm(r,a.document),l=a.readTime?$r(a.readTime):xe.min(),c=Rn.newNoDocument(s,l),f=a.removedTargetIds||[];n=new _h([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const s=Nm(r,a.document),l=a.removedTargetIds||[];n=new _h([],l,s,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:s=0,unchangedNames:l}=a,c=new XI(s,l),f=a.targetId;n=new NT(f,c)}}return n}function l4(r,e){let n;if(e instanceof Cu)n={update:Z1(r,e.key,e.value)};else if(e instanceof IT)n={delete:rp(r,e.key)};else if(e instanceof bs)n={update:Z1(r,e.key,e.data),updateMask:y4(e.fieldMask)};else{if(!(e instanceof KI))return Ce(16599,{Vt:e.type});n={verify:rp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(l,c){const f=c.transform;if(f instanceof du)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof fu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof mu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Lh)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw Ce(20930,{transform:c.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(s,l){return l.updateTime!==void 0?{updateTime:a4(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ce(27497)})(r,e.precondition)),n}function u4(r,e){return r&&r.length>0?(tt(e!==void 0,14353),r.map((n=>(function(s,l){let c=s.updateTime?$r(s.updateTime):$r(l);return c.isEqual(xe.min())&&(c=$r(l)),new HI(c,s.transformResults||[])})(n,e)))):[]}function c4(r,e){return{documents:[MT(r,e.path)]}}function h4(r,e){const n={structuredQuery:{}},a=e.path;let s;e.collectionGroup!==null?(s=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=MT(r,s);const l=(function(y){if(y.length!==0)return UT(wr.create(y,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(y){if(y.length!==0)return y.map((g=>(function(_){return{field:go(_.field),direction:m4(_.dir)}})(g)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=tp(r,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:s}}function d4(r){let e=s4(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let s=null;if(a>0){tt(a===1,65062);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let l=[];n.where&&(l=(function(v){const _=VT(v);return _ instanceof wr&&cT(_)?_.getFilters():[_]})(n.where));let c=[];n.orderBy&&(c=(function(v){return v.map((_=>(function(I){return new hu(yo(I.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(_)))})(n.orderBy));let f=null;n.limit&&(f=(function(v){let _;return _=typeof v=="object"?v.value:v,nd(_)?null:_})(n.limit));let m=null;n.startAt&&(m=(function(v){const _=!!v.before,A=v.values||[];return new Mh(A,_)})(n.startAt));let y=null;return n.endAt&&(y=(function(v){const _=!v.before,A=v.values||[];return new Mh(A,_)})(n.endAt)),NI(e,s,c,l,f,"F",m,y)}function f4(r,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function VT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=yo(n.unaryFilter.field);return jt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const s=yo(n.unaryFilter.field);return jt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=yo(n.unaryFilter.field);return jt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=yo(n.unaryFilter.field);return jt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(r):r.fieldFilter!==void 0?(function(n){return jt.create(yo(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return wr.create(n.compositeFilter.filters.map((a=>VT(a))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(n.compositeFilter.op))})(r):Ce(30097,{filter:r})}function m4(r){return t4[r]}function p4(r){return n4[r]}function g4(r){return r4[r]}function go(r){return{fieldPath:r.canonicalString()}}function yo(r){return vn.fromServerFormat(r.fieldPath)}function UT(r){return r instanceof jt?(function(n){if(n.op==="=="){if(j1(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NAN"}};if(q1(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(j1(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NAN"}};if(q1(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(n.field),op:p4(n.op),value:n.value}}})(r):r instanceof wr?(function(n){const a=n.getFilters().map((s=>UT(s)));return a.length===1?a[0]:{compositeFilter:{op:g4(n.op),filters:a}}})(r):Ce(54877,{filter:r})}function y4(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function kT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n,a,s,l=xe.min(),c=xe.min(),f=En.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new ga(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ga(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e){this.yt=e}}function v4(r){const e=d4({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ep(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(){this.Cn=new T4}addToCollectionParentIndex(e,n){return this.Cn.add(n),pe.resolve()}getCollectionParents(e,n){return pe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return pe.resolve()}deleteFieldIndex(e,n){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,n){return pe.resolve()}getDocumentsMatchingTarget(e,n){return pe.resolve(null)}getIndexType(e,n){return pe.resolve(0)}getFieldIndexes(e,n){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,n){return pe.resolve(Sa.min())}getMinOffsetFromCollectionGroup(e,n){return pe.resolve(Sa.min())}updateCollectionGroup(e,n,a){return pe.resolve()}updateIndexEntries(e,n){return pe.resolve()}}class T4{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),s=this.index[n]||new $t(pt.comparator),l=!s.has(a);return this.index[n]=s.add(a),l}has(e){const n=e.lastSegment(),a=e.popLast(),s=this.index[n];return s&&s.has(a)}getEntries(e){return(this.index[e]||new $t(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qT=41943040;class jn{static withCacheSize(e){return new jn(e,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(qT,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Do(0)}static cr(){return new Do(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="LruGarbageCollector",b4=1048576;function n0([r,e],[n,a]){const s=je(r,n);return s===0?je(e,a):s}class A4{constructor(e){this.Ir=e,this.buffer=new $t(n0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();n0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class S4{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ve(t0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ko(n)?ve(t0,"Ignoring IndexedDB error during garbage collection: ",n):await Uo(n)}await this.Vr(3e5)}))}}class w4{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return pe.resolve(td.ce);const a=new A4(n);return this.mr.forEachTarget(e,(s=>a.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>a.Ar(s))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(e0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,s,l,c,f,m,y;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,c=Date.now(),this.nthSequenceNumber(e,s)))).next((v=>(a=v,f=Date.now(),this.removeTargets(e,a,n)))).next((v=>(l=v,m=Date.now(),this.removeOrphanedDocuments(e,a)))).next((v=>(y=Date.now(),mo()<=qe.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${s} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${v} documents in `+(y-m)+`ms
Total Duration: ${y-g}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:v}))))}}function R4(r,e){return new w4(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(){this.changes=new Ts((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?pe.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e,n,a,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=s}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(a=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(a!==null&&tu(a.mutation,s,Ar.empty(),gt.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,ze()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=ze()){const s=ls();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,a).next((l=>{let c=Yl();return l.forEach(((f,m)=>{c=c.insert(f,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const a=ls();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,ze())))}populateOverlays(e,n,a){const s=[];return a.forEach((l=>{n.has(l)||s.push(l)})),this.documentOverlayCache.getOverlays(e,s).next((l=>{l.forEach(((c,f)=>{n.set(c,f)}))}))}computeViews(e,n,a,s){let l=Li();const c=eu(),f=(function(){return eu()})();return n.forEach(((m,y)=>{const g=a.get(y.key);s.has(y.key)&&(g===void 0||g.mutation instanceof bs)?l=l.insert(y.key,y):g!==void 0?(c.set(y.key,g.mutation.getFieldMask()),tu(g.mutation,y,g.mutation.getFieldMask(),gt.now())):c.set(y.key,Ar.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((y,g)=>c.set(y,g))),n.forEach(((y,g)=>f.set(y,new I4(g,c.get(y)??null)))),f)))}recalculateAndSaveOverlays(e,n){const a=eu();let s=new bt(((c,f)=>c-f)),l=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const f of c)f.keys().forEach((m=>{const y=n.get(m);if(y===null)return;let g=a.get(m)||Ar.empty();g=f.applyToLocalView(y,g),a.set(m,g);const v=(s.get(f.batchId)||ze()).add(m);s=s.insert(f.batchId,v)}))})).next((()=>{const c=[],f=s.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),y=m.key,g=m.value,v=ET();g.forEach((_=>{if(!l.has(_)){const A=RT(n.get(_),a.get(_));A!==null&&v.set(_,A),l=l.add(_)}})),c.push(this.documentOverlayCache.saveOverlays(e,y,v))}return pe.waitFor(c)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,s){return(function(c){return be.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):pT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,s):this.getDocumentsMatchingCollectionQuery(e,n,a,s)}getNextDocuments(e,n,a,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,s).next((l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,s-l.size):pe.resolve(ls());let f=ou,m=l;return c.next((y=>pe.forEach(y,((g,v)=>(f<v.largestBatchId&&(f=v.largestBatchId),l.get(g)?pe.resolve():this.remoteDocumentCache.getEntry(e,g).next((_=>{m=m.insert(g,_)}))))).next((()=>this.populateOverlays(e,y,l))).next((()=>this.computeViews(e,m,y,ze()))).next((g=>({batchId:f,changes:vT(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((a=>{let s=Yl();return a.isFoundDocument()&&(s=s.insert(a.key,a)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,s){const l=n.collectionGroup;let c=Yl();return this.indexManager.getCollectionParents(e,l).next((f=>pe.forEach(f,(m=>{const y=(function(v,_){return new qo(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,a,s).next((g=>{g.forEach(((v,_)=>{c=c.insert(v,_)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,a,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,l,s)))).next((c=>{l.forEach(((m,y)=>{const g=y.getKey();c.get(g)===null&&(c=c.insert(g,Rn.newInvalidDocument(g)))}));let f=Yl();return c.forEach(((m,y)=>{const g=l.get(m);g!==void 0&&tu(g.mutation,y,Ar.empty(),gt.now()),ad(n,y)&&(f=f.insert(m,y))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return pe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:$r(s.createTime)}})(n)),pe.resolve()}getNamedQuery(e,n){return pe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:v4(s.bundledQuery),readTime:$r(s.readTime)}})(n)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(){this.overlays=new bt(be.comparator),this.qr=new Map}getOverlay(e,n){return pe.resolve(this.overlays.get(n))}getOverlays(e,n){const a=ls();return pe.forEach(n,(s=>this.getOverlay(e,s).next((l=>{l!==null&&a.set(s,l)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((s,l)=>{this.St(e,n,l)})),pe.resolve()}removeOverlaysForBatchId(e,n,a){const s=this.qr.get(a);return s!==void 0&&(s.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(a)),pe.resolve()}getOverlaysForCollection(e,n,a){const s=ls(),l=n.length+1,c=new be(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,y=m.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===l&&m.largestBatchId>a&&s.set(m.getKey(),m)}return pe.resolve(s)}getOverlaysForCollectionGroup(e,n,a,s){let l=new bt(((y,g)=>y-g));const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>a){let g=l.get(y.largestBatchId);g===null&&(g=ls(),l=l.insert(y.largestBatchId,g)),g.set(y.getKey(),y)}}const f=ls(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((y,g)=>f.set(y,g))),!(f.size()>=s)););return pe.resolve(f)}St(e,n,a){const s=this.overlays.get(a.key);if(s!==null){const c=this.qr.get(s.largestBatchId).delete(a.key);this.qr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(a.key,new $I(n,a));let l=this.qr.get(n);l===void 0&&(l=ze(),this.qr.set(n,l)),this.qr.set(n,l.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(){this.sessionToken=En.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(){this.Qr=new $t(on.$r),this.Ur=new $t(on.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new on(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Gr(new on(e,n))}zr(e,n){e.forEach((a=>this.removeReference(a,n)))}jr(e){const n=new be(new pt([])),a=new on(n,e),s=new on(n,e+1),l=[];return this.Ur.forEachInRange([a,s],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new be(new pt([])),a=new on(n,e),s=new on(n,e+1);let l=ze();return this.Ur.forEachInRange([a,s],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new on(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class on{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return be.comparator(e.key,n.key)||je(e.Yr,n.Yr)}static Kr(e,n){return je(e.Yr,n.Yr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new $t(on.$r)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,s){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new YI(l,n,a,s);this.mutationQueue.push(c);for(const f of s)this.Zr=this.Zr.add(new on(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return pe.resolve(c)}lookupMutationBatch(e,n){return pe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,s=this.ei(a),l=s<0?0:s;return pe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?Vp:this.tr-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new on(n,0),s=new on(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([a,s],(c=>{const f=this.Xr(c.Yr);l.push(f)})),pe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new $t(je);return n.forEach((s=>{const l=new on(s,0),c=new on(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{a=a.add(f.Yr)}))})),pe.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,s=a.length+1;let l=a;be.isDocumentKey(l)||(l=l.child(""));const c=new on(new be(l),0);let f=new $t(je);return this.Zr.forEachWhile((m=>{const y=m.key.path;return!!a.isPrefixOf(y)&&(y.length===s&&(f=f.add(m.Yr)),!0)}),c),pe.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((a=>{const s=this.Xr(a);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){tt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return pe.forEach(n.mutations,(s=>{const l=new on(s.key,n.batchId);return a=a.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,n){const a=new on(n,0),s=this.Zr.firstAfterOrEqual(a);return pe.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.ri=e,this.docs=(function(){return new bt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,s=this.docs.get(a),l=s?s.size:0,c=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return pe.resolve(a?a.document.mutableCopy():Rn.newInvalidDocument(n))}getEntries(e,n){let a=Li();return n.forEach((s=>{const l=this.docs.get(s);a=a.insert(s,l?l.document.mutableCopy():Rn.newInvalidDocument(s))})),pe.resolve(a)}getDocumentsMatchingQuery(e,n,a,s){let l=Li();const c=n.path,f=new be(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:y,value:{document:g}}=m.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||lI(oI(g),a)<=0||(s.has(g.key)||ad(n,g))&&(l=l.insert(g.key,g.mutableCopy()))}return pe.resolve(l)}getAllFromCollectionGroup(e,n,a,s){Ce(9500)}ii(e,n){return pe.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new L4(this)}getSize(e){return pe.resolve(this.size)}}class L4 extends C4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(a)})),pe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e){this.persistence=e,this.si=new Ts((n=>qp(n)),jp),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new Gp,this.targetCount=0,this.ai=Do.ur()}forEachTarget(e,n){return this.si.forEach(((a,s)=>n(s))),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),pe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Do(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,pe.resolve()}updateTargetData(e,n){return this.Pr(n),pe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,n,a){let s=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=n&&a.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),s++)})),pe.waitFor(l).next((()=>s))}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return pe.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),pe.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const s=this.persistence.referenceDelegate,l=[];return s&&n.forEach((c=>{l.push(s.markPotentiallyOrphaned(e,c))})),pe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),pe.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return pe.resolve(a)}containsKey(e,n){return pe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n){this.ui={},this.overlays={},this.ci=new td(0),this.li=!1,this.li=!0,this.hi=new O4,this.referenceDelegate=e(this),this.Pi=new V4(this),this.indexManager=new E4,this.remoteDocumentCache=(function(s){return new M4(s)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new _4(n),this.Ii=new N4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new D4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new P4(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){ve("MemoryPersistence","Starting transaction:",e);const s=new U4(this.ci.next());return this.referenceDelegate.Ei(),a(s).next((l=>this.referenceDelegate.di(s).next((()=>l)))).toPromise().then((l=>(s.raiseOnCommittedEvent(),l)))}Ai(e,n){return pe.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,n))))}}class U4 extends cI{constructor(e){super(),this.currentSequenceNumber=e}}class Qp{constructor(e){this.persistence=e,this.Ri=new Gp,this.Vi=null}static mi(e){return new Qp(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),pe.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),pe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),pe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((l=>this.fi.add(l.toString())))})).next((()=>a.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.fi,(a=>{const s=be.fromPath(a);return this.gi(e,s).next((l=>{l||n.removeEntry(s,xe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return pe.or([()=>pe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Uh{constructor(e,n){this.persistence=e,this.pi=new Ts((a=>fI(a.path)),((a,s)=>a.isEqual(s))),this.garbageCollector=R4(this,n)}static mi(e,n){return new Uh(e,n)}Ei(){}di(e){return pe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((s=>a+s))))}wr(e){let n=0;return this.pr(e,(a=>{n++})).next((()=>n))}pr(e,n){return pe.forEach(this.pi,((a,s)=>this.br(e,a,s).next((l=>l?pe.resolve():n(s)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.ii(e,(c=>this.br(e,c,n).next((f=>{f||(a++,l.removeEntry(c,xe.min()))})))).next((()=>l.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),pe.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),pe.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),pe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),pe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ph(e.data.value)),n}br(e,n,a){return pe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return pe.resolve(s!==void 0&&s>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n,a,s){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=s}static As(e,n){let a=ze(),s=ze();for(const l of n.docChanges)switch(l.type){case 0:a=a.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new Kp(e,n.fromCache,a,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return yw()?8:hI(Cn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,s){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,s,a).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new k4;return this.Ss(e,n,c).next((f=>{if(l.result=f,this.Vs)return this.bs(e,n,c,f.size)}))})).next((()=>l.result))}bs(e,n,a,s){return a.documentReadCount<this.fs?(mo()<=qe.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),pe.resolve()):(mo()<=qe.DEBUG&&ve("QueryEngine","Query:",po(n),"scans",a.documentReadCount,"local documents and returns",s,"documents as results."),a.documentReadCount>this.gs*s?(mo()<=qe.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yr(n))):pe.resolve())}ys(e,n){if(H1(n))return pe.resolve(null);let a=Yr(n);return this.indexManager.getIndexType(e,a).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=ep(n,null,"F"),a=Yr(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((l=>{const c=ze(...l);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,a).next((m=>{const y=this.Ds(n,f);return this.Cs(n,y,c,m.readTime)?this.ys(e,ep(n,null,"F")):this.vs(e,y,n,m)}))))})))))}ws(e,n,a,s){return H1(n)||s.isEqual(xe.min())?pe.resolve(null):this.ps.getDocuments(e,a).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,a,s)?pe.resolve(null):(mo()<=qe.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),po(n)),this.vs(e,c,n,sI(s,ou)).next((f=>f)))}))}Ds(e,n){let a=new $t(yT(e));return n.forEach(((s,l)=>{ad(e,l)&&(a=a.add(l))})),a}Cs(e,n,a,s){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}Ss(e,n,a){return mo()<=qe.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",po(n)),this.ps.getDocumentsMatchingQuery(e,n,Sa.min(),a)}vs(e,n,a,s){return this.ps.getDocumentsMatchingQuery(e,a,s).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="LocalStore",j4=3e8;class z4{constructor(e,n,a,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new bt(je),this.xs=new Ts((l=>qp(l)),jp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new x4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function B4(r,e,n,a){return new z4(r,e,n,a)}async function zT(r,e){const n=Ne(r);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let s;return n.mutationQueue.getAllMutationBatches(a).next((l=>(s=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(a)))).next((l=>{const c=[],f=[];let m=ze();for(const y of s){c.push(y.batchId);for(const g of y.mutations)m=m.add(g.key)}for(const y of l){f.push(y.batchId);for(const g of y.mutations)m=m.add(g.key)}return n.localDocuments.getDocuments(a,m).next((y=>({Ls:y,removedBatchIds:c,addedBatchIds:f})))}))}))}function F4(r,e){const n=Ne(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const s=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,y,g){const v=y.batch,_=v.keys();let A=pe.resolve();return _.forEach((I=>{A=A.next((()=>g.getEntry(m,I))).next((q=>{const V=y.docVersions.get(I);tt(V!==null,48541),q.version.compareTo(V)<0&&(v.applyToRemoteDocument(q,y),q.isValidDocument()&&(q.setReadTime(y.commitVersion),g.addEntry(q)))}))})),A.next((()=>f.mutationQueue.removeMutationBatch(m,v)))})(n,a,e,l).next((()=>l.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(f){let m=ze();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(m=m.add(f.batch.mutations[y].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(a,s)))}))}function BT(r){const e=Ne(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function H4(r,e){const n=Ne(r),a=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const f=[];e.targetChanges.forEach(((g,v)=>{const _=s.get(v);if(!_)return;f.push(n.Pi.removeMatchingKeys(l,g.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(l,g.addedDocuments,v))));let A=_.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?A=A.withResumeToken(En.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):g.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(g.resumeToken,a)),s=s.insert(v,A),(function(q,V,k){return q.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=j4?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(_,A,g)&&f.push(n.Pi.updateTargetData(l,A))}));let m=Li(),y=ze();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,g))})),f.push(G4(l,c,e.documentUpdates).next((g=>{m=g.ks,y=g.qs}))),!a.isEqual(xe.min())){const g=n.Pi.getLastRemoteSnapshotVersion(l).next((v=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,a)));f.push(g)}return pe.waitFor(f).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,y))).next((()=>m))})).then((l=>(n.Ms=s,l)))}function G4(r,e,n){let a=ze(),s=ze();return n.forEach((l=>a=a.add(l))),e.getEntries(r,a).next((l=>{let c=Li();return n.forEach(((f,m)=>{const y=l.get(f);m.isFoundDocument()!==y.isFoundDocument()&&(s=s.add(f)),m.isNoDocument()&&m.version.isEqual(xe.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!y.isValidDocument()||m.version.compareTo(y.version)>0||m.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):ve(Yp,"Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",m.version)})),{ks:c,qs:s}}))}function Q4(r,e){const n=Ne(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Vp),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function K4(r,e){const n=Ne(r);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let s;return n.Pi.getTargetData(a,e).next((l=>l?(s=l,pe.resolve(s)):n.Pi.allocateTargetId(a).next((c=>(s=new ga(e,c,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,s).next((()=>s)))))))})).then((a=>{const s=n.Ms.get(a.targetId);return(s===null||a.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a}))}async function ap(r,e,n){const a=Ne(r),s=a.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",l,(c=>a.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!ko(c))throw c;ve(Yp,`Failed to update sequence numbers for target ${e}: ${c}`)}a.Ms=a.Ms.remove(e),a.xs.delete(s.target)}function r0(r,e,n){const a=Ne(r);let s=xe.min(),l=ze();return a.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,y,g){const v=Ne(m),_=v.xs.get(g);return _!==void 0?pe.resolve(v.Ms.get(_)):v.Pi.getTargetData(y,g)})(a,c,Yr(e)).next((f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(c,f.targetId).next((m=>{l=m}))})).next((()=>a.Fs.getDocumentsMatchingQuery(c,e,n?s:xe.min(),n?l:ze()))).next((f=>(Y4(a,OI(e),f),{documents:f,Qs:l})))))}function Y4(r,e,n){let a=r.Os.get(e)||xe.min();n.forEach(((s,l)=>{l.readTime.compareTo(a)>0&&(a=l.readTime)})),r.Os.set(e,a)}class i0{constructor(){this.activeTargetIds=kI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $4{constructor(){this.Mo=new i0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new i0,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="ConnectivityMonitor";class s0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ve(a0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ve(a0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih=null;function sp(){return ih===null?ih=(function(){return 268435456+Math.round(2147483648*Math.random())})():ih++,"0x"+ih.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="RestConnection",W4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class J4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${s}`,this.Wo=this.databaseId.database===Oh?`project_id=${a}`:`project_id=${a}&database_id=${s}`}Go(e,n,a,s,l){const c=sp(),f=this.zo(e,n.toUriEncodedString());ve(Dm,`Sending RPC '${e}' ${c}:`,f,a);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,s,l);const{host:y}=new URL(f),g=Na(y);return this.Jo(e,f,m,a,g).then((v=>(ve(Dm,`Received RPC '${e}' ${c}: `,v),v)),(v=>{throw Co(Dm,`RPC '${e}' ${c} failed with error: `,v,"url: ",f,"request:",a),v}))}Ho(e,n,a,s,l,c){return this.Go(e,n,a,s,l)}jo(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Vo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,l)=>e[l]=s)),a&&a.headers.forEach(((s,l)=>e[l]=s))}zo(e,n){const a=W4[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn="WebChannelConnection";class ex extends J4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,s,l){const c=sp();return new Promise(((f,m)=>{const y=new FE;y.setWithCredentials(!0),y.listenOnce(HE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case mh.NO_ERROR:const v=y.getResponseJson();ve(Sn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),f(v);break;case mh.TIMEOUT:ve(Sn,`RPC '${e}' ${c} timed out`),m(new _e(fe.DEADLINE_EXCEEDED,"Request time out"));break;case mh.HTTP_ERROR:const _=y.getStatus();if(ve(Sn,`RPC '${e}' ${c} failed with status:`,_,"response text:",y.getResponseText()),_>0){let A=y.getResponseJson();Array.isArray(A)&&(A=A[0]);const I=A==null?void 0:A.error;if(I&&I.status&&I.message){const q=(function(k){const B=k.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(B)>=0?B:fe.UNKNOWN})(I.status);m(new _e(q,I.message))}else m(new _e(fe.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new _e(fe.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:c,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ve(Sn,`RPC '${e}' ${c} completed.`)}}));const g=JSON.stringify(s);ve(Sn,`RPC '${e}' ${c} sending request:`,s),y.send(n,"POST",g,a,15)}))}T_(e,n,a){const s=sp(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=KE(),f=QE(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(m.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,a),m.encodeInitMessageHeaders=!0;const g=l.join("");ve(Sn,`Creating RPC '${e}' stream ${s}: ${g}`,m);const v=c.createWebChannel(g,m);this.I_(v);let _=!1,A=!1;const I=new Z4({Yo:V=>{A?ve(Sn,`Not sending because RPC '${e}' stream ${s} is closed:`,V):(_||(ve(Sn,`Opening RPC '${e}' stream ${s} transport.`),v.open(),_=!0),ve(Sn,`RPC '${e}' stream ${s} sending:`,V),v.send(V))},Zo:()=>v.close()}),q=(V,k,B)=>{V.listen(k,(H=>{try{B(H)}catch(G){setTimeout((()=>{throw G}),0)}}))};return q(v,Kl.EventType.OPEN,(()=>{A||(ve(Sn,`RPC '${e}' stream ${s} transport opened.`),I.o_())})),q(v,Kl.EventType.CLOSE,(()=>{A||(A=!0,ve(Sn,`RPC '${e}' stream ${s} transport closed`),I.a_(),this.E_(v))})),q(v,Kl.EventType.ERROR,(V=>{A||(A=!0,Co(Sn,`RPC '${e}' stream ${s} transport errored. Name:`,V.name,"Message:",V.message),I.a_(new _e(fe.UNAVAILABLE,"The operation could not be completed")))})),q(v,Kl.EventType.MESSAGE,(V=>{var k;if(!A){const B=V.data[0];tt(!!B,16349);const H=B,G=(H==null?void 0:H.error)||((k=H[0])==null?void 0:k.error);if(G){ve(Sn,`RPC '${e}' stream ${s} received error:`,G);const Z=G.status;let j=(function(b){const x=qt[b];if(x!==void 0)return xT(x)})(Z),U=G.message;j===void 0&&(j=fe.INTERNAL,U="Unknown error status: "+Z+" with message "+G.message),A=!0,I.a_(new _e(j,U)),v.close()}else ve(Sn,`RPC '${e}' stream ${s} received:`,B),I.u_(B)}})),q(f,GE.STAT_EVENT,(V=>{V.stat===Km.PROXY?ve(Sn,`RPC '${e}' stream ${s} detected buffering proxy`):V.stat===Km.NOPROXY&&ve(Sn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Om(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(r){return new i4(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,n,a=1e3,s=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=s,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-a);s>0&&ve("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="PersistentStream";class HT{constructor(e,n,a,s,l,c,f,m){this.Mi=e,this.S_=a,this.b_=s,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new FT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===fe.RESOURCE_EXHAUSTED?(Mi(n.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,s])=>{this.D_===n&&this.G_(a,s)}),(a=>{e((()=>{const s=new _e(fe.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(s)}))}))}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{a((()=>this.z_(s)))})),this.stream.onMessage((s=>{a((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ve(o0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ve(o0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class tx extends HT{constructor(e,n,a,s,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,s,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=o4(this.serializer,e),a=(function(l){if(!("targetChange"in l))return xe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?xe.min():c.readTime?$r(c.readTime):xe.min()})(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=ip(this.serializer),n.addTarget=(function(l,c){let f;const m=c.target;if(f=Jm(m)?{documents:c4(l,m)}:{query:h4(l,m).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=OT(l,c.resumeToken);const y=tp(l,c.expectedCount);y!==null&&(f.expectedCount=y)}else if(c.snapshotVersion.compareTo(xe.min())>0){f.readTime=Vh(l,c.snapshotVersion.toTimestamp());const y=tp(l,c.expectedCount);y!==null&&(f.expectedCount=y)}return f})(this.serializer,e);const a=f4(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=ip(this.serializer),n.removeTarget=e,this.q_(n)}}class nx extends HT{constructor(e,n,a,s,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,s,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=u4(e.writeResults,e.commitTime),a=$r(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=ip(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>l4(this.serializer,a)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{}class ix extends rx{constructor(e,n,a,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new _e(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,np(n,a),s,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(fe.UNKNOWN,l.toString())}))}Ho(e,n,a,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,np(n,a),s,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(fe.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ax{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Mi(n),this.aa=!1):ve("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps="RemoteStore";class sx{constructor(e,n,a,s,l){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{a.enqueueAndForget((async()=>{As(this)&&(ve(ps,"Restarting streams for network reachability change."),await(async function(m){const y=Ne(m);y.Ea.add(4),await xu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await cd(y)})(this))}))})),this.Ra=new ax(a,s)}}async function cd(r){if(As(r))for(const e of r.da)await e(!0)}async function xu(r){for(const e of r.da)await e(!1)}function GT(r,e){const n=Ne(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Jp(n)?Wp(n):jo(n).O_()&&Xp(n,e))}function $p(r,e){const n=Ne(r),a=jo(n);n.Ia.delete(e),a.O_()&&QT(n,e),n.Ia.size===0&&(a.O_()?a.L_():As(n)&&n.Ra.set("Unknown"))}function Xp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jo(r).Y_(e)}function QT(r,e){r.Va.Ue(e),jo(r).Z_(e)}function Wp(r){r.Va=new e4({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),jo(r).start(),r.Ra.ua()}function Jp(r){return As(r)&&!jo(r).x_()&&r.Ia.size>0}function As(r){return Ne(r).Ea.size===0}function KT(r){r.Va=void 0}async function ox(r){r.Ra.set("Online")}async function lx(r){r.Ia.forEach(((e,n)=>{Xp(r,e)}))}async function ux(r,e){KT(r),Jp(r)?(r.Ra.ha(e),Wp(r)):r.Ra.set("Unknown")}async function cx(r,e,n){if(r.Ra.set("Online"),e instanceof DT&&e.state===2&&e.cause)try{await(async function(s,l){const c=l.cause;for(const f of l.targetIds)s.Ia.has(f)&&(await s.remoteSyncer.rejectListen(f,c),s.Ia.delete(f),s.Va.removeTarget(f))})(r,e)}catch(a){ve(ps,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await kh(r,a)}else if(e instanceof _h?r.Va.Ze(e):e instanceof NT?r.Va.st(e):r.Va.tt(e),!n.isEqual(xe.min()))try{const a=await BT(r.localStore);n.compareTo(a)>=0&&await(function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach(((m,y)=>{if(m.resumeToken.approximateByteSize()>0){const g=l.Ia.get(y);g&&l.Ia.set(y,g.withResumeToken(m.resumeToken,c))}})),f.targetMismatches.forEach(((m,y)=>{const g=l.Ia.get(m);if(!g)return;l.Ia.set(m,g.withResumeToken(En.EMPTY_BYTE_STRING,g.snapshotVersion)),QT(l,m);const v=new ga(g.target,m,y,g.sequenceNumber);Xp(l,v)})),l.remoteSyncer.applyRemoteEvent(f)})(r,n)}catch(a){ve(ps,"Failed to raise snapshot:",a),await kh(r,a)}}async function kh(r,e,n){if(!ko(e))throw e;r.Ea.add(1),await xu(r),r.Ra.set("Offline"),n||(n=()=>BT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ve(ps,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await cd(r)}))}function YT(r,e){return e().catch((n=>kh(r,n,e)))}async function hd(r){const e=Ne(r),n=Ia(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Vp;for(;hx(e);)try{const s=await Q4(e.localStore,a);if(s===null){e.Ta.length===0&&n.L_();break}a=s.batchId,dx(e,s)}catch(s){await kh(e,s)}$T(e)&&XT(e)}function hx(r){return As(r)&&r.Ta.length<10}function dx(r,e){r.Ta.push(e);const n=Ia(r);n.O_()&&n.X_&&n.ea(e.mutations)}function $T(r){return As(r)&&!Ia(r).x_()&&r.Ta.length>0}function XT(r){Ia(r).start()}async function fx(r){Ia(r).ra()}async function mx(r){const e=Ia(r);for(const n of r.Ta)e.ea(n.mutations)}async function px(r,e,n){const a=r.Ta.shift(),s=Bp.from(a,e,n);await YT(r,(()=>r.remoteSyncer.applySuccessfulWrite(s))),await hd(r)}async function gx(r,e){e&&Ia(r).X_&&await(async function(a,s){if((function(c){return WI(c)&&c!==fe.ABORTED})(s.code)){const l=a.Ta.shift();Ia(a).B_(),await YT(a,(()=>a.remoteSyncer.rejectFailedWrite(l.batchId,s))),await hd(a)}})(r,e),$T(r)&&XT(r)}async function l0(r,e){const n=Ne(r);n.asyncQueue.verifyOperationInProgress(),ve(ps,"RemoteStore received new credentials");const a=As(n);n.Ea.add(3),await xu(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await cd(n)}async function yx(r,e){const n=Ne(r);e?(n.Ea.delete(2),await cd(n)):e||(n.Ea.add(2),await xu(n),n.Ra.set("Unknown"))}function jo(r){return r.ma||(r.ma=(function(n,a,s){const l=Ne(n);return l.sa(),new tx(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)})(r.datastore,r.asyncQueue,{Xo:ox.bind(null,r),t_:lx.bind(null,r),r_:ux.bind(null,r),H_:cx.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Jp(r)?Wp(r):r.Ra.set("Unknown")):(await r.ma.stop(),KT(r))}))),r.ma}function Ia(r){return r.fa||(r.fa=(function(n,a,s){const l=Ne(n);return l.sa(),new nx(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:fx.bind(null,r),r_:gx.bind(null,r),ta:mx.bind(null,r),na:px.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await hd(r)):(await r.fa.stop(),r.Ta.length>0&&(ve(ps,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n,a,s,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=s,this.removalCallback=l,this.deferred=new Ta,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,s,l){const c=Date.now()+a,f=new Zp(e,n,c,s,l);return f.start(a),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eg(r,e){if(Mi("AsyncQueue",`${e}: ${r}`),ko(r))return new _e(fe.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{static emptySet(e){return new Ao(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||be.comparator(n.key,a.key):(n,a)=>be.comparator(n.key,a.key),this.keyedMap=Yl(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ao)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,l=a.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new Ao;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(){this.ga=new bt(be.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class Oo{constructor(e,n,a,s,l,c,f,m,y){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=y}static fromInitialDocuments(e,n,a,s,l){const c=[];return n.forEach((f=>{c.push({type:0,doc:f})})),new Oo(e,n,Ao.emptySet(n),c,a,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&id(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==a[s].type||!n[s].doc.isEqual(a[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class vx{constructor(){this.queries=c0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const s=Ne(n),l=s.queries;s.queries=c0(),l.forEach(((c,f)=>{for(const m of f.Sa)m.onError(a)}))})(this,new _e(fe.ABORTED,"Firestore shutting down"))}}function c0(){return new Ts((r=>gT(r)),id)}async function Ex(r,e){const n=Ne(r);let a=3;const s=e.query;let l=n.queries.get(s);l?!l.ba()&&e.Da()&&(a=2):(l=new _x,a=e.Da()?0:1);try{switch(a){case 0:l.wa=await n.onListen(s,!0);break;case 1:l.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(c){const f=eg(c,`Initialization of query '${po(e.query)}' failed`);return void e.onError(f)}n.queries.set(s,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&tg(n)}async function Tx(r,e){const n=Ne(r),a=e.query;let s=3;const l=n.queries.get(a);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?s=e.Da()?0:1:!l.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function bx(r,e){const n=Ne(r);let a=!1;for(const s of e){const l=s.query,c=n.queries.get(l);if(c){for(const f of c.Sa)f.Fa(s)&&(a=!0);c.wa=s}}a&&tg(n)}function Ax(r,e,n){const a=Ne(r),s=a.queries.get(e);if(s)for(const l of s.Sa)l.onError(n);a.queries.delete(e)}function tg(r){r.Ca.forEach((e=>{e.next()}))}var op,h0;(h0=op||(op={})).Ma="default",h0.Cache="cache";class Sx{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const s of e.docChanges)s.type!==3&&a.push(s);e=new Oo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==op.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e){this.key=e}}class JT{constructor(e){this.key=e}}class wx{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=yT(e),this.tu=new Ao(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new u0,s=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=s,f=!1;const m=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,y=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,v)=>{const _=s.get(g),A=ad(this.query,v)?v:null,I=!!_&&this.mutatedKeys.has(_.key),q=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let V=!1;_&&A?_.data.isEqual(A.data)?I!==q&&(a.track({type:3,doc:A}),V=!0):this.su(_,A)||(a.track({type:2,doc:A}),V=!0,(m&&this.eu(A,m)>0||y&&this.eu(A,y)<0)&&(f=!0)):!_&&A?(a.track({type:0,doc:A}),V=!0):_&&!A&&(a.track({type:1,doc:_}),V=!0,(m||y)&&(f=!0)),V&&(A?(c=c.add(A),l=q?l.add(g):l.delete(g)):(c=c.delete(g),l=l.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),l=l.delete(g.key),a.track({type:1,doc:g})}return{tu:c,iu:a,Cs:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,s){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((g,v)=>(function(A,I){const q=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:V})}};return q(A)-q(I)})(g.type,v.type)||this.eu(g.doc,v.doc))),this.ou(a),s=s??!1;const f=n&&!s?this._u():[],m=this.Xa.size===0&&this.current&&!s?1:0,y=m!==this.Za;return this.Za=m,c.length!==0||y?{snapshot:new Oo(this.query,e.tu,l,c,e.mutatedKeys,m===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new u0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const n=[];return e.forEach((a=>{this.Xa.has(a)||n.push(new JT(a))})),this.Xa.forEach((a=>{e.has(a)||n.push(new WT(a))})),n}cu(e){this.Ya=e.Qs,this.Xa=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Oo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ng="SyncEngine";class Rx{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class Cx{constructor(e){this.key=e,this.hu=!1}}class Ix{constructor(e,n,a,s,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ts((f=>gT(f)),id),this.Iu=new Map,this.Eu=new Set,this.du=new bt(be.comparator),this.Au=new Map,this.Ru=new Gp,this.Vu={},this.mu=new Map,this.fu=Do.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xx(r,e,n=!0){const a=ib(r);let s;const l=a.Tu.get(e);return l?(a.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.lu()):s=await ZT(a,e,n,!0),s}async function Nx(r,e){const n=ib(r);await ZT(n,e,!0,!1)}async function ZT(r,e,n,a){const s=await K4(r.localStore,Yr(e)),l=s.targetId,c=r.sharedClientState.addLocalQueryTarget(l,n);let f;return a&&(f=await Dx(r,e,l,c==="current",s.resumeToken)),r.isPrimaryClient&&n&&GT(r.remoteStore,s),f}async function Dx(r,e,n,a,s){r.pu=(v,_,A)=>(async function(q,V,k,B){let H=V.view.ru(k);H.Cs&&(H=await r0(q.localStore,V.query,!1).then((({documents:U})=>V.view.ru(U,H))));const G=B&&B.targetChanges.get(V.targetId),Z=B&&B.targetMismatches.get(V.targetId)!=null,j=V.view.applyChanges(H,q.isPrimaryClient,G,Z);return f0(q,V.targetId,j.au),j.snapshot})(r,v,_,A);const l=await r0(r.localStore,e,!0),c=new wx(e,l.Qs),f=c.ru(l.documents),m=Iu.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",s),y=c.applyChanges(f,r.isPrimaryClient,m);f0(r,n,y.au);const g=new Rx(e,n,c);return r.Tu.set(e,g),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function Ox(r,e,n){const a=Ne(r),s=a.Tu.get(e),l=a.Iu.get(s.targetId);if(l.length>1)return a.Iu.set(s.targetId,l.filter((c=>!id(c,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(s.targetId),a.sharedClientState.isActiveQueryTarget(s.targetId)||await ap(a.localStore,s.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(s.targetId),n&&$p(a.remoteStore,s.targetId),lp(a,s.targetId)})).catch(Uo)):(lp(a,s.targetId),await ap(a.localStore,s.targetId,!0))}async function Px(r,e){const n=Ne(r),a=n.Tu.get(e),s=n.Iu.get(a.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),$p(n.remoteStore,a.targetId))}async function Mx(r,e,n){const a=zx(r);try{const s=await(function(c,f){const m=Ne(c),y=gt.now(),g=f.reduce(((A,I)=>A.add(I.key)),ze());let v,_;return m.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let I=Li(),q=ze();return m.Ns.getEntries(A,g).next((V=>{I=V,I.forEach(((k,B)=>{B.isValidDocument()||(q=q.add(k))}))})).next((()=>m.localDocuments.getOverlayedDocuments(A,I))).next((V=>{v=V;const k=[];for(const B of f){const H=QI(B,v.get(B.key).overlayedDocument);H!=null&&k.push(new bs(B.key,H,oT(H.value.mapValue),Ni.exists(!0)))}return m.mutationQueue.addMutationBatch(A,y,k,f)})).next((V=>{_=V;const k=V.applyToLocalDocumentSet(v,q);return m.documentOverlayCache.saveOverlays(A,V.batchId,k)}))})).then((()=>({batchId:_.batchId,changes:vT(v)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(s.batchId),(function(c,f,m){let y=c.Vu[c.currentUser.toKey()];y||(y=new bt(je)),y=y.insert(f,m),c.Vu[c.currentUser.toKey()]=y})(a,s.batchId,n),await Nu(a,s.changes),await hd(a.remoteStore)}catch(s){const l=eg(s,"Failed to persist write");n.reject(l)}}async function eb(r,e){const n=Ne(r);try{const a=await H4(n.localStore,e);e.targetChanges.forEach(((s,l)=>{const c=n.Au.get(l);c&&(tt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.hu=!0:s.modifiedDocuments.size>0?tt(c.hu,14607):s.removedDocuments.size>0&&(tt(c.hu,42227),c.hu=!1))})),await Nu(n,a,e)}catch(a){await Uo(a)}}function d0(r,e,n){const a=Ne(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const s=[];a.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&s.push(f.snapshot)})),(function(c,f){const m=Ne(c);m.onlineState=f;let y=!1;m.queries.forEach(((g,v)=>{for(const _ of v.Sa)_.va(f)&&(y=!0)})),y&&tg(m)})(a.eventManager,e),s.length&&a.Pu.H_(s),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function Lx(r,e,n){const a=Ne(r);a.sharedClientState.updateQueryState(e,"rejected",n);const s=a.Au.get(e),l=s&&s.key;if(l){let c=new bt(be.comparator);c=c.insert(l,Rn.newNoDocument(l,xe.min()));const f=ze().add(l),m=new ld(xe.min(),new Map,new bt(je),c,f);await eb(a,m),a.du=a.du.remove(l),a.Au.delete(e),rg(a)}else await ap(a.localStore,e,!1).then((()=>lp(a,e,n))).catch(Uo)}async function Vx(r,e){const n=Ne(r),a=e.batch.batchId;try{const s=await F4(n.localStore,e);nb(n,a,null),tb(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Nu(n,s)}catch(s){await Uo(s)}}async function Ux(r,e,n){const a=Ne(r);try{const s=await(function(c,f){const m=Ne(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let g;return m.mutationQueue.lookupMutationBatch(y,f).next((v=>(tt(v!==null,37113),g=v.keys(),m.mutationQueue.removeMutationBatch(y,v)))).next((()=>m.mutationQueue.performConsistencyCheck(y))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(y,g,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,g))).next((()=>m.localDocuments.getDocuments(y,g)))}))})(a.localStore,e);nb(a,e,n),tb(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Nu(a,s)}catch(s){await Uo(s)}}function tb(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function nb(r,e,n){const a=Ne(r);let s=a.Vu[a.currentUser.toKey()];if(s){const l=s.get(e);l&&(n?l.reject(n):l.resolve(),s=s.remove(e)),a.Vu[a.currentUser.toKey()]=s}}function lp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),n&&r.Pu.yu(a,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||rb(r,a)}))}function rb(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&($p(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),rg(r))}function f0(r,e,n){for(const a of n)a instanceof WT?(r.Ru.addReference(a.key,e),kx(r,a)):a instanceof JT?(ve(ng,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||rb(r,a.key)):Ce(19791,{wu:a})}function kx(r,e){const n=e.key,a=n.path.canonicalString();r.du.get(n)||r.Eu.has(a)||(ve(ng,"New document in limbo: "+n),r.Eu.add(a),rg(r))}function rg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new be(pt.fromString(e)),a=r.fu.next();r.Au.set(a,new Cx(n)),r.du=r.du.insert(n,a),GT(r.remoteStore,new ga(Yr(mT(n.path)),a,"TargetPurposeLimboResolution",td.ce))}}async function Nu(r,e,n){const a=Ne(r),s=[],l=[],c=[];a.Tu.isEmpty()||(a.Tu.forEach(((f,m)=>{c.push(a.pu(m,e,n).then((y=>{var g;if((y||n)&&a.isPrimaryClient){const v=y?!y.fromCache:(g=n==null?void 0:n.targetChanges.get(m.targetId))==null?void 0:g.current;a.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(y){s.push(y);const v=Kp.As(m.targetId,y);l.push(v)}})))})),await Promise.all(c),a.Pu.H_(s),await(async function(m,y){const g=Ne(m);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>pe.forEach(y,(_=>pe.forEach(_.Es,(A=>g.persistence.referenceDelegate.addReference(v,_.targetId,A))).next((()=>pe.forEach(_.ds,(A=>g.persistence.referenceDelegate.removeReference(v,_.targetId,A)))))))))}catch(v){if(!ko(v))throw v;ve(Yp,"Failed to update sequence numbers: "+v)}for(const v of y){const _=v.targetId;if(!v.fromCache){const A=g.Ms.get(_),I=A.snapshotVersion,q=A.withLastLimboFreeSnapshotVersion(I);g.Ms=g.Ms.insert(_,q)}}})(a.localStore,l))}async function qx(r,e){const n=Ne(r);if(!n.currentUser.isEqual(e)){ve(ng,"User change. New user:",e.toKey());const a=await zT(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new _e(fe.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Nu(n,a.Ls)}}function jx(r,e){const n=Ne(r),a=n.Au.get(e);if(a&&a.hu)return ze().add(a.key);{let s=ze();const l=n.Iu.get(e);if(!l)return s;for(const c of l){const f=n.Tu.get(c);s=s.unionWith(f.view.nu)}return s}}function ib(r){const e=Ne(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=eb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Lx.bind(null,e),e.Pu.H_=bx.bind(null,e.eventManager),e.Pu.yu=Ax.bind(null,e.eventManager),e}function zx(r){const e=Ne(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Vx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ux.bind(null,e),e}class qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ud(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return B4(this.persistence,new q4,e.initialUser,this.serializer)}Cu(e){return new jT(Qp.mi,this.serializer)}Du(e){return new $4}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qh.provider={build:()=>new qh};class Bx extends qh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){tt(this.persistence.referenceDelegate instanceof Uh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new S4(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?jn.withCacheSize(this.cacheSizeBytes):jn.DEFAULT;return new jT((a=>Uh.mi(a,n)),this.serializer)}}class up{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>d0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=qx.bind(null,this.syncEngine),await yx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new vx})()}createDatastore(e){const n=ud(e.databaseInfo.databaseId),a=(function(l){return new ex(l)})(e.databaseInfo);return(function(l,c,f,m){return new ix(l,c,f,m)})(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,s,l,c,f){return new sx(a,s,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>d0(this.syncEngine,n,0)),(function(){return s0.v()?new s0:new X4})())}createSyncEngine(e,n){return(function(s,l,c,f,m,y,g){const v=new Ix(s,l,c,f,m,y);return g&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(s){const l=Ne(s);ve(ps,"RemoteStore shutting down."),l.Ea.add(5),await xu(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}up.provider={build:()=>new up};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="FirestoreClient";class Hx{constructor(e,n,a,s,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=s,this.user=wn.UNAUTHENTICATED,this.clientId=Lp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(a,(async c=>{ve(xa,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(a,(c=>(ve(xa,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ta;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=eg(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Pm(r,e){r.asyncQueue.verifyOperationInProgress(),ve(xa,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener((async s=>{a.isEqual(s)||(await zT(e.localStore,s),a=s)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function m0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await Gx(r);ve(xa,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((a=>l0(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,s)=>l0(e.remoteStore,s))),r._onlineComponents=e}async function Gx(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ve(xa,"Using user provided OfflineComponentProvider");try{await Pm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===fe.FAILED_PRECONDITION||s.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;Co("Error using user provided cache. Falling back to memory cache: "+n),await Pm(r,new qh)}}else ve(xa,"Using default OfflineComponentProvider"),await Pm(r,new Bx(void 0));return r._offlineComponents}async function ab(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ve(xa,"Using user provided OnlineComponentProvider"),await m0(r,r._uninitializedComponentsProvider._online)):(ve(xa,"Using default OnlineComponentProvider"),await m0(r,new up))),r._onlineComponents}function Qx(r){return ab(r).then((e=>e.syncEngine))}async function Kx(r){const e=await ab(r),n=e.eventManager;return n.onListen=xx.bind(null,e.syncEngine),n.onUnlisten=Ox.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Nx.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Px.bind(null,e.syncEngine),n}function Yx(r,e,n={}){const a=new Ta;return r.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,y){const g=new Fx({next:_=>{g.Nu(),c.enqueueAndForget((()=>Tx(l,v))),_.fromCache&&m.source==="server"?y.reject(new _e(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(_)},error:_=>y.reject(_)}),v=new Sx(f,g,{includeMetadataChanges:!0,qa:!0});return Ex(l,v)})(await Kx(r),r.asyncQueue,e,n,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="firestore.googleapis.com",g0=!0;class y0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ob,this.ssl=g0}else this.host=e.host,this.ssl=e.ssl??g0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<b4)throw new _e(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sb(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new _e(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new _e(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new _e(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,s){return a.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dd{constructor(e,n,a,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new y0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new y0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new $3;switch(a.type){case"firstParty":return new Z3(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new _e(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=p0.get(n);a&&(ve("ComponentProvider","Removing Datastore"),p0.delete(n),a.terminate())})(this),Promise.resolve()}}function $x(r,e,n,a={}){var y;r=Nh(r,dd);const s=Na(e),l=r._getSettings(),c={...l,emulatorOptions:r._getEmulatorOptions()},f=`${e}:${n}`;s&&(Ep(`https://${f}`),Tp("Firestore",!0)),l.host!==ob&&l.host!==f&&Co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:s,emulatorOptions:a};if(!hs(m,c)&&(r._setSettings(m),a.mockUserToken)){let g,v;if(typeof a.mockUserToken=="string")g=a.mockUserToken,v=wn.MOCK_USER;else{g=rE(a.mockUserToken,(y=r._app)==null?void 0:y.options.projectId);const _=a.mockUserToken.sub||a.mockUserToken.user_id;if(!_)throw new _e(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new wn(_)}r._authCredentials=new X3(new $E(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ss(this.firestore,e,this._query)}}class ln{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ba(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}toJSON(){return{type:ln._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(Ru(n,ln._jsonSchema))return new ln(e,a||null,new be(pt.fromString(n.referencePath)))}}ln._jsonSchemaVersion="firestore/documentReference/1.0",ln._jsonSchema={type:zt("string",ln._jsonSchemaVersion),referencePath:zt("string")};class ba extends Ss{constructor(e,n,a){super(e,n,mT(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new be(e))}withConverter(e){return new ba(this.firestore,e,this._path)}}function pu(r,e,...n){if(r=Xt(r),XE("collection","path",e),r instanceof dd){const a=pt.fromString(e,...n);return N1(a),new ba(r,null,a)}{if(!(r instanceof ln||r instanceof ba))throw new _e(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(pt.fromString(e,...n));return N1(a),new ba(r.firestore,null,a)}}function Xx(r,e,...n){if(r=Xt(r),arguments.length===1&&(e=Lp.newId()),XE("doc","path",e),r instanceof dd){const a=pt.fromString(e,...n);return x1(a),new ln(r,null,new be(a))}{if(!(r instanceof ln||r instanceof ba))throw new _e(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(pt.fromString(e,...n));return x1(a),new ln(r.firestore,r instanceof ba?r.converter:null,new be(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="AsyncQueue";class v0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new FT(this,"async_queue_retry"),this._c=()=>{const a=Om();a&&ve(_0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=Om();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Om();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ta;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ko(e))throw e;ve(_0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Mi("INTERNAL UNHANDLED ERROR: ",E0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Zp.createAndSchedule(this,e,n,a,(l=>this.hc(l)));return this.tc.push(s),s}uc(){this.nc&&Ce(47125,{Pc:E0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function E0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class ig extends dd{constructor(e,n,a,s){super(e,n,a,s),this.type="firestore",this._queue=new v0,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new v0(e),this._firestoreClient=void 0,await e}}}function Wx(r,e){const n=typeof r=="object"?r:Sp(),a=typeof r=="string"?r:Oh,s=$h(n,"firestore").getImmediate({identifier:a});if(!s._initialized){const l=eE("firestore");l&&$x(s,...l)}return s}function lb(r){if(r._terminated)throw new _e(fe.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Jx(r),r._firestoreClient}function Jx(r){var a,s,l;const e=r._freezeSettings(),n=(function(f,m,y,g){return new gI(f,m,y,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,sb(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,((a=r._app)==null?void 0:a.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new Hx(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hr(En.fromBase64String(e))}catch(n){throw new _e(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new hr(En.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:hr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ru(e,hr._jsonSchema))return hr.fromBase64String(e.bytes)}}hr._jsonSchemaVersion="firestore/bytes/1.0",hr._jsonSchema={type:zt("string",hr._jsonSchemaVersion),bytes:zt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xr._jsonSchemaVersion}}static fromJSON(e){if(Ru(e,Xr._jsonSchema))return new Xr(e.latitude,e.longitude)}}Xr._jsonSchemaVersion="firestore/geoPoint/1.0",Xr._jsonSchema={type:zt("string",Xr._jsonSchemaVersion),latitude:zt("number"),longitude:zt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,s){if(a.length!==s.length)return!1;for(let l=0;l<a.length;++l)if(a[l]!==s[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Wr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ru(e,Wr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Wr(e.vectorValues);throw new _e(fe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wr._jsonSchemaVersion="firestore/vectorValue/1.0",Wr._jsonSchema={type:zt("string",Wr._jsonSchemaVersion),vectorValues:zt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=/^__.*__$/;class eN{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new bs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cu(e,this.data,n,this.fieldTransforms)}}function ub(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:r})}}class og{constructor(e,n,a,s,l,c){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=s,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new og({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),a=this.Vc({path:n,fc:!1});return a.gc(e),a}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return jh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ub(this.Ac)&&Zx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class tN{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||ud(e)}Cc(e,n,a,s=!1){return new og({Ac:e,methodName:n,Dc:a,path:vn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cb(r){const e=r._freezeSettings(),n=ud(r._databaseId);return new tN(r._databaseId,!!e.ignoreUndefinedProperties,n)}function nN(r,e,n,a,s,l={}){const c=r.Cc(l.merge||l.mergeFields?2:0,e,n,s);fb("Data must be an object, but it was:",c,a);const f=hb(a,c);let m,y;if(l.merge)m=new Ar(c.fieldMask),y=c.fieldTransforms;else if(l.mergeFields){const g=[];for(const v of l.mergeFields){const _=iN(e,v,n);if(!c.contains(_))throw new _e(fe.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);sN(g,_)||g.push(_)}m=new Ar(g),y=c.fieldTransforms.filter((v=>m.covers(v.field)))}else m=null,y=c.fieldTransforms;return new eN(new cr(f),m,y)}class lg extends sg{_toFieldTransform(e){return new BI(e.path,new du)}isEqual(e){return e instanceof lg}}function rN(r,e,n,a=!1){return ug(n,r.Cc(a?4:3,e))}function ug(r,e){if(db(r=Xt(r)))return fb("Unsupported field value:",e,r),hb(r,e);if(r instanceof sg)return(function(a,s){if(!ub(s.Ac))throw s.Sc(`${a._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${a._methodName}() is not currently supported inside arrays`);const l=a._toFieldTransform(s);l&&s.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,s){const l=[];let c=0;for(const f of a){let m=ug(f,s.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(r,e)}return(function(a,s){if((a=Xt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return qI(s.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const l=gt.fromDate(a);return{timestampValue:Vh(s.serializer,l)}}if(a instanceof gt){const l=new gt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Vh(s.serializer,l)}}if(a instanceof Xr)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof hr)return{bytesValue:OT(s.serializer,a._byteString)};if(a instanceof ln){const l=s.databaseId,c=a.firestore._databaseId;if(!c.isEqual(l))throw s.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Hp(a.firestore._databaseId||s.databaseId,a._key.path)}}if(a instanceof Wr)return(function(c,f){return{mapValue:{fields:{[aT]:{stringValue:sT},[Ph]:{arrayValue:{values:c.toArray().map((y=>{if(typeof y!="number")throw f.Sc("VectorValues must only contain numeric values.");return zp(f.serializer,y)}))}}}}}})(a,s);throw s.Sc(`Unsupported field value: ${ed(a)}`)})(r,e)}function hb(r,e){const n={};return ZE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Es(r,((a,s)=>{const l=ug(s,e.mc(a));l!=null&&(n[a]=l)})),{mapValue:{fields:n}}}function db(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof gt||r instanceof Xr||r instanceof hr||r instanceof ln||r instanceof sg||r instanceof Wr)}function fb(r,e,n){if(!db(n)||!WE(n)){const a=ed(n);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function iN(r,e,n){if((e=Xt(e))instanceof ag)return e._internalPath;if(typeof e=="string")return mb(r,e);throw jh("Field path arguments must be of type string or ",r,!1,void 0,n)}const aN=new RegExp("[~\\*/\\[\\]]");function mb(r,e,n){if(e.search(aN)>=0)throw jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new ag(...e.split("."))._internalPath}catch{throw jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function jh(r,e,n,a,s){const l=a&&!a.isEmpty(),c=s!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${a}`),c&&(m+=` in document ${s}`),m+=")"),new _e(fe.INVALID_ARGUMENT,f+r+m)}function sN(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,n,a,s,l){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(fd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oN extends pb{data(){return super.data()}}function fd(r,e){return typeof e=="string"?mb(r,e):e instanceof ag?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new _e(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cg{}class gb extends cg{}function yb(r,e,...n){let a=[];e instanceof cg&&a.push(e),a=a.concat(n),(function(l){const c=l.filter((m=>m instanceof hg)).length,f=l.filter((m=>m instanceof md)).length;if(c>1||c>0&&f>0)throw new _e(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const s of a)r=s._apply(r);return r}class md extends gb{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new md(e,n,a)}_apply(e){const n=this._parse(e);return Eb(e._query,n),new Ss(e.firestore,e.converter,Zm(e._query,n))}_parse(e){const n=cb(e.firestore);return(function(l,c,f,m,y,g,v){let _;if(y.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new _e(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){b0(v,g);const I=[];for(const q of v)I.push(T0(m,l,q));_={arrayValue:{values:I}}}else _=T0(m,l,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||b0(v,g),_=rN(f,c,v,g==="in"||g==="not-in");return jt.create(y,g,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function _b(r,e,n){const a=e,s=fd("where",r);return md._create(s,a,n)}class hg extends cg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new hg(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:wr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,l){let c=s;const f=l.getFlattenedFilters();for(const m of f)Eb(c,m),c=Zm(c,m)})(e._query,n),new Ss(e.firestore,e.converter,Zm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dg extends gb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new dg(e,n)}_apply(e){const n=(function(s,l,c){if(s.startAt!==null)throw new _e(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new _e(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hu(l,c)})(e._query,this._field,this._direction);return new Ss(e.firestore,e.converter,(function(s,l){const c=s.explicitOrderBy.concat([l]);return new qo(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function vb(r,e="asc"){const n=e,a=fd("orderBy",r);return dg._create(a,n)}function T0(r,e,n){if(typeof(n=Xt(n))=="string"){if(n==="")throw new _e(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pT(e)&&n.indexOf("/")!==-1)throw new _e(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(pt.fromString(n));if(!be.isDocumentKey(a))throw new _e(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return k1(r,new be(a))}if(n instanceof ln)return k1(r,n._key);throw new _e(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ed(n)}.`)}function b0(r,e){if(!Array.isArray(r)||r.length===0)throw new _e(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Eb(r,e){const n=(function(s,l){for(const c of s)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(r.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new _e(fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class uN{convertValue(e,n="none"){switch(Ca(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ra(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return Es(e,((s,l)=>{a[s]=this.convertValue(l,n)})),a}convertVectorValue(e){var a,s,l;const n=(l=(s=(a=e.fields)==null?void 0:a[Ph].arrayValue)==null?void 0:s.values)==null?void 0:l.map((c=>Ot(c.doubleValue)));return new Wr(n)}convertGeoPoint(e){return new Xr(Ot(e.latitude),Ot(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=rd(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(lu(e));default:return null}}convertTimestamp(e){const n=wa(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=pt.fromString(e);tt(kT(a),9688,{name:e});const s=new uu(a.get(1),a.get(3)),l=new be(a.popFirst(5));return s.isEqual(n)||Mi(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(r,e,n){let a;return a=r?r.toFirestore(e):e,a}class ah{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class So extends pb{constructor(e,n,a,s,l,c){super(e,n,a,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(fd("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(fe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=So._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}So._jsonSchemaVersion="firestore/documentSnapshot/1.0",So._jsonSchema={type:zt("string",So._jsonSchemaVersion),bundleSource:zt("string","DocumentSnapshot"),bundleName:zt("string"),bundle:zt("string")};class vh extends So{data(e={}){return super.data(e)}}class wo{constructor(e,n,a,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ah(s.hasPendingWrites,s.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new vh(this._firestore,this._userDataWriter,a.key,a,new ah(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,l){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map((f=>{const m=new vh(s._firestore,s._userDataWriter,f.doc.key,f.doc,new ah(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new vh(s._firestore,s._userDataWriter,f.doc.key,f.doc,new ah(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let y=-1,g=-1;return f.type!==0&&(y=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),g=c.indexOf(f.doc.key)),{type:hN(f.type),doc:m,oldIndex:y,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(fe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],s=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),a.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),s.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function hN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:r})}}wo._jsonSchemaVersion="firestore/querySnapshot/1.0",wo._jsonSchema={type:zt("string",wo._jsonSchemaVersion),bundleSource:zt("string","QuerySnapshot"),bundleName:zt("string"),bundle:zt("string")};class dN extends uN{constructor(e){super(),this.firestore=e}convertBytes(e){return new hr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,n)}}function Tb(r){r=Nh(r,Ss);const e=Nh(r.firestore,ig),n=lb(e),a=new dN(e);return lN(r._query),Yx(n,r._query).then((s=>new wo(e,a,r,s)))}function cp(r,e){const n=Nh(r.firestore,ig),a=Xx(r),s=cN(r.converter,e);return fN(n,[nN(cb(r.firestore),"addDoc",a._key,s,r.converter!==null,{}).toMutation(a._key,Ni.exists(!1))]).then((()=>a))}function fN(r,e){return(function(a,s){const l=new Ta;return a.asyncQueue.enqueueAndForget((async()=>Mx(await Qx(a),s,l))),l.promise})(lb(r),e)}function hp(){return new lg("serverTimestamp")}(function(e,n=!0){(function(s){Vo=s})(_s),ds(new Aa("firestore",((a,{instanceIdentifier:s,options:l})=>{const c=a.getProvider("app").getImmediate(),f=new ig(new W3(a.getProvider("auth-internal")),new eI(c,a.getProvider("app-check-internal")),(function(y,g){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new _e(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(y.options.projectId,g)})(c,s),c);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Gr(w1,R1,e),Gr(w1,R1,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="firebasestorage.googleapis.com",Ab="storageBucket",mN=120*1e3,pN=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct extends ti{constructor(e,n,a=0){super(Mm(e),`Firebase Storage: ${n} (${Mm(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ct.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Mm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Rt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Rt||(Rt={}));function Mm(r){return"storage/"+r}function fg(){const r="An unknown error occurred, please check the error payload for server response.";return new Ct(Rt.UNKNOWN,r)}function gN(r){return new Ct(Rt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function yN(r){return new Ct(Rt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function _N(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ct(Rt.UNAUTHENTICATED,r)}function vN(){return new Ct(Rt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function EN(r){return new Ct(Rt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function TN(){return new Ct(Rt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function bN(){return new Ct(Rt.CANCELED,"User canceled the upload/download.")}function AN(r){return new Ct(Rt.INVALID_URL,"Invalid URL '"+r+"'.")}function SN(r){return new Ct(Rt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function wN(){return new Ct(Rt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ab+"' property when initializing the app?")}function RN(){return new Ct(Rt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function CN(){return new Ct(Rt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function IN(r){return new Ct(Rt.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function dp(r){return new Ct(Rt.INVALID_ARGUMENT,r)}function Sb(){return new Ct(Rt.APP_DELETED,"The Firebase app was deleted.")}function xN(r){return new Ct(Rt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function nu(r,e){return new Ct(Rt.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Hl(r){throw new Ct(Rt.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let a;try{a=Xn.makeFromUrl(e,n)}catch{return new Xn(e,"")}if(a.path==="")return a;throw SN(e)}static makeFromUrl(e,n){let a=null;const s="([A-Za-z0-9.\\-_]+)";function l(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+s+c,"i"),m={bucket:1,path:3};function y(G){G.path_=decodeURIComponent(G.path)}const g="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",A=new RegExp(`^https?://${v}/${g}/b/${s}/o${_}`,"i"),I={bucket:1,path:3},q=n===bb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,V="([^?#]*)",k=new RegExp(`^https?://${q}/${s}/${V}`,"i"),H=[{regex:f,indices:m,postModify:l},{regex:A,indices:I,postModify:y},{regex:k,indices:{bucket:1,path:2},postModify:y}];for(let G=0;G<H.length;G++){const Z=H[G],j=Z.regex.exec(e);if(j){const U=j[Z.indices.bucket];let T=j[Z.indices.path];T||(T=""),a=new Xn(U,T),Z.postModify(a);break}}if(a==null)throw AN(e);return a}}class NN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(r,e,n){let a=1,s=null,l=null,c=!1,f=0;function m(){return f===2}let y=!1;function g(...V){y||(y=!0,e.apply(null,V))}function v(V){s=setTimeout(()=>{s=null,r(A,m())},V)}function _(){l&&clearTimeout(l)}function A(V,...k){if(y){_();return}if(V){_(),g.call(null,V,...k);return}if(m()||c){_(),g.call(null,V,...k);return}a<64&&(a*=2);let H;f===1?(f=2,H=0):H=(a+Math.random())*1e3,v(H)}let I=!1;function q(V){I||(I=!0,_(),!y&&(s!==null?(V||(f=2),clearTimeout(s),v(0)):V||(f=1)))}return v(0),l=setTimeout(()=>{c=!0,q(!0)},n),q}function ON(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(r){return r!==void 0}function MN(r){return typeof r=="object"&&!Array.isArray(r)}function mg(r){return typeof r=="string"||r instanceof String}function A0(r){return pg()&&r instanceof Blob}function pg(){return typeof Blob<"u"}function S0(r,e,n,a){if(a<e)throw dp(`Invalid value for '${r}'. Expected ${e} or greater.`);if(a>n)throw dp(`Invalid value for '${r}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(r,e,n){let a=e;return n==null&&(a=`https://${e}`),`${n}://${a}/v0${r}`}function wb(r){const e=encodeURIComponent;let n="?";for(const a in r)if(r.hasOwnProperty(a)){const s=e(a)+"="+e(r[a]);n=n+s+"&"}return n=n.slice(0,-1),n}var cs;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(cs||(cs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(r,e){const n=r>=500&&r<600,s=[408,429].indexOf(r)!==-1,l=e.indexOf(r)!==-1;return n||s||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,n,a,s,l,c,f,m,y,g,v,_=!0,A=!1){this.url_=e,this.method_=n,this.headers_=a,this.body_=s,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=m,this.timeout_=y,this.progressCallback_=g,this.connectionFactory_=v,this.retry=_,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,q)=>{this.resolve_=I,this.reject_=q,this.start_()})}start_(){const e=(a,s)=>{if(s){a(!1,new sh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const m=f.loaded,y=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,y)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===cs.NO_ERROR,m=l.getStatus();if(!f||LN(m,this.additionalRetryCodes_)&&this.retry){const g=l.getErrorCode()===cs.ABORT;a(!1,new sh(!1,null,g));return}const y=this.successCodes_.indexOf(m)!==-1;a(!0,new sh(y,l))})},n=(a,s)=>{const l=this.resolve_,c=this.reject_,f=s.connection;if(s.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());PN(m)?l(m):l()}catch(m){c(m)}else if(f!==null){const m=fg();m.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,m)):c(m)}else if(s.canceled){const m=this.appDelete_?Sb():bN();c(m)}else{const m=TN();c(m)}};this.canceled_?n(!1,new sh(!1,null,!0)):this.backoffId_=DN(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ON(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class sh{constructor(e,n,a){this.wasSuccessCode=e,this.connection=n,this.canceled=!!a}}function UN(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function kN(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function qN(r,e){e&&(r["X-Firebase-GMPID"]=e)}function jN(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function zN(r,e,n,a,s,l,c=!0,f=!1){const m=wb(r.urlParams),y=r.url+m,g=Object.assign({},r.headers);return qN(g,e),UN(g,n),kN(g,l),jN(g,a),new VN(y,r.method,g,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,s,c,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function FN(...r){const e=BN();if(e!==void 0){const n=new e;for(let a=0;a<r.length;a++)n.append(r[a]);return n.getBlob()}else{if(pg())return new Blob(r);throw new Ct(Rt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function HN(r,e,n){return r.webkitSlice?r.webkitSlice(e,n):r.mozSlice?r.mozSlice(e,n):r.slice?r.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(r){if(typeof atob>"u")throw IN("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Lm{constructor(e,n){this.data=e,this.contentType=n||null}}function QN(r,e){switch(r){case Hr.RAW:return new Lm(Rb(e));case Hr.BASE64:case Hr.BASE64URL:return new Lm(Cb(r,e));case Hr.DATA_URL:return new Lm(YN(e),$N(e))}throw fg()}function Rb(r){const e=[];for(let n=0;n<r.length;n++){let a=r.charCodeAt(n);if(a<=127)e.push(a);else if(a<=2047)e.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(n<r.length-1&&(r.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const l=a,c=r.charCodeAt(++n);a=65536|(l&1023)<<10|c&1023,e.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?e.push(239,191,189):e.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(e)}function KN(r){let e;try{e=decodeURIComponent(r)}catch{throw nu(Hr.DATA_URL,"Malformed data URL.")}return Rb(e)}function Cb(r,e){switch(r){case Hr.BASE64:{const s=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(s||l)throw nu(r,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Hr.BASE64URL:{const s=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(s||l)throw nu(r,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=GN(e)}catch(s){throw s.message.includes("polyfill")?s:nu(r,"Invalid character found")}const a=new Uint8Array(n.length);for(let s=0;s<n.length;s++)a[s]=n.charCodeAt(s);return a}class Ib{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw nu(Hr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=n[1]||null;a!=null&&(this.base64=XN(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=e.substring(e.indexOf(",")+1)}}function YN(r){const e=new Ib(r);return e.base64?Cb(Hr.BASE64,e.rest):KN(e.rest)}function $N(r){return new Ib(r).contentType}function XN(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n){let a=0,s="";A0(e)?(this.data_=e,a=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),a=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),a=e.length),this.size_=a,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(A0(this.data_)){const a=this.data_,s=HN(a,e,n);return s===null?null:new pa(s)}else{const a=new Uint8Array(this.data_.buffer,e,n-e);return new pa(a,!0)}}static getBlob(...e){if(pg()){const n=e.map(a=>a instanceof pa?a.data_:a);return new pa(FN.apply(null,n))}else{const n=e.map(c=>mg(c)?QN(Hr.RAW,c).data:c.data_);let a=0;n.forEach(c=>{a+=c.byteLength});const s=new Uint8Array(a);let l=0;return n.forEach(c=>{for(let f=0;f<c.length;f++)s[l++]=c[f]}),new pa(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(r){let e;try{e=JSON.parse(r)}catch{return null}return MN(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function JN(r,e){const n=e.split("/").filter(a=>a.length>0).join("/");return r.length===0?n:r+"/"+n}function Nb(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(r,e){return e}class Mn{constructor(e,n,a,s){this.server=e,this.local=n||e,this.writable=!!a,this.xform=s||ZN}}let oh=null;function e6(r){return!mg(r)||r.length<2?r:Nb(r)}function Db(){if(oh)return oh;const r=[];r.push(new Mn("bucket")),r.push(new Mn("generation")),r.push(new Mn("metageneration")),r.push(new Mn("name","fullPath",!0));function e(l,c){return e6(c)}const n=new Mn("name");n.xform=e,r.push(n);function a(l,c){return c!==void 0?Number(c):c}const s=new Mn("size");return s.xform=a,r.push(s),r.push(new Mn("timeCreated")),r.push(new Mn("updated")),r.push(new Mn("md5Hash",null,!0)),r.push(new Mn("cacheControl",null,!0)),r.push(new Mn("contentDisposition",null,!0)),r.push(new Mn("contentEncoding",null,!0)),r.push(new Mn("contentLanguage",null,!0)),r.push(new Mn("contentType",null,!0)),r.push(new Mn("metadata","customMetadata",!0)),oh=r,oh}function t6(r,e){function n(){const a=r.bucket,s=r.fullPath,l=new Xn(a,s);return e._makeStorageReference(l)}Object.defineProperty(r,"ref",{get:n})}function n6(r,e,n){const a={};a.type="file";const s=n.length;for(let l=0;l<s;l++){const c=n[l];a[c.local]=c.xform(a,e[c.server])}return t6(a,r),a}function Ob(r,e,n){const a=xb(e);return a===null?null:n6(r,a,n)}function r6(r,e,n,a){const s=xb(e);if(s===null||!mg(s.downloadTokens))return null;const l=s.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(y=>{const g=r.bucket,v=r.fullPath,_="/b/"+c(g)+"/o/"+c(v),A=gg(_,n,a),I=wb({alt:"media",token:y});return A+I})[0]}function i6(r,e){const n={},a=e.length;for(let s=0;s<a;s++){const l=e[s];l.writable&&(n[l.server]=r[l.local])}return JSON.stringify(n)}class Pb{constructor(e,n,a,s){this.url=e,this.method=n,this.handler=a,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(r){if(!r)throw fg()}function a6(r,e){function n(a,s){const l=Ob(r,s,e);return Mb(l!==null),l}return n}function s6(r,e){function n(a,s){const l=Ob(r,s,e);return Mb(l!==null),r6(l,s,r.host,r._protocol)}return n}function Lb(r){function e(n,a){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=vN():s=_N():n.getStatus()===402?s=yN(r.bucket):n.getStatus()===403?s=EN(r.path):s=a,s.status=n.getStatus(),s.serverResponse=a.serverResponse,s}return e}function o6(r){const e=Lb(r);function n(a,s){let l=e(a,s);return a.getStatus()===404&&(l=gN(r.path)),l.serverResponse=s.serverResponse,l}return n}function l6(r,e,n){const a=e.fullServerUrl(),s=gg(a,r.host,r._protocol),l="GET",c=r.maxOperationRetryTime,f=new Pb(s,l,s6(r,n),c);return f.errorHandler=o6(e),f}function u6(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function c6(r,e,n){const a=Object.assign({},n);return a.fullPath=r.path,a.size=e.size(),a.contentType||(a.contentType=u6(null,e)),a}function h6(r,e,n,a,s){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function f(){let H="";for(let G=0;G<2;G++)H=H+Math.random().toString().slice(2);return H}const m=f();c["Content-Type"]="multipart/related; boundary="+m;const y=c6(e,a,s),g=i6(y,n),v="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+m+`\r
Content-Type: `+y.contentType+`\r
\r
`,_=`\r
--`+m+"--",A=pa.getBlob(v,a,_);if(A===null)throw RN();const I={name:y.fullPath},q=gg(l,r.host,r._protocol),V="POST",k=r.maxUploadRetryTime,B=new Pb(q,V,a6(r,n),k);return B.urlParams=I,B.headers=c,B.body=A.uploadData(),B.errorHandler=Lb(e),B}class d6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=cs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=cs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=cs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,a,s,l){if(this.sent_)throw Hl("cannot .send() more than once");if(Na(e)&&a&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Hl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Hl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Hl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Hl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class f6 extends d6{initXhr(){this.xhr_.responseType="text"}}function Vb(){return new f6}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,n){this._service=e,n instanceof Xn?this._location=n:this._location=Xn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new gs(e,n)}get root(){const e=new Xn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Nb(this._location.path)}get storage(){return this._service}get parent(){const e=WN(this._location.path);if(e===null)return null;const n=new Xn(this._location.bucket,e);return new gs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw xN(e)}}function m6(r,e,n){r._throwIfRoot("uploadBytes");const a=h6(r.storage,r._location,Db(),new pa(e,!0),n);return r.storage.makeRequestWithTokens(a,Vb).then(s=>({metadata:s,ref:r}))}function p6(r){r._throwIfRoot("getDownloadURL");const e=l6(r.storage,r._location,Db());return r.storage.makeRequestWithTokens(e,Vb).then(n=>{if(n===null)throw CN();return n})}function g6(r,e){const n=JN(r._location.path,e),a=new Xn(r._location.bucket,n);return new gs(r.storage,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(r){return/^[A-Za-z]+:\/\//.test(r)}function _6(r,e){return new gs(r,e)}function Ub(r,e){if(r instanceof yg){const n=r;if(n._bucket==null)throw wN();const a=new gs(n,n._bucket);return e!=null?Ub(a,e):a}else return e!==void 0?g6(r,e):r}function v6(r,e){if(e&&y6(e)){if(r instanceof yg)return _6(r,e);throw dp("To use ref(service, url), the first argument must be a Storage instance.")}else return Ub(r,e)}function w0(r,e){const n=e==null?void 0:e[Ab];return n==null?null:Xn.makeFromBucketSpec(n,r)}function E6(r,e,n,a={}){r.host=`${e}:${n}`;const s=Na(e);s&&(Ep(`https://${r.host}/b`),Tp("Storage",!0)),r._isUsingEmulator=!0,r._protocol=s?"https":"http";const{mockUserToken:l}=a;l&&(r._overrideAuthToken=typeof l=="string"?l:rE(l,r.app.options.projectId))}class yg{constructor(e,n,a,s,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=a,this._url=s,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=bb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=mN,this._maxUploadRetryTime=pN,this._requests=new Set,s!=null?this._bucket=Xn.makeFromBucketSpec(s,this._host):this._bucket=w0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Xn.makeFromBucketSpec(this._url,e):this._bucket=w0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){S0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){S0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gs(this,e)}_makeRequest(e,n,a,s,l=!0){if(this._deleted)return new NN(Sb());{const c=zN(e,this._appId,a,s,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[a,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,a,s).getPromise()}}const R0="@firebase/storage",C0="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="storage";function T6(r,e,n){return r=Xt(r),m6(r,e,n)}function b6(r){return r=Xt(r),p6(r)}function A6(r,e){return r=Xt(r),v6(r,e)}function S6(r=Sp(),e){r=Xt(r);const a=$h(r,kb).getImmediate({identifier:e}),s=eE("storage");return s&&w6(a,...s),a}function w6(r,e,n,a={}){E6(r,e,n,a)}function R6(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),a=r.getProvider("auth-internal"),s=r.getProvider("app-check-internal");return new yg(n,a,s,e,_s)}function C6(){ds(new Aa(kb,R6,"PUBLIC").setMultipleInstances(!0)),Gr(R0,C0,""),Gr(R0,C0,"esm2020")}C6();const I6={apiKey:"AIzaSyBnmn0Fklo8nuwxsUepa6WTvLCF9_Vt1CE",authDomain:"maticas-jaguar-app.firebaseapp.com",projectId:"maticas-jaguar-app",storageBucket:"maticas-jaguar-app.appspot.com",messagingSenderId:"990095109997",appId:"1:990095109997:web:89343d64504b57a3b73464",measurementId:"G-2T1DJ19CS5"},_g=sE(I6),fp=Qm(_g),gu=Wx(_g),x6=S6(_g),N6=({onLogin:r})=>{const[e,n]=le.useState(""),[a,s]=le.useState(""),[l,c]=le.useState(""),[f,m]=le.useState(null),y=B0();le.useEffect(()=>{const v=Qm(),_=Dp(v,A=>{A?(m(A),r(A),y("/ruta-a-proteger")):m(null)});return()=>_()},[r,y]);const g=async v=>{v.preventDefault();const _=Qm();try{await MC(_,e,a)}catch(A){c("Error al iniciar sesión. Verifica tus credenciales."),console.error("Error en el inicio de sesión:",A)}};return F.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900",children:F.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[F.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900 dark:text-white",children:"Iniciar Sesión"}),F.jsxs("form",{onSubmit:g,className:"space-y-6",children:[F.jsxs("div",{children:[F.jsx("label",{htmlFor:"email",className:"text-sm font-medium login-label-style",children:"Correo Electrónico"}),F.jsx("input",{id:"email",type:"email",value:e,onChange:v=>n(v.target.value),required:!0,className:"w-full px-3 py-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"tu@email.com"})]}),F.jsxs("div",{children:[F.jsx("label",{htmlFor:"password",className:"text-sm font-medium login-label-style",children:"Contraseña"}),F.jsx("input",{id:"password",type:"password",value:a,onChange:v=>s(v.target.value),required:!0,className:"w-full px-3 py-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"********"})]}),l&&F.jsx("p",{className:"text-sm text-center text-red-600",children:l}),F.jsx("div",{children:F.jsx("button",{type:"submit",className:"w-full px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Entrar"})})]})]})})};function yu({texto:r}){if(!r)return null;const e=String(r);if(e.includes(" y ")){const n=e.split(" y ");return F.jsxs("span",{className:"opcion-formateada",children:[F.jsx(yu,{texto:n[0]}),F.jsx("span",{children:" y "}),F.jsx(yu,{texto:n[1]})]})}if(e.includes(" ")&&e.includes("/")){const n=e.split(" "),a=n[0],s=n[1].split("/"),l=s[0],c=s[1];return F.jsxs("span",{className:"opcion-formateada",children:[F.jsx("span",{className:"entero",children:a}),F.jsxs("div",{className:"fraccion",children:[F.jsx("span",{className:"numerador",children:l}),F.jsx("span",{className:"denominador",children:c})]})]})}if(!e.includes(" ")&&e.includes("/")){const n=e.split("/"),a=n[0],s=n[1];return F.jsx("span",{className:"opcion-formateada",children:F.jsxs("div",{className:"fraccion",children:[F.jsx("span",{className:"numerador",children:a}),F.jsx("span",{className:"denominador",children:s})]})})}return F.jsx("span",{children:e})}const I0=new Audio("/sonidito.mp3"),D6=({reactivos:r,onQuizFinish:e,onGoToMenu:n})=>{const[a,s]=le.useState(0),[l,c]=le.useState([]),[f,m]=le.useState(!1),y=()=>{I0.currentTime=0,I0.play().catch(A=>{console.error("Error al reproducir el sonido:",A)})};if(!r||r.length===0)return F.jsxs("div",{className:"quiz-container",children:[F.jsx("p",{children:"No se encontraron preguntas para este tema."}),F.jsx("button",{onClick:n,className:"menu-btn-quiz",children:"Volver al Menú"})]});const g=r[a],v=A=>{y();const I=A===g.respuesta_correcta,q={preguntaActual:g,respuestaUsuario:A,esCorrecta:I},V=[...l,q];c(V),m(!0),setTimeout(()=>{const k=a+1;if(k<r.length)s(k),m(!1);else{const B=V.filter(H=>H.esCorrecta).length;e(B,V)}},500)},_=(a+1)/r.length*100;return F.jsxs("div",{className:`quiz-container ${f?"fading-out":""}`,children:[F.jsx("div",{className:"progress-bar-container",children:F.jsx("div",{className:"progress-bar",style:{width:`${_}%`}})}),F.jsxs("div",{className:"quiz-header",children:[F.jsxs("div",{className:"pregunta-numero",children:["Pregunta ",a+1," de ",r.length]}),F.jsx("button",{onClick:n,className:"menu-btn-quiz",children:"Volver al Menú"})]}),g.imagen&&F.jsx("img",{src:`/images/${g.imagen}`,alt:`Reactivo sobre ${g.tema}`,className:"reactivo-imagen"}),F.jsx("h2",{className:"pregunta-titulo",children:g.pregunta}),F.jsx("div",{className:"opciones-container-grid",children:g.opciones.map((A,I)=>F.jsx("button",{className:"opcion-btn-grid",onClick:()=>v(A),children:F.jsx(yu,{texto:A})},I))})]})},vg=[{id:1,title:"¡Hasta que la dignidad se haga costumbre!",mainContent:[{type:"paragraph",content:"El grupo de 6°A de la Escuela General Lázaro Cárdenas, de San Pedro Cholula, realizó el proyecto escolar “Violencia de género: un problema social que nos afecta”. Consideraron importante organizar una asamblea entre sus compañeras, compañeros, madres y padres de familia de los grupos de 4°, 5° y 6°, con la intención de establecer acuerdos de convivencia para evitar los diversos tipos de violencia que suelen presentarse contra las mujeres. Como parte de sus actividades, realizaron una lista de los casos de violencia que se presentan con más frecuencia en su comunidad. Con la información obtenida realizaron una encuesta a 600 mujeres y niñas sobre la violencia que habían enfrentado, y se registraron los datos en la siguiente tabla."},{type:"paragraph",content:"Tipos de violencia que suelen afectar la dignidad y derechos de las niñas y mujeres de la comunidad"}],tableData:{headers:["Tipos de violencia","Casos"],rows:[["Bromas hirientes",56],["Descalificar",54],["Ridiculizar y ofender",68],["Forzar a una relación sentimental",69],["Humillar en público",59],["Celar las amistades o relaciones",51],["Acosar en redes sociales",55],["Golpear intencionalmente",69],["Ignorar o la ley del hielo",50],["Tocamientos indebidos en el cuerpo",69]]},consigna1:"Haz una gráfica de barras con la información de la tabla",consigna2:"Observa los datos de la tabla y la gráfica que elaboraste, ¿cuáles son los tipos de violencia que representan la moda? Escribe cómo lograste identificarla."},{id:2,title:"Un problema de gran magnitud: el maltrato infantil",mainContent:[{type:"paragraph",content:`¿Qué tan frecuente es el maltrato infantil?
Según la Organización Mundial de la Salud (OMS), el maltrato infantil se define como cualquier acto o desatención que afecte a un menor de 18 años y esté dirigido a perjudicar su salud, su dignidad o su integridad tanto física como psicológica. El maltrato infantil se puede ejercer de manera física, psicológica y sexual y, como se leerá más adelante, genera graves consecuencias a corto y mediano plazo en quienes lo sufrieron durante la niñez o la adolescencia.
Si bien aún faltan datos e información sobre la cantidad de niños y niñas que sufren maltrato infantil, es posible afirmar que a nivel mundial 3 de cada 4 niños de entre 2 y 4 años sufren con regularidad castigos corporales o violencia psicológica de la mano de padres o cuidadores; y que 1 de cada 5 mujeres, lo mismo que 1 de cada 13 hombres, declaran haber sufrido abusos sexuales en la infancia.
Al analizar las causas del maltrato, éste suele estar relacionado con padres y madres de familia que enfrentan estrés al afrontar las demandas laborales cada vez más exigentes, y la falta de apoyo de familiares e instituciones confiables que los apoyen en la educación y crianza de sus hijos e hijas.
En relación con las consecuencias del maltrato infantil, se ha identificado graves efectos físicos, sexuales y psicológicos a corto y largo plazo; entre ellas: lesiones, estrés postraumático, ansiedad, depresión, infecciones de transmisión sexual e incluso enfermedades ginecológicas o embarazos no deseados en las adolescentes.
Por otra parte, se ha observado que los niños y las niñas que vivieron maltrato en la infancia tienen mayor probabilidad de abusar del consumo de alcohol, drogas o tabaco, también se ha observado un impacto negativo en el desarrollo intelectual y en el desempeño escolar de los menores maltratados. Otras investigaciones han demostrado que quienes sufrieron en la infancia algún tipo de violencia tienen 13% más probabilidades de abandonar la educación básica, media o superior.
Debido a la relevancia de este problema, es urgente generar estrategias para su atención y prevención. En primer lugar, es importante fomentar la capacitación de profesionales de la salud para que identifiquen a la niñez que enfrenta el maltrato infantil, y promuevan que niños, niñas y adolescentes reciban atención y apoyo especializado. Por otro lado, la prevención es la forma más efectiva de atender el maltrato infantil; entre las acciones más importante se encuentra el apoyo y el acompañamiento a padres y madres de familia en la crianza respetuosa, así como impulsar leyes que disuadan de imponer castigos violentos a menores de edad`}],tableData:null,consigna1:"Si en el estado de Tlaxcala viven 693,083 mujeres y 1 de cada 5 declaran haber sufrido abusos sexuales en la infancia. ¿Cuántas mujeres han sufrido abuso sexual?",consigna2:"Si en el estado de Aguascalientes existen 696, 683 hombres y 1 de cada 13 declaran haber sufrido abusos sexuales en la infancia. ¿Cuántos hombres han sufrido abuso sexual?"},{id:3,title:"Las artes visuales en América Latina",mainContent:[{type:"paragraph",content:"A Paulina y Erick les gusta mucho el arte y se han puesto a investigar artistas de América Latina. Han descubierto que el muralismo Latinoamericano es una de las artes visuales del artista urbano, donde expresa sus emociones, pensamientos o sentimientos en relación con la realidad social o política que vive su país. A través de esta herramienta de comunicación el artista intenta transmitir o expresar los acuerdos o desacuerdos, desigualdades o injusticias que se viven en una sociedad."},{type:"instruction",content:"1. Observa con atención los siguientes murales que encontraron Paulina y Erick:"},{type:"imageGroup",images:[{src:"/images/mural_1.png",alt:"Mural 1"},{src:"/images/mural_2.png",alt:"Mural 2"}]},{type:"image",src:"/images/mural_3.png",alt:"Mural 3"},{type:"instruction",content:"La maestra de Paulina y Erick notó su interés por el arte y les pidió que plantearan un problema con algunas figuras geométricas del mural de Diana Ordoñez."},{type:"instruction",content:"2. Lee con atención el problema que propusieron Paulina y Erick."},{type:"imageTable",headers:["","Datos","Problema"],rows:[[{type:"image",src:"/images/tabla_2_1.png"},{type:"image",src:"/images/tabla_2_2.png"},{type:"image",src:"/images/tabla_2_3.png"}]]}],tableData:null,consigna1:"Explica brevemente lo que harías para resolver el problema.",consigna2:null}];function O6(r,e){return e.forEach((function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach((function(a){if(a!=="default"&&!(a in r)){var s=Object.getOwnPropertyDescriptor(n,a);Object.defineProperty(r,a,s.get?s:{enumerable:!0,get:function(){return n[a]}})}}))})),Object.freeze(r)}function qb(r,e){return new Promise((function(n,a){let s;return P6(r).then((function(l){try{return s=l,n(new Blob([e.slice(0,2),s,e.slice(2)],{type:"image/jpeg"}))}catch(c){return a(c)}}),a)}))}const P6=r=>new Promise(((e,n)=>{const a=new FileReader;a.addEventListener("load",(({target:{result:s}})=>{const l=new DataView(s);let c=0;if(l.getUint16(c)!==65496)return n("not a valid JPEG");for(c+=2;;){const f=l.getUint16(c);if(f===65498)break;const m=l.getUint16(c+2);if(f===65505&&l.getUint32(c+4)===1165519206){const y=c+10;let g;switch(l.getUint16(y)){case 18761:g=!0;break;case 19789:g=!1;break;default:return n("TIFF header contains invalid endian")}if(l.getUint16(y+2,g)!==42)return n("TIFF header contains invalid version");const v=l.getUint32(y+4,g),_=y+v+2+12*l.getUint16(y+v,g);for(let A=y+v+2;A<_;A+=12)if(l.getUint16(A,g)==274){if(l.getUint16(A+2,g)!==3)return n("Orientation data type is invalid");if(l.getUint32(A+4,g)!==1)return n("Orientation data count is invalid");l.setUint16(A+8,1,g);break}return e(s.slice(c,c+2+m))}c+=2+m}return e(new Blob)})),a.readAsArrayBuffer(r)}));var zh={},M6={get exports(){return zh},set exports(r){zh=r}};(function(r){var e,n,a={};M6.exports=a,a.parse=function(s,l){for(var c=a.bin.readUshort,f=a.bin.readUint,m=0,y={},g=new Uint8Array(s),v=g.length-4;f(g,v)!=101010256;)v--;m=v,m+=4;var _=c(g,m+=4);c(g,m+=2);var A=f(g,m+=2),I=f(g,m+=4);m+=4,m=I;for(var q=0;q<_;q++){f(g,m),m+=4,m+=4,m+=4,f(g,m+=4),A=f(g,m+=4);var V=f(g,m+=4),k=c(g,m+=4),B=c(g,m+2),H=c(g,m+4);m+=6;var G=f(g,m+=8);m+=4,m+=k+B+H,a._readLocal(g,G,y,A,V,l)}return y},a._readLocal=function(s,l,c,f,m,y){var g=a.bin.readUshort,v=a.bin.readUint;v(s,l),g(s,l+=4),g(s,l+=2);var _=g(s,l+=2);v(s,l+=2),v(s,l+=4),l+=4;var A=g(s,l+=8),I=g(s,l+=2);l+=2;var q=a.bin.readUTF8(s,l,A);if(l+=A,l+=I,y)c[q]={size:m,csize:f};else{var V=new Uint8Array(s.buffer,l);if(_==0)c[q]=new Uint8Array(V.buffer.slice(l,l+f));else{if(_!=8)throw"unknown compression method: "+_;var k=new Uint8Array(m);a.inflateRaw(V,k),c[q]=k}}},a.inflateRaw=function(s,l){return a.F.inflate(s,l)},a.inflate=function(s,l){return s[0],s[1],a.inflateRaw(new Uint8Array(s.buffer,s.byteOffset+2,s.length-6),l)},a.deflate=function(s,l){l==null&&(l={level:6});var c=0,f=new Uint8Array(50+Math.floor(1.1*s.length));f[c]=120,f[c+1]=156,c+=2,c=a.F.deflateRaw(s,f,c,l.level);var m=a.adler(s,0,s.length);return f[c+0]=m>>>24&255,f[c+1]=m>>>16&255,f[c+2]=m>>>8&255,f[c+3]=m>>>0&255,new Uint8Array(f.buffer,0,c+4)},a.deflateRaw=function(s,l){l==null&&(l={level:6});var c=new Uint8Array(50+Math.floor(1.1*s.length)),f=a.F.deflateRaw(s,c,f,l.level);return new Uint8Array(c.buffer,0,f)},a.encode=function(s,l){l==null&&(l=!1);var c=0,f=a.bin.writeUint,m=a.bin.writeUshort,y={};for(var g in s){var v=!a._noNeed(g)&&!l,_=s[g],A=a.crc.crc(_,0,_.length);y[g]={cpr:v,usize:_.length,crc:A,file:v?a.deflateRaw(_):_}}for(var g in y)c+=y[g].file.length+30+46+2*a.bin.sizeUTF8(g);c+=22;var I=new Uint8Array(c),q=0,V=[];for(var g in y){var k=y[g];V.push(q),q=a._writeHeader(I,q,g,k,0)}var B=0,H=q;for(var g in y)k=y[g],V.push(q),q=a._writeHeader(I,q,g,k,1,V[B++]);var G=q-H;return f(I,q,101010256),q+=4,m(I,q+=4,B),m(I,q+=2,B),f(I,q+=2,G),f(I,q+=4,H),q+=4,q+=2,I.buffer},a._noNeed=function(s){var l=s.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(l)!=-1},a._writeHeader=function(s,l,c,f,m,y){var g=a.bin.writeUint,v=a.bin.writeUshort,_=f.file;return g(s,l,m==0?67324752:33639248),l+=4,m==1&&(l+=2),v(s,l,20),v(s,l+=2,0),v(s,l+=2,f.cpr?8:0),g(s,l+=2,0),g(s,l+=4,f.crc),g(s,l+=4,_.length),g(s,l+=4,f.usize),v(s,l+=4,a.bin.sizeUTF8(c)),v(s,l+=2,0),l+=2,m==1&&(l+=2,l+=2,g(s,l+=6,y),l+=4),l+=a.bin.writeUTF8(s,l,c),m==0&&(s.set(_,l),l+=_.length),l},a.crc={table:(function(){for(var s=new Uint32Array(256),l=0;l<256;l++){for(var c=l,f=0;f<8;f++)1&c?c=3988292384^c>>>1:c>>>=1;s[l]=c}return s})(),update:function(s,l,c,f){for(var m=0;m<f;m++)s=a.crc.table[255&(s^l[c+m])]^s>>>8;return s},crc:function(s,l,c){return 4294967295^a.crc.update(4294967295,s,l,c)}},a.adler=function(s,l,c){for(var f=1,m=0,y=l,g=l+c;y<g;){for(var v=Math.min(y+5552,g);y<v;)m+=f+=s[y++];f%=65521,m%=65521}return m<<16|f},a.bin={readUshort:function(s,l){return s[l]|s[l+1]<<8},writeUshort:function(s,l,c){s[l]=255&c,s[l+1]=c>>8&255},readUint:function(s,l){return 16777216*s[l+3]+(s[l+2]<<16|s[l+1]<<8|s[l])},writeUint:function(s,l,c){s[l]=255&c,s[l+1]=c>>8&255,s[l+2]=c>>16&255,s[l+3]=c>>24&255},readASCII:function(s,l,c){for(var f="",m=0;m<c;m++)f+=String.fromCharCode(s[l+m]);return f},writeASCII:function(s,l,c){for(var f=0;f<c.length;f++)s[l+f]=c.charCodeAt(f)},pad:function(s){return s.length<2?"0"+s:s},readUTF8:function(s,l,c){for(var f,m="",y=0;y<c;y++)m+="%"+a.bin.pad(s[l+y].toString(16));try{f=decodeURIComponent(m)}catch{return a.bin.readASCII(s,l,c)}return f},writeUTF8:function(s,l,c){for(var f=c.length,m=0,y=0;y<f;y++){var g=c.charCodeAt(y);if((4294967168&g)==0)s[l+m]=g,m++;else if((4294965248&g)==0)s[l+m]=192|g>>6,s[l+m+1]=128|g>>0&63,m+=2;else if((4294901760&g)==0)s[l+m]=224|g>>12,s[l+m+1]=128|g>>6&63,s[l+m+2]=128|g>>0&63,m+=3;else{if((4292870144&g)!=0)throw"e";s[l+m]=240|g>>18,s[l+m+1]=128|g>>12&63,s[l+m+2]=128|g>>6&63,s[l+m+3]=128|g>>0&63,m+=4}}return m},sizeUTF8:function(s){for(var l=s.length,c=0,f=0;f<l;f++){var m=s.charCodeAt(f);if((4294967168&m)==0)c++;else if((4294965248&m)==0)c+=2;else if((4294901760&m)==0)c+=3;else{if((4292870144&m)!=0)throw"e";c+=4}}return c}},a.F={},a.F.deflateRaw=function(s,l,c,f){var m=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][f],y=a.F.U,g=a.F._goodIndex;a.F._hash;var v=a.F._putsE,_=0,A=c<<3,I=0,q=s.length;if(f==0){for(;_<q;)v(l,A,_+(D=Math.min(65535,q-_))==q?1:0),A=a.F._copyExact(s,_,D,l,A+8),_+=D;return A>>>3}var V=y.lits,k=y.strt,B=y.prev,H=0,G=0,Z=0,j=0,U=0,T=0;for(q>2&&(k[T=a.F._hash(s,0)]=0),_=0;_<q;_++){if(U=T,_+1<q-2){T=a.F._hash(s,_+1);var b=_+1&32767;B[b]=k[T],k[T]=b}if(I<=_){(H>14e3||G>26697)&&q-_>100&&(I<_&&(V[H]=_-I,H+=2,I=_),A=a.F._writeBlock(_==q-1||I==q?1:0,V,H,j,s,Z,_-Z,l,A),H=G=j=0,Z=_);var x=0;_<q-2&&(x=a.F._bestMatch(s,_,B,U,Math.min(m[2],q-_),m[3]));var D=x>>>16,P=65535&x;if(x!=0){P=65535&x;var C=g(D=x>>>16,y.of0);y.lhst[257+C]++;var K=g(P,y.df0);y.dhst[K]++,j+=y.exb[C]+y.dxb[K],V[H]=D<<23|_-I,V[H+1]=P<<16|C<<8|K,H+=2,I=_+D}else y.lhst[s[_]]++;G++}}for(Z==_&&s.length!=0||(I<_&&(V[H]=_-I,H+=2,I=_),A=a.F._writeBlock(1,V,H,j,s,Z,_-Z,l,A),H=0,G=0,H=G=j=0,Z=_);(7&A)!=0;)A++;return A>>>3},a.F._bestMatch=function(s,l,c,f,m,y){var g=32767&l,v=c[g],_=g-v+32768&32767;if(v==g||f!=a.F._hash(s,l-_))return 0;for(var A=0,I=0,q=Math.min(32767,l);_<=q&&--y!=0&&v!=g;){if(A==0||s[l+A]==s[l+A-_]){var V=a.F._howLong(s,l,_);if(V>A){if(I=_,(A=V)>=m)break;_+2<V&&(V=_+2);for(var k=0,B=0;B<V-2;B++){var H=l-_+B+32768&32767,G=H-c[H]+32768&32767;G>k&&(k=G,v=H)}}}_+=(g=v)-(v=c[g])+32768&32767}return A<<16|I},a.F._howLong=function(s,l,c){if(s[l]!=s[l-c]||s[l+1]!=s[l+1-c]||s[l+2]!=s[l+2-c])return 0;var f=l,m=Math.min(s.length,l+258);for(l+=3;l<m&&s[l]==s[l-c];)l++;return l-f},a.F._hash=function(s,l){return(s[l]<<8|s[l+1])+(s[l+2]<<4)&65535},a.saved=0,a.F._writeBlock=function(s,l,c,f,m,y,g,v,_){var A,I,q,V,k,B,H,G,Z,j=a.F.U,U=a.F._putsF,T=a.F._putsE;j.lhst[256]++,I=(A=a.F.getTrees())[0],q=A[1],V=A[2],k=A[3],B=A[4],H=A[5],G=A[6],Z=A[7];var b=32+((_+3&7)==0?0:8-(_+3&7))+(g<<3),x=f+a.F.contSize(j.fltree,j.lhst)+a.F.contSize(j.fdtree,j.dhst),D=f+a.F.contSize(j.ltree,j.lhst)+a.F.contSize(j.dtree,j.dhst);D+=14+3*H+a.F.contSize(j.itree,j.ihst)+(2*j.ihst[16]+3*j.ihst[17]+7*j.ihst[18]);for(var P=0;P<286;P++)j.lhst[P]=0;for(P=0;P<30;P++)j.dhst[P]=0;for(P=0;P<19;P++)j.ihst[P]=0;var C=b<x&&b<D?0:x<D?1:2;if(U(v,_,s),U(v,_+1,C),_+=3,C==0){for(;(7&_)!=0;)_++;_=a.F._copyExact(m,y,g,v,_)}else{var K,Y;if(C==1&&(K=j.fltree,Y=j.fdtree),C==2){a.F.makeCodes(j.ltree,I),a.F.revCodes(j.ltree,I),a.F.makeCodes(j.dtree,q),a.F.revCodes(j.dtree,q),a.F.makeCodes(j.itree,V),a.F.revCodes(j.itree,V),K=j.ltree,Y=j.dtree,T(v,_,k-257),T(v,_+=5,B-1),T(v,_+=5,H-4),_+=4;for(var R=0;R<H;R++)T(v,_+3*R,j.itree[1+(j.ordr[R]<<1)]);_+=3*H,_=a.F._codeTiny(G,j.itree,v,_),_=a.F._codeTiny(Z,j.itree,v,_)}for(var N=y,te=0;te<c;te+=2){for(var X=l[te],M=X>>>23,ee=N+(8388607&X);N<ee;)_=a.F._writeLit(m[N++],K,v,_);if(M!=0){var re=l[te+1],ie=re>>16,ue=re>>8&255,ae=255&re;T(v,_=a.F._writeLit(257+ue,K,v,_),M-j.of0[ue]),_+=j.exb[ue],U(v,_=a.F._writeLit(ae,Y,v,_),ie-j.df0[ae]),_+=j.dxb[ae],N+=M}}_=a.F._writeLit(256,K,v,_)}return _},a.F._copyExact=function(s,l,c,f,m){var y=m>>>3;return f[y]=c,f[y+1]=c>>>8,f[y+2]=255-f[y],f[y+3]=255-f[y+1],y+=4,f.set(new Uint8Array(s.buffer,l,c),y),m+(c+4<<3)},a.F.getTrees=function(){for(var s=a.F.U,l=a.F._hufTree(s.lhst,s.ltree,15),c=a.F._hufTree(s.dhst,s.dtree,15),f=[],m=a.F._lenCodes(s.ltree,f),y=[],g=a.F._lenCodes(s.dtree,y),v=0;v<f.length;v+=2)s.ihst[f[v]]++;for(v=0;v<y.length;v+=2)s.ihst[y[v]]++;for(var _=a.F._hufTree(s.ihst,s.itree,7),A=19;A>4&&s.itree[1+(s.ordr[A-1]<<1)]==0;)A--;return[l,c,_,m,g,A,f,y]},a.F.getSecond=function(s){for(var l=[],c=0;c<s.length;c+=2)l.push(s[c+1]);return l},a.F.nonZero=function(s){for(var l="",c=0;c<s.length;c+=2)s[c+1]!=0&&(l+=(c>>1)+",");return l},a.F.contSize=function(s,l){for(var c=0,f=0;f<l.length;f++)c+=l[f]*s[1+(f<<1)];return c},a.F._codeTiny=function(s,l,c,f){for(var m=0;m<s.length;m+=2){var y=s[m],g=s[m+1];f=a.F._writeLit(y,l,c,f);var v=y==16?2:y==17?3:7;y>15&&(a.F._putsE(c,f,g,v),f+=v)}return f},a.F._lenCodes=function(s,l){for(var c=s.length;c!=2&&s[c-1]==0;)c-=2;for(var f=0;f<c;f+=2){var m=s[f+1],y=f+3<c?s[f+3]:-1,g=f+5<c?s[f+5]:-1,v=f==0?-1:s[f-1];if(m==0&&y==m&&g==m){for(var _=f+5;_+2<c&&s[_+2]==m;)_+=2;(A=Math.min(_+1-f>>>1,138))<11?l.push(17,A-3):l.push(18,A-11),f+=2*A-2}else if(m==v&&y==m&&g==m){for(_=f+5;_+2<c&&s[_+2]==m;)_+=2;var A=Math.min(_+1-f>>>1,6);l.push(16,A-3),f+=2*A-2}else l.push(m,0)}return c>>>1},a.F._hufTree=function(s,l,c){var f=[],m=s.length,y=l.length,g=0;for(g=0;g<y;g+=2)l[g]=0,l[g+1]=0;for(g=0;g<m;g++)s[g]!=0&&f.push({lit:g,f:s[g]});var v=f.length,_=f.slice(0);if(v==0)return 0;if(v==1){var A=f[0].lit;return _=A==0?1:0,l[1+(A<<1)]=1,l[1+(_<<1)]=1,1}f.sort((function(G,Z){return G.f-Z.f}));var I=f[0],q=f[1],V=0,k=1,B=2;for(f[0]={lit:-1,f:I.f+q.f,l:I,r:q,d:0};k!=v-1;)I=V!=k&&(B==v||f[V].f<f[B].f)?f[V++]:f[B++],q=V!=k&&(B==v||f[V].f<f[B].f)?f[V++]:f[B++],f[k++]={lit:-1,f:I.f+q.f,l:I,r:q};var H=a.F.setDepth(f[k-1],0);for(H>c&&(a.F.restrictDepth(_,c,H),H=c),g=0;g<v;g++)l[1+(_[g].lit<<1)]=_[g].d;return H},a.F.setDepth=function(s,l){return s.lit!=-1?(s.d=l,l):Math.max(a.F.setDepth(s.l,l+1),a.F.setDepth(s.r,l+1))},a.F.restrictDepth=function(s,l,c){var f=0,m=1<<c-l,y=0;for(s.sort((function(v,_){return _.d==v.d?v.f-_.f:_.d-v.d})),f=0;f<s.length&&s[f].d>l;f++){var g=s[f].d;s[f].d=l,y+=m-(1<<c-g)}for(y>>>=c-l;y>0;)(g=s[f].d)<l?(s[f].d++,y-=1<<l-g-1):f++;for(;f>=0;f--)s[f].d==l&&y<0&&(s[f].d--,y++);y!=0&&console.log("debt left")},a.F._goodIndex=function(s,l){var c=0;return l[16|c]<=s&&(c|=16),l[8|c]<=s&&(c|=8),l[4|c]<=s&&(c|=4),l[2|c]<=s&&(c|=2),l[1|c]<=s&&(c|=1),c},a.F._writeLit=function(s,l,c,f){return a.F._putsF(c,f,l[s<<1]),f+l[1+(s<<1)]},a.F.inflate=function(s,l){var c=Uint8Array;if(s[0]==3&&s[1]==0)return l||new c(0);var f=a.F,m=f._bitsF,y=f._bitsE,g=f._decodeTiny,v=f.makeCodes,_=f.codes2map,A=f._get17,I=f.U,q=l==null;q&&(l=new c(s.length>>>2<<3));for(var V,k,B=0,H=0,G=0,Z=0,j=0,U=0,T=0,b=0,x=0;B==0;)if(B=m(s,x,1),H=m(s,x+1,2),x+=3,H!=0){if(q&&(l=a.F._check(l,b+(1<<17))),H==1&&(V=I.flmap,k=I.fdmap,U=511,T=31),H==2){G=y(s,x,5)+257,Z=y(s,x+5,5)+1,j=y(s,x+10,4)+4,x+=14;for(var D=0;D<38;D+=2)I.itree[D]=0,I.itree[D+1]=0;var P=1;for(D=0;D<j;D++){var C=y(s,x+3*D,3);I.itree[1+(I.ordr[D]<<1)]=C,C>P&&(P=C)}x+=3*j,v(I.itree,P),_(I.itree,P,I.imap),V=I.lmap,k=I.dmap,x=g(I.imap,(1<<P)-1,G+Z,s,x,I.ttree);var K=f._copyOut(I.ttree,0,G,I.ltree);U=(1<<K)-1;var Y=f._copyOut(I.ttree,G,Z,I.dtree);T=(1<<Y)-1,v(I.ltree,K),_(I.ltree,K,V),v(I.dtree,Y),_(I.dtree,Y,k)}for(;;){var R=V[A(s,x)&U];x+=15&R;var N=R>>>4;if(!(N>>>8))l[b++]=N;else{if(N==256)break;var te=b+N-254;if(N>264){var X=I.ldef[N-257];te=b+(X>>>3)+y(s,x,7&X),x+=7&X}var M=k[A(s,x)&T];x+=15&M;var ee=M>>>4,re=I.ddef[ee],ie=(re>>>4)+m(s,x,15&re);for(x+=15&re,q&&(l=a.F._check(l,b+(1<<17)));b<te;)l[b]=l[b++-ie],l[b]=l[b++-ie],l[b]=l[b++-ie],l[b]=l[b++-ie];b=te}}}else{(7&x)!=0&&(x+=8-(7&x));var ue=4+(x>>>3),ae=s[ue-4]|s[ue-3]<<8;q&&(l=a.F._check(l,b+ae)),l.set(new c(s.buffer,s.byteOffset+ue,ae),b),x=ue+ae<<3,b+=ae}return l.length==b?l:l.slice(0,b)},a.F._check=function(s,l){var c=s.length;if(l<=c)return s;var f=new Uint8Array(Math.max(c<<1,l));return f.set(s,0),f},a.F._decodeTiny=function(s,l,c,f,m,y){for(var g=a.F._bitsE,v=a.F._get17,_=0;_<c;){var A=s[v(f,m)&l];m+=15&A;var I=A>>>4;if(I<=15)y[_]=I,_++;else{var q=0,V=0;I==16?(V=3+g(f,m,2),m+=2,q=y[_-1]):I==17?(V=3+g(f,m,3),m+=3):I==18&&(V=11+g(f,m,7),m+=7);for(var k=_+V;_<k;)y[_]=q,_++}}return m},a.F._copyOut=function(s,l,c,f){for(var m=0,y=0,g=f.length>>>1;y<c;){var v=s[y+l];f[y<<1]=0,f[1+(y<<1)]=v,v>m&&(m=v),y++}for(;y<g;)f[y<<1]=0,f[1+(y<<1)]=0,y++;return m},a.F.makeCodes=function(s,l){for(var c,f,m,y,g=a.F.U,v=s.length,_=g.bl_count,A=0;A<=l;A++)_[A]=0;for(A=1;A<v;A+=2)_[s[A]]++;var I=g.next_code;for(c=0,_[0]=0,f=1;f<=l;f++)c=c+_[f-1]<<1,I[f]=c;for(m=0;m<v;m+=2)(y=s[m+1])!=0&&(s[m]=I[y],I[y]++)},a.F.codes2map=function(s,l,c){for(var f=s.length,m=a.F.U.rev15,y=0;y<f;y+=2)if(s[y+1]!=0)for(var g=y>>1,v=s[y+1],_=g<<4|v,A=l-v,I=s[y]<<A,q=I+(1<<A);I!=q;)c[m[I]>>>15-l]=_,I++},a.F.revCodes=function(s,l){for(var c=a.F.U.rev15,f=15-l,m=0;m<s.length;m+=2){var y=s[m]<<l-s[m+1];s[m]=c[y]>>>f}},a.F._putsE=function(s,l,c){c<<=7&l;var f=l>>>3;s[f]|=c,s[f+1]|=c>>>8},a.F._putsF=function(s,l,c){c<<=7&l;var f=l>>>3;s[f]|=c,s[f+1]|=c>>>8,s[f+2]|=c>>>16},a.F._bitsE=function(s,l,c){return(s[l>>>3]|s[1+(l>>>3)]<<8)>>>(7&l)&(1<<c)-1},a.F._bitsF=function(s,l,c){return(s[l>>>3]|s[1+(l>>>3)]<<8|s[2+(l>>>3)]<<16)>>>(7&l)&(1<<c)-1},a.F._get17=function(s,l){return(s[l>>>3]|s[1+(l>>>3)]<<8|s[2+(l>>>3)]<<16)>>>(7&l)},a.F._get25=function(s,l){return(s[l>>>3]|s[1+(l>>>3)]<<8|s[2+(l>>>3)]<<16|s[3+(l>>>3)]<<24)>>>(7&l)},a.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),(function(){for(var s=a.F.U,l=0;l<32768;l++){var c=l;c=(4278255360&(c=(4042322160&(c=(3435973836&(c=(2863311530&c)>>>1|(1431655765&c)<<1))>>>2|(858993459&c)<<2))>>>4|(252645135&c)<<4))>>>8|(16711935&c)<<8,s.rev15[l]=(c>>>16|c<<16)>>>17}function f(m,y,g){for(;y--!=0;)m.push(0,g)}for(l=0;l<32;l++)s.ldef[l]=s.of0[l]<<3|s.exb[l],s.ddef[l]=s.df0[l]<<4|s.dxb[l];f(s.fltree,144,8),f(s.fltree,112,9),f(s.fltree,24,7),f(s.fltree,8,8),a.F.makeCodes(s.fltree,9),a.F.codes2map(s.fltree,9,s.flmap),a.F.revCodes(s.fltree,9),f(s.fdtree,32,5),a.F.makeCodes(s.fdtree,5),a.F.codes2map(s.fdtree,5,s.fdmap),a.F.revCodes(s.fdtree,5),f(s.itree,19,0),f(s.ltree,286,0),f(s.dtree,30,0),f(s.ttree,320,0)})()})();var L6=O6({__proto__:null,default:zh},[zh]);const Tr=(function(){var r={nextZero(g,v){for(;g[v]!=0;)v++;return v},readUshort:(g,v)=>g[v]<<8|g[v+1],writeUshort(g,v,_){g[v]=_>>8&255,g[v+1]=255&_},readUint:(g,v)=>16777216*g[v]+(g[v+1]<<16|g[v+2]<<8|g[v+3]),writeUint(g,v,_){g[v]=_>>24&255,g[v+1]=_>>16&255,g[v+2]=_>>8&255,g[v+3]=255&_},readASCII(g,v,_){let A="";for(let I=0;I<_;I++)A+=String.fromCharCode(g[v+I]);return A},writeASCII(g,v,_){for(let A=0;A<_.length;A++)g[v+A]=_.charCodeAt(A)},readBytes(g,v,_){const A=[];for(let I=0;I<_;I++)A.push(g[v+I]);return A},pad:g=>g.length<2?`0${g}`:g,readUTF8(g,v,_){let A,I="";for(let q=0;q<_;q++)I+=`%${r.pad(g[v+q].toString(16))}`;try{A=decodeURIComponent(I)}catch{return r.readASCII(g,v,_)}return A}};function e(g,v,_,A){const I=v*_,q=l(A),V=Math.ceil(v*q/8),k=new Uint8Array(4*I),B=new Uint32Array(k.buffer),{ctype:H}=A,{depth:G}=A,Z=r.readUshort;if(H==6){const X=I<<2;if(G==8)for(var j=0;j<X;j+=4)k[j]=g[j],k[j+1]=g[j+1],k[j+2]=g[j+2],k[j+3]=g[j+3];if(G==16)for(j=0;j<X;j++)k[j]=g[j<<1]}else if(H==2){const X=A.tabs.tRNS;if(X==null){if(G==8)for(j=0;j<I;j++){var U=3*j;B[j]=255<<24|g[U+2]<<16|g[U+1]<<8|g[U]}if(G==16)for(j=0;j<I;j++)U=6*j,B[j]=255<<24|g[U+4]<<16|g[U+2]<<8|g[U]}else{var T=X[0];const M=X[1],ee=X[2];if(G==8)for(j=0;j<I;j++){var b=j<<2;U=3*j,B[j]=255<<24|g[U+2]<<16|g[U+1]<<8|g[U],g[U]==T&&g[U+1]==M&&g[U+2]==ee&&(k[b+3]=0)}if(G==16)for(j=0;j<I;j++)b=j<<2,U=6*j,B[j]=255<<24|g[U+4]<<16|g[U+2]<<8|g[U],Z(g,U)==T&&Z(g,U+2)==M&&Z(g,U+4)==ee&&(k[b+3]=0)}}else if(H==3){const X=A.tabs.PLTE,M=A.tabs.tRNS,ee=M?M.length:0;if(G==1)for(var x=0;x<_;x++){var D=x*V,P=x*v;for(j=0;j<v;j++){b=P+j<<2;var C=3*(K=g[D+(j>>3)]>>7-((7&j)<<0)&1);k[b]=X[C],k[b+1]=X[C+1],k[b+2]=X[C+2],k[b+3]=K<ee?M[K]:255}}if(G==2)for(x=0;x<_;x++)for(D=x*V,P=x*v,j=0;j<v;j++)b=P+j<<2,C=3*(K=g[D+(j>>2)]>>6-((3&j)<<1)&3),k[b]=X[C],k[b+1]=X[C+1],k[b+2]=X[C+2],k[b+3]=K<ee?M[K]:255;if(G==4)for(x=0;x<_;x++)for(D=x*V,P=x*v,j=0;j<v;j++)b=P+j<<2,C=3*(K=g[D+(j>>1)]>>4-((1&j)<<2)&15),k[b]=X[C],k[b+1]=X[C+1],k[b+2]=X[C+2],k[b+3]=K<ee?M[K]:255;if(G==8)for(j=0;j<I;j++){var K;b=j<<2,C=3*(K=g[j]),k[b]=X[C],k[b+1]=X[C+1],k[b+2]=X[C+2],k[b+3]=K<ee?M[K]:255}}else if(H==4){if(G==8)for(j=0;j<I;j++){b=j<<2;var Y=g[R=j<<1];k[b]=Y,k[b+1]=Y,k[b+2]=Y,k[b+3]=g[R+1]}if(G==16)for(j=0;j<I;j++){var R;b=j<<2,Y=g[R=j<<2],k[b]=Y,k[b+1]=Y,k[b+2]=Y,k[b+3]=g[R+2]}}else if(H==0)for(T=A.tabs.tRNS?A.tabs.tRNS:-1,x=0;x<_;x++){const X=x*V,M=x*v;if(G==1)for(var N=0;N<v;N++){var te=(Y=255*(g[X+(N>>>3)]>>>7-(7&N)&1))==255*T?0:255;B[M+N]=te<<24|Y<<16|Y<<8|Y}else if(G==2)for(N=0;N<v;N++)te=(Y=85*(g[X+(N>>>2)]>>>6-((3&N)<<1)&3))==85*T?0:255,B[M+N]=te<<24|Y<<16|Y<<8|Y;else if(G==4)for(N=0;N<v;N++)te=(Y=17*(g[X+(N>>>1)]>>>4-((1&N)<<2)&15))==17*T?0:255,B[M+N]=te<<24|Y<<16|Y<<8|Y;else if(G==8)for(N=0;N<v;N++)te=(Y=g[X+N])==T?0:255,B[M+N]=te<<24|Y<<16|Y<<8|Y;else if(G==16)for(N=0;N<v;N++)Y=g[X+(N<<1)],te=Z(g,X+(N<<1))==T?0:255,B[M+N]=te<<24|Y<<16|Y<<8|Y}return k}function n(g,v,_,A){const I=l(g),q=Math.ceil(_*I/8),V=new Uint8Array((q+1+g.interlace)*A);return v=g.tabs.CgBI?s(v,V):a(v,V),g.interlace==0?v=c(v,g,0,_,A):g.interlace==1&&(v=(function(B,H){const G=H.width,Z=H.height,j=l(H),U=j>>3,T=Math.ceil(G*j/8),b=new Uint8Array(Z*T);let x=0;const D=[0,0,4,0,2,0,1],P=[0,4,0,2,0,1,0],C=[8,8,8,4,4,2,2],K=[8,8,4,4,2,2,1];let Y=0;for(;Y<7;){const N=C[Y],te=K[Y];let X=0,M=0,ee=D[Y];for(;ee<Z;)ee+=N,M++;let re=P[Y];for(;re<G;)re+=te,X++;const ie=Math.ceil(X*j/8);c(B,H,x,X,M);let ue=0,ae=D[Y];for(;ae<Z;){let ge=P[Y],De=x+ue*ie<<3;for(;ge<G;){var R;if(j==1&&(R=(R=B[De>>3])>>7-(7&De)&1,b[ae*T+(ge>>3)]|=R<<7-((7&ge)<<0)),j==2&&(R=(R=B[De>>3])>>6-(7&De)&3,b[ae*T+(ge>>2)]|=R<<6-((3&ge)<<1)),j==4&&(R=(R=B[De>>3])>>4-(7&De)&15,b[ae*T+(ge>>1)]|=R<<4-((1&ge)<<2)),j>=8){const Ae=ae*T+ge*U;for(let Oe=0;Oe<U;Oe++)b[Ae+Oe]=B[(De>>3)+Oe]}De+=j,ge+=te}ue++,ae+=N}X*M!=0&&(x+=M*(1+ie)),Y+=1}return b})(v,g)),v}function a(g,v){return s(new Uint8Array(g.buffer,2,g.length-6),v)}var s=(function(){const g={H:{}};return g.H.N=function(v,_){const A=Uint8Array;let I,q,V=0,k=0,B=0,H=0,G=0,Z=0,j=0,U=0,T=0;if(v[0]==3&&v[1]==0)return _||new A(0);const b=g.H,x=b.b,D=b.e,P=b.R,C=b.n,K=b.A,Y=b.Z,R=b.m,N=_==null;for(N&&(_=new A(v.length>>>2<<5));V==0;)if(V=x(v,T,1),k=x(v,T+1,2),T+=3,k!=0){if(N&&(_=g.H.W(_,U+(1<<17))),k==1&&(I=R.J,q=R.h,Z=511,j=31),k==2){B=D(v,T,5)+257,H=D(v,T+5,5)+1,G=D(v,T+10,4)+4,T+=14;let X=1;for(var te=0;te<38;te+=2)R.Q[te]=0,R.Q[te+1]=0;for(te=0;te<G;te++){const re=D(v,T+3*te,3);R.Q[1+(R.X[te]<<1)]=re,re>X&&(X=re)}T+=3*G,C(R.Q,X),K(R.Q,X,R.u),I=R.w,q=R.d,T=P(R.u,(1<<X)-1,B+H,v,T,R.v);const M=b.V(R.v,0,B,R.C);Z=(1<<M)-1;const ee=b.V(R.v,B,H,R.D);j=(1<<ee)-1,C(R.C,M),K(R.C,M,I),C(R.D,ee),K(R.D,ee,q)}for(;;){const X=I[Y(v,T)&Z];T+=15&X;const M=X>>>4;if(!(M>>>8))_[U++]=M;else{if(M==256)break;{let ee=U+M-254;if(M>264){const ge=R.q[M-257];ee=U+(ge>>>3)+D(v,T,7&ge),T+=7&ge}const re=q[Y(v,T)&j];T+=15&re;const ie=re>>>4,ue=R.c[ie],ae=(ue>>>4)+x(v,T,15&ue);for(T+=15&ue;U<ee;)_[U]=_[U++-ae],_[U]=_[U++-ae],_[U]=_[U++-ae],_[U]=_[U++-ae];U=ee}}}}else{(7&T)!=0&&(T+=8-(7&T));const X=4+(T>>>3),M=v[X-4]|v[X-3]<<8;N&&(_=g.H.W(_,U+M)),_.set(new A(v.buffer,v.byteOffset+X,M),U),T=X+M<<3,U+=M}return _.length==U?_:_.slice(0,U)},g.H.W=function(v,_){const A=v.length;if(_<=A)return v;const I=new Uint8Array(A<<1);return I.set(v,0),I},g.H.R=function(v,_,A,I,q,V){const k=g.H.e,B=g.H.Z;let H=0;for(;H<A;){const G=v[B(I,q)&_];q+=15&G;const Z=G>>>4;if(Z<=15)V[H]=Z,H++;else{let j=0,U=0;Z==16?(U=3+k(I,q,2),q+=2,j=V[H-1]):Z==17?(U=3+k(I,q,3),q+=3):Z==18&&(U=11+k(I,q,7),q+=7);const T=H+U;for(;H<T;)V[H]=j,H++}}return q},g.H.V=function(v,_,A,I){let q=0,V=0;const k=I.length>>>1;for(;V<A;){const B=v[V+_];I[V<<1]=0,I[1+(V<<1)]=B,B>q&&(q=B),V++}for(;V<k;)I[V<<1]=0,I[1+(V<<1)]=0,V++;return q},g.H.n=function(v,_){const A=g.H.m,I=v.length;let q,V,k,B;const H=A.j;for(var G=0;G<=_;G++)H[G]=0;for(G=1;G<I;G+=2)H[v[G]]++;const Z=A.K;for(q=0,H[0]=0,V=1;V<=_;V++)q=q+H[V-1]<<1,Z[V]=q;for(k=0;k<I;k+=2)B=v[k+1],B!=0&&(v[k]=Z[B],Z[B]++)},g.H.A=function(v,_,A){const I=v.length,q=g.H.m.r;for(let V=0;V<I;V+=2)if(v[V+1]!=0){const k=V>>1,B=v[V+1],H=k<<4|B,G=_-B;let Z=v[V]<<G;const j=Z+(1<<G);for(;Z!=j;)A[q[Z]>>>15-_]=H,Z++}},g.H.l=function(v,_){const A=g.H.m.r,I=15-_;for(let q=0;q<v.length;q+=2){const V=v[q]<<_-v[q+1];v[q]=A[V]>>>I}},g.H.M=function(v,_,A){A<<=7&_;const I=_>>>3;v[I]|=A,v[I+1]|=A>>>8},g.H.I=function(v,_,A){A<<=7&_;const I=_>>>3;v[I]|=A,v[I+1]|=A>>>8,v[I+2]|=A>>>16},g.H.e=function(v,_,A){return(v[_>>>3]|v[1+(_>>>3)]<<8)>>>(7&_)&(1<<A)-1},g.H.b=function(v,_,A){return(v[_>>>3]|v[1+(_>>>3)]<<8|v[2+(_>>>3)]<<16)>>>(7&_)&(1<<A)-1},g.H.Z=function(v,_){return(v[_>>>3]|v[1+(_>>>3)]<<8|v[2+(_>>>3)]<<16)>>>(7&_)},g.H.i=function(v,_){return(v[_>>>3]|v[1+(_>>>3)]<<8|v[2+(_>>>3)]<<16|v[3+(_>>>3)]<<24)>>>(7&_)},g.H.m=(function(){const v=Uint16Array,_=Uint32Array;return{K:new v(16),j:new v(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new v(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new _(32),J:new v(512),_:[],h:new v(32),$:[],w:new v(32768),C:[],v:[],d:new v(32768),D:[],u:new v(512),Q:[],r:new v(32768),s:new _(286),Y:new _(30),a:new _(19),t:new _(15e3),k:new v(65536),g:new v(32768)}})(),(function(){const v=g.H.m;for(var _=0;_<32768;_++){let I=_;I=(2863311530&I)>>>1|(1431655765&I)<<1,I=(3435973836&I)>>>2|(858993459&I)<<2,I=(4042322160&I)>>>4|(252645135&I)<<4,I=(4278255360&I)>>>8|(16711935&I)<<8,v.r[_]=(I>>>16|I<<16)>>>17}function A(I,q,V){for(;q--!=0;)I.push(0,V)}for(_=0;_<32;_++)v.q[_]=v.S[_]<<3|v.T[_],v.c[_]=v.p[_]<<4|v.z[_];A(v._,144,8),A(v._,112,9),A(v._,24,7),A(v._,8,8),g.H.n(v._,9),g.H.A(v._,9,v.J),g.H.l(v._,9),A(v.$,32,5),g.H.n(v.$,5),g.H.A(v.$,5,v.h),g.H.l(v.$,5),A(v.Q,19,0),A(v.C,286,0),A(v.D,30,0),A(v.v,320,0)})(),g.H.N})();function l(g){return[1,null,3,1,2,null,4][g.ctype]*g.depth}function c(g,v,_,A,I){let q=l(v);const V=Math.ceil(A*q/8);let k,B;q=Math.ceil(q/8);let H=g[_],G=0;if(H>1&&(g[_]=[0,0,1][H-2]),H==3)for(G=q;G<V;G++)g[G+1]=g[G+1]+(g[G+1-q]>>>1)&255;for(let Z=0;Z<I;Z++)if(k=_+Z*V,B=k+Z+1,H=g[B-1],G=0,H==0)for(;G<V;G++)g[k+G]=g[B+G];else if(H==1){for(;G<q;G++)g[k+G]=g[B+G];for(;G<V;G++)g[k+G]=g[B+G]+g[k+G-q]}else if(H==2)for(;G<V;G++)g[k+G]=g[B+G]+g[k+G-V];else if(H==3){for(;G<q;G++)g[k+G]=g[B+G]+(g[k+G-V]>>>1);for(;G<V;G++)g[k+G]=g[B+G]+(g[k+G-V]+g[k+G-q]>>>1)}else{for(;G<q;G++)g[k+G]=g[B+G]+f(0,g[k+G-V],0);for(;G<V;G++)g[k+G]=g[B+G]+f(g[k+G-q],g[k+G-V],g[k+G-q-V])}return g}function f(g,v,_){const A=g+v-_,I=A-g,q=A-v,V=A-_;return I*I<=q*q&&I*I<=V*V?g:q*q<=V*V?v:_}function m(g,v,_){_.width=r.readUint(g,v),v+=4,_.height=r.readUint(g,v),v+=4,_.depth=g[v],v++,_.ctype=g[v],v++,_.compress=g[v],v++,_.filter=g[v],v++,_.interlace=g[v],v++}function y(g,v,_,A,I,q,V,k,B){const H=Math.min(v,I),G=Math.min(_,q);let Z=0,j=0;for(let Y=0;Y<G;Y++)for(let R=0;R<H;R++)if(V>=0&&k>=0?(Z=Y*v+R<<2,j=(k+Y)*I+V+R<<2):(Z=(-k+Y)*v-V+R<<2,j=Y*I+R<<2),B==0)A[j]=g[Z],A[j+1]=g[Z+1],A[j+2]=g[Z+2],A[j+3]=g[Z+3];else if(B==1){var U=g[Z+3]*.00392156862745098,T=g[Z]*U,b=g[Z+1]*U,x=g[Z+2]*U,D=A[j+3]*(1/255),P=A[j]*D,C=A[j+1]*D,K=A[j+2]*D;const N=1-U,te=U+D*N,X=te==0?0:1/te;A[j+3]=255*te,A[j+0]=(T+P*N)*X,A[j+1]=(b+C*N)*X,A[j+2]=(x+K*N)*X}else if(B==2)U=g[Z+3],T=g[Z],b=g[Z+1],x=g[Z+2],D=A[j+3],P=A[j],C=A[j+1],K=A[j+2],U==D&&T==P&&b==C&&x==K?(A[j]=0,A[j+1]=0,A[j+2]=0,A[j+3]=0):(A[j]=T,A[j+1]=b,A[j+2]=x,A[j+3]=U);else if(B==3){if(U=g[Z+3],T=g[Z],b=g[Z+1],x=g[Z+2],D=A[j+3],P=A[j],C=A[j+1],K=A[j+2],U==D&&T==P&&b==C&&x==K)continue;if(U<220&&D>20)return!1}return!0}return{decode:function(v){const _=new Uint8Array(v);let A=8;const I=r,q=I.readUshort,V=I.readUint,k={tabs:{},frames:[]},B=new Uint8Array(_.length);let H,G=0,Z=0;const j=[137,80,78,71,13,10,26,10];for(var U=0;U<8;U++)if(_[U]!=j[U])throw"The input is not a PNG file!";for(;A<_.length;){const Y=I.readUint(_,A);A+=4;const R=I.readASCII(_,A,4);if(A+=4,R=="IHDR")m(_,A,k);else if(R=="iCCP"){for(var T=A;_[T]!=0;)T++;I.readASCII(_,A,T-A),_[T+1];const N=_.slice(T+2,A+Y);let te=null;try{te=a(N)}catch{te=s(N)}k.tabs[R]=te}else if(R=="CgBI")k.tabs[R]=_.slice(A,A+4);else if(R=="IDAT"){for(U=0;U<Y;U++)B[G+U]=_[A+U];G+=Y}else if(R=="acTL")k.tabs[R]={num_frames:V(_,A),num_plays:V(_,A+4)},H=new Uint8Array(_.length);else if(R=="fcTL"){Z!=0&&((K=k.frames[k.frames.length-1]).data=n(k,H.slice(0,Z),K.rect.width,K.rect.height),Z=0);const N={x:V(_,A+12),y:V(_,A+16),width:V(_,A+4),height:V(_,A+8)};let te=q(_,A+22);te=q(_,A+20)/(te==0?100:te);const X={rect:N,delay:Math.round(1e3*te),dispose:_[A+24],blend:_[A+25]};k.frames.push(X)}else if(R=="fdAT"){for(U=0;U<Y-4;U++)H[Z+U]=_[A+U+4];Z+=Y-4}else if(R=="pHYs")k.tabs[R]=[I.readUint(_,A),I.readUint(_,A+4),_[A+8]];else if(R=="cHRM")for(k.tabs[R]=[],U=0;U<8;U++)k.tabs[R].push(I.readUint(_,A+4*U));else if(R=="tEXt"||R=="zTXt"){k.tabs[R]==null&&(k.tabs[R]={});var b=I.nextZero(_,A),x=I.readASCII(_,A,b-A),D=A+Y-b-1;if(R=="tEXt")C=I.readASCII(_,b+1,D);else{var P=a(_.slice(b+2,b+2+D));C=I.readUTF8(P,0,P.length)}k.tabs[R][x]=C}else if(R=="iTXt"){k.tabs[R]==null&&(k.tabs[R]={}),b=0,T=A,b=I.nextZero(_,T),x=I.readASCII(_,T,b-T);const N=_[T=b+1];var C;_[T+1],T+=2,b=I.nextZero(_,T),I.readASCII(_,T,b-T),T=b+1,b=I.nextZero(_,T),I.readUTF8(_,T,b-T),D=Y-((T=b+1)-A),N==0?C=I.readUTF8(_,T,D):(P=a(_.slice(T,T+D)),C=I.readUTF8(P,0,P.length)),k.tabs[R][x]=C}else if(R=="PLTE")k.tabs[R]=I.readBytes(_,A,Y);else if(R=="hIST"){const N=k.tabs.PLTE.length/3;for(k.tabs[R]=[],U=0;U<N;U++)k.tabs[R].push(q(_,A+2*U))}else if(R=="tRNS")k.ctype==3?k.tabs[R]=I.readBytes(_,A,Y):k.ctype==0?k.tabs[R]=q(_,A):k.ctype==2&&(k.tabs[R]=[q(_,A),q(_,A+2),q(_,A+4)]);else if(R=="gAMA")k.tabs[R]=I.readUint(_,A)/1e5;else if(R=="sRGB")k.tabs[R]=_[A];else if(R=="bKGD")k.ctype==0||k.ctype==4?k.tabs[R]=[q(_,A)]:k.ctype==2||k.ctype==6?k.tabs[R]=[q(_,A),q(_,A+2),q(_,A+4)]:k.ctype==3&&(k.tabs[R]=_[A]);else if(R=="IEND")break;A+=Y,I.readUint(_,A),A+=4}var K;return Z!=0&&((K=k.frames[k.frames.length-1]).data=n(k,H.slice(0,Z),K.rect.width,K.rect.height)),k.data=n(k,B,k.width,k.height),delete k.compress,delete k.interlace,delete k.filter,k},toRGBA8:function(v){const _=v.width,A=v.height;if(v.tabs.acTL==null)return[e(v.data,_,A,v).buffer];const I=[];v.frames[0].data==null&&(v.frames[0].data=v.data);const q=_*A*4,V=new Uint8Array(q),k=new Uint8Array(q),B=new Uint8Array(q);for(let G=0;G<v.frames.length;G++){const Z=v.frames[G],j=Z.rect.x,U=Z.rect.y,T=Z.rect.width,b=Z.rect.height,x=e(Z.data,T,b,v);if(G!=0)for(var H=0;H<q;H++)B[H]=V[H];if(Z.blend==0?y(x,T,b,V,_,A,j,U,0):Z.blend==1&&y(x,T,b,V,_,A,j,U,1),I.push(V.buffer.slice(0)),Z.dispose!=0){if(Z.dispose==1)y(k,T,b,V,_,A,j,U,0);else if(Z.dispose==2)for(H=0;H<q;H++)V[H]=B[H]}}return I},_paeth:f,_copyTile:y,_bin:r}})();(function(){const{_copyTile:r}=Tr,{_bin:e}=Tr,n=Tr._paeth;var a={table:(function(){const T=new Uint32Array(256);for(let b=0;b<256;b++){let x=b;for(let D=0;D<8;D++)1&x?x=3988292384^x>>>1:x>>>=1;T[b]=x}return T})(),update(T,b,x,D){for(let P=0;P<D;P++)T=a.table[255&(T^b[x+P])]^T>>>8;return T},crc:(T,b,x)=>4294967295^a.update(4294967295,T,b,x)};function s(T,b,x,D){b[x]+=T[0]*D>>4,b[x+1]+=T[1]*D>>4,b[x+2]+=T[2]*D>>4,b[x+3]+=T[3]*D>>4}function l(T){return Math.max(0,Math.min(255,T))}function c(T,b){const x=T[0]-b[0],D=T[1]-b[1],P=T[2]-b[2],C=T[3]-b[3];return x*x+D*D+P*P+C*C}function f(T,b,x,D,P,C,K){K==null&&(K=1);const Y=D.length,R=[];for(var N=0;N<Y;N++){const ae=D[N];R.push([ae>>>0&255,ae>>>8&255,ae>>>16&255,ae>>>24&255])}for(N=0;N<Y;N++){let ae=4294967295;for(var te=0,X=0;X<Y;X++){var M=c(R[N],R[X]);X!=N&&M<ae&&(ae=M,te=X)}}const ee=new Uint32Array(P.buffer),re=new Int16Array(b*x*4),ie=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(N=0;N<ie.length;N++)ie[N]=255*((ie[N]+.5)/16-.5);for(let ae=0;ae<x;ae++)for(let ge=0;ge<b;ge++){var ue;N=4*(ae*b+ge),K!=2?ue=[l(T[N]+re[N]),l(T[N+1]+re[N+1]),l(T[N+2]+re[N+2]),l(T[N+3]+re[N+3])]:(M=ie[4*(3&ae)+(3&ge)],ue=[l(T[N]+M),l(T[N+1]+M),l(T[N+2]+M),l(T[N+3]+M)]),te=0;let De=16777215;for(X=0;X<Y;X++){const Be=c(ue,R[X]);Be<De&&(De=Be,te=X)}const Ae=R[te],Oe=[ue[0]-Ae[0],ue[1]-Ae[1],ue[2]-Ae[2],ue[3]-Ae[3]];K==1&&(ge!=b-1&&s(Oe,re,N+4,7),ae!=x-1&&(ge!=0&&s(Oe,re,N+4*b-4,3),s(Oe,re,N+4*b,5),ge!=b-1&&s(Oe,re,N+4*b+4,1))),C[N>>2]=te,ee[N>>2]=D[te]}}function m(T,b,x,D,P){P==null&&(P={});const{crc:C}=a,K=e.writeUint,Y=e.writeUshort,R=e.writeASCII;let N=8;const te=T.frames.length>1;let X,M=!1,ee=33+(te?20:0);if(P.sRGB!=null&&(ee+=13),P.pHYs!=null&&(ee+=21),P.iCCP!=null&&(X=pako.deflate(P.iCCP),ee+=21+X.length+4),T.ctype==3){for(var re=T.plte.length,ie=0;ie<re;ie++)T.plte[ie]>>>24!=255&&(M=!0);ee+=8+3*re+4+(M?8+1*re+4:0)}for(var ue=0;ue<T.frames.length;ue++)te&&(ee+=38),ee+=(Ae=T.frames[ue]).cimg.length+12,ue!=0&&(ee+=4);ee+=12;const ae=new Uint8Array(ee),ge=[137,80,78,71,13,10,26,10];for(ie=0;ie<8;ie++)ae[ie]=ge[ie];if(K(ae,N,13),N+=4,R(ae,N,"IHDR"),N+=4,K(ae,N,b),N+=4,K(ae,N,x),N+=4,ae[N]=T.depth,N++,ae[N]=T.ctype,N++,ae[N]=0,N++,ae[N]=0,N++,ae[N]=0,N++,K(ae,N,C(ae,N-17,17)),N+=4,P.sRGB!=null&&(K(ae,N,1),N+=4,R(ae,N,"sRGB"),N+=4,ae[N]=P.sRGB,N++,K(ae,N,C(ae,N-5,5)),N+=4),P.iCCP!=null){const Oe=13+X.length;K(ae,N,Oe),N+=4,R(ae,N,"iCCP"),N+=4,R(ae,N,"ICC profile"),N+=11,N+=2,ae.set(X,N),N+=X.length,K(ae,N,C(ae,N-(Oe+4),Oe+4)),N+=4}if(P.pHYs!=null&&(K(ae,N,9),N+=4,R(ae,N,"pHYs"),N+=4,K(ae,N,P.pHYs[0]),N+=4,K(ae,N,P.pHYs[1]),N+=4,ae[N]=P.pHYs[2],N++,K(ae,N,C(ae,N-13,13)),N+=4),te&&(K(ae,N,8),N+=4,R(ae,N,"acTL"),N+=4,K(ae,N,T.frames.length),N+=4,K(ae,N,P.loop!=null?P.loop:0),N+=4,K(ae,N,C(ae,N-12,12)),N+=4),T.ctype==3){for(K(ae,N,3*(re=T.plte.length)),N+=4,R(ae,N,"PLTE"),N+=4,ie=0;ie<re;ie++){const Oe=3*ie,Be=T.plte[ie],$e=255&Be,ht=Be>>>8&255,In=Be>>>16&255;ae[N+Oe+0]=$e,ae[N+Oe+1]=ht,ae[N+Oe+2]=In}if(N+=3*re,K(ae,N,C(ae,N-3*re-4,3*re+4)),N+=4,M){for(K(ae,N,re),N+=4,R(ae,N,"tRNS"),N+=4,ie=0;ie<re;ie++)ae[N+ie]=T.plte[ie]>>>24&255;N+=re,K(ae,N,C(ae,N-re-4,re+4)),N+=4}}let De=0;for(ue=0;ue<T.frames.length;ue++){var Ae=T.frames[ue];te&&(K(ae,N,26),N+=4,R(ae,N,"fcTL"),N+=4,K(ae,N,De++),N+=4,K(ae,N,Ae.rect.width),N+=4,K(ae,N,Ae.rect.height),N+=4,K(ae,N,Ae.rect.x),N+=4,K(ae,N,Ae.rect.y),N+=4,Y(ae,N,D[ue]),N+=2,Y(ae,N,1e3),N+=2,ae[N]=Ae.dispose,N++,ae[N]=Ae.blend,N++,K(ae,N,C(ae,N-30,30)),N+=4);const Oe=Ae.cimg;K(ae,N,(re=Oe.length)+(ue==0?0:4)),N+=4;const Be=N;R(ae,N,ue==0?"IDAT":"fdAT"),N+=4,ue!=0&&(K(ae,N,De++),N+=4),ae.set(Oe,N),N+=re,K(ae,N,C(ae,Be,N-Be)),N+=4}return K(ae,N,0),N+=4,R(ae,N,"IEND"),N+=4,K(ae,N,C(ae,N-4,4)),N+=4,ae.buffer}function y(T,b,x){for(let D=0;D<T.frames.length;D++){const P=T.frames[D];P.rect.width;const C=P.rect.height,K=new Uint8Array(C*P.bpl+C);P.cimg=A(P.img,C,P.bpp,P.bpl,K,b,x)}}function g(T,b,x,D,P){const C=P[0],K=P[1],Y=P[2],R=P[3],N=P[4],te=P[5];let X=6,M=8,ee=255;for(var re=0;re<T.length;re++){const It=new Uint8Array(T[re]);for(var ie=It.length,ue=0;ue<ie;ue+=4)ee&=It[ue+3]}const ae=ee!=255,ge=(function(Ve,nt,Et,At,st,un){const dt=[];for(var Xe=0;Xe<Ve.length;Xe++){const Pt=new Uint8Array(Ve[Xe]),xn=new Uint32Array(Pt.buffer);var Jt;let Mt=0,cn=0,Zt=nt,Bt=Et,Rr=At?1:0;if(Xe!=0){const ni=un||At||Xe==1||dt[Xe-2].dispose!=0?1:2;let ri=0,Ui=1e9;for(let dr=0;dr<ni;dr++){var We=new Uint8Array(Ve[Xe-1-dr]);const fr=new Uint32Array(Ve[Xe-1-dr]);let en=nt,Ln=Et,hn=-1,mr=-1;for(let Vn=0;Vn<Et;Vn++)for(let Tn=0;Tn<nt;Tn++)xn[Ze=Vn*nt+Tn]!=fr[Ze]&&(Tn<en&&(en=Tn),Tn>hn&&(hn=Tn),Vn<Ln&&(Ln=Vn),Vn>mr&&(mr=Vn));hn==-1&&(en=Ln=hn=mr=0),st&&((1&en)==1&&en--,(1&Ln)==1&&Ln--);const pr=(hn-en+1)*(mr-Ln+1);pr<Ui&&(Ui=pr,ri=dr,Mt=en,cn=Ln,Zt=hn-en+1,Bt=mr-Ln+1)}We=new Uint8Array(Ve[Xe-1-ri]),ri==1&&(dt[Xe-1].dispose=2),Jt=new Uint8Array(Zt*Bt*4),r(We,nt,Et,Jt,Zt,Bt,-Mt,-cn,0),Rr=r(Pt,nt,Et,Jt,Zt,Bt,-Mt,-cn,3)?1:0,Rr==1?_(Pt,nt,Et,Jt,{x:Mt,y:cn,width:Zt,height:Bt}):r(Pt,nt,Et,Jt,Zt,Bt,-Mt,-cn,0)}else Jt=Pt.slice(0);dt.push({rect:{x:Mt,y:cn,width:Zt,height:Bt},img:Jt,blend:Rr,dispose:0})}if(At)for(Xe=0;Xe<dt.length;Xe++){if((yt=dt[Xe]).blend==1)continue;const Pt=yt.rect,xn=dt[Xe-1].rect,Mt=Math.min(Pt.x,xn.x),cn=Math.min(Pt.y,xn.y),Zt={x:Mt,y:cn,width:Math.max(Pt.x+Pt.width,xn.x+xn.width)-Mt,height:Math.max(Pt.y+Pt.height,xn.y+xn.height)-cn};dt[Xe-1].dispose=1,Xe-1!=0&&v(Ve,nt,Et,dt,Xe-1,Zt,st),v(Ve,nt,Et,dt,Xe,Zt,st)}let Fe=0;if(Ve.length!=1)for(var Ze=0;Ze<dt.length;Ze++){var yt;Fe+=(yt=dt[Ze]).rect.width*yt.rect.height}return dt})(T,b,x,C,K,Y),De={},Ae=[],Oe=[];if(D!=0){const It=[];for(ue=0;ue<ge.length;ue++)It.push(ge[ue].img.buffer);const Ve=(function(st){let un=0;for(var dt=0;dt<st.length;dt++)un+=st[dt].byteLength;const Xe=new Uint8Array(un);let Jt=0;for(dt=0;dt<st.length;dt++){const We=new Uint8Array(st[dt]),Fe=We.length;for(let Ze=0;Ze<Fe;Ze+=4){let yt=We[Ze],Pt=We[Ze+1],xn=We[Ze+2];const Mt=We[Ze+3];Mt==0&&(yt=Pt=xn=0),Xe[Jt+Ze]=yt,Xe[Jt+Ze+1]=Pt,Xe[Jt+Ze+2]=xn,Xe[Jt+Ze+3]=Mt}Jt+=Fe}return Xe.buffer})(It),nt=q(Ve,D);for(ue=0;ue<nt.plte.length;ue++)Ae.push(nt.plte[ue].est.rgba);let Et=0;for(ue=0;ue<ge.length;ue++){const At=($e=ge[ue]).img.length;var Be=new Uint8Array(nt.inds.buffer,Et>>2,At>>2);Oe.push(Be);const st=new Uint8Array(nt.abuf,Et,At);te&&f($e.img,$e.rect.width,$e.rect.height,Ae,st,Be),$e.img.set(st),Et+=At}}else for(re=0;re<ge.length;re++){var $e=ge[re];const It=new Uint32Array($e.img.buffer);var ht=$e.rect.width;for(ie=It.length,Be=new Uint8Array(ie),Oe.push(Be),ue=0;ue<ie;ue++){const Ve=It[ue];if(ue!=0&&Ve==It[ue-1])Be[ue]=Be[ue-1];else if(ue>ht&&Ve==It[ue-ht])Be[ue]=Be[ue-ht];else{let nt=De[Ve];if(nt==null&&(De[Ve]=nt=Ae.length,Ae.push(Ve),Ae.length>=300))break;Be[ue]=nt}}}const In=Ae.length;for(In<=256&&N==0&&(M=In<=2?1:In<=4?2:In<=16?4:8,M=Math.max(M,R)),re=0;re<ge.length;re++){($e=ge[re]).rect.x,$e.rect.y,ht=$e.rect.width;const It=$e.rect.height;let Ve=$e.img;new Uint32Array(Ve.buffer);let nt=4*ht,Et=4;if(In<=256&&N==0){nt=Math.ceil(M*ht/8);var Wt=new Uint8Array(nt*It);const At=Oe[re];for(let st=0;st<It;st++){ue=st*nt;const un=st*ht;if(M==8)for(var at=0;at<ht;at++)Wt[ue+at]=At[un+at];else if(M==4)for(at=0;at<ht;at++)Wt[ue+(at>>1)]|=At[un+at]<<4-4*(1&at);else if(M==2)for(at=0;at<ht;at++)Wt[ue+(at>>2)]|=At[un+at]<<6-2*(3&at);else if(M==1)for(at=0;at<ht;at++)Wt[ue+(at>>3)]|=At[un+at]<<7-1*(7&at)}Ve=Wt,X=3,Et=1}else if(ae==0&&ge.length==1){Wt=new Uint8Array(ht*It*3);const At=ht*It;for(ue=0;ue<At;ue++){const st=3*ue,un=4*ue;Wt[st]=Ve[un],Wt[st+1]=Ve[un+1],Wt[st+2]=Ve[un+2]}Ve=Wt,X=2,Et=3,nt=3*ht}$e.img=Ve,$e.bpl=nt,$e.bpp=Et}return{ctype:X,depth:M,plte:Ae,frames:ge}}function v(T,b,x,D,P,C,K){const Y=Uint8Array,R=Uint32Array,N=new Y(T[P-1]),te=new R(T[P-1]),X=P+1<T.length?new Y(T[P+1]):null,M=new Y(T[P]),ee=new R(M.buffer);let re=b,ie=x,ue=-1,ae=-1;for(let De=0;De<C.height;De++)for(let Ae=0;Ae<C.width;Ae++){const Oe=C.x+Ae,Be=C.y+De,$e=Be*b+Oe,ht=ee[$e];ht==0||D[P-1].dispose==0&&te[$e]==ht&&(X==null||X[4*$e+3]!=0)||(Oe<re&&(re=Oe),Oe>ue&&(ue=Oe),Be<ie&&(ie=Be),Be>ae&&(ae=Be))}ue==-1&&(re=ie=ue=ae=0),K&&((1&re)==1&&re--,(1&ie)==1&&ie--),C={x:re,y:ie,width:ue-re+1,height:ae-ie+1};const ge=D[P];ge.rect=C,ge.blend=1,ge.img=new Uint8Array(C.width*C.height*4),D[P-1].dispose==0?(r(N,b,x,ge.img,C.width,C.height,-C.x,-C.y,0),_(M,b,x,ge.img,C)):r(M,b,x,ge.img,C.width,C.height,-C.x,-C.y,0)}function _(T,b,x,D,P){r(T,b,x,D,P.width,P.height,-P.x,-P.y,2)}function A(T,b,x,D,P,C,K){const Y=[];let R,N=[0,1,2,3,4];C!=-1?N=[C]:(b*D>5e5||x==1)&&(N=[0]),K&&(R={level:0});const te=L6;for(var X=0;X<N.length;X++){for(let re=0;re<b;re++)I(P,T,re,D,x,N[X]);Y.push(te.deflate(P,R))}let M,ee=1e9;for(X=0;X<Y.length;X++)Y[X].length<ee&&(M=X,ee=Y[X].length);return Y[M]}function I(T,b,x,D,P,C){const K=x*D;let Y=K+x;if(T[Y]=C,Y++,C==0)if(D<500)for(var R=0;R<D;R++)T[Y+R]=b[K+R];else T.set(new Uint8Array(b.buffer,K,D),Y);else if(C==1){for(R=0;R<P;R++)T[Y+R]=b[K+R];for(R=P;R<D;R++)T[Y+R]=b[K+R]-b[K+R-P]+256&255}else if(x==0){for(R=0;R<P;R++)T[Y+R]=b[K+R];if(C==2)for(R=P;R<D;R++)T[Y+R]=b[K+R];if(C==3)for(R=P;R<D;R++)T[Y+R]=b[K+R]-(b[K+R-P]>>1)+256&255;if(C==4)for(R=P;R<D;R++)T[Y+R]=b[K+R]-n(b[K+R-P],0,0)+256&255}else{if(C==2)for(R=0;R<D;R++)T[Y+R]=b[K+R]+256-b[K+R-D]&255;if(C==3){for(R=0;R<P;R++)T[Y+R]=b[K+R]+256-(b[K+R-D]>>1)&255;for(R=P;R<D;R++)T[Y+R]=b[K+R]+256-(b[K+R-D]+b[K+R-P]>>1)&255}if(C==4){for(R=0;R<P;R++)T[Y+R]=b[K+R]+256-n(0,b[K+R-D],0)&255;for(R=P;R<D;R++)T[Y+R]=b[K+R]+256-n(b[K+R-P],b[K+R-D],b[K+R-P-D])&255}}}function q(T,b){const x=new Uint8Array(T),D=x.slice(0),P=new Uint32Array(D.buffer),C=V(D,b),K=C[0],Y=C[1],R=x.length,N=new Uint8Array(R>>2);let te;if(x.length<2e7)for(var X=0;X<R;X+=4)te=k(K,M=x[X]*(1/255),ee=x[X+1]*(1/255),re=x[X+2]*(1/255),ie=x[X+3]*(1/255)),N[X>>2]=te.ind,P[X>>2]=te.est.rgba;else for(X=0;X<R;X+=4){var M=x[X]*.00392156862745098,ee=x[X+1]*(1/255),re=x[X+2]*(1/255),ie=x[X+3]*(1/255);for(te=K;te.left;)te=B(te.est,M,ee,re,ie)<=0?te.left:te.right;N[X>>2]=te.ind,P[X>>2]=te.est.rgba}return{abuf:D.buffer,inds:N,plte:Y}}function V(T,b,x){x==null&&(x=1e-4);const D=new Uint32Array(T.buffer),P={i0:0,i1:T.length,bst:null,est:null,tdst:0,left:null,right:null};P.bst=Z(T,P.i0,P.i1),P.est=j(P.bst);const C=[P];for(;C.length<b;){let Y=0,R=0;for(var K=0;K<C.length;K++)C[K].est.L>Y&&(Y=C[K].est.L,R=K);if(Y<x)break;const N=C[R],te=H(T,D,N.i0,N.i1,N.est.e,N.est.eMq255);if(N.i0>=te||N.i1<=te){N.est.L=0;continue}const X={i0:N.i0,i1:te,bst:null,est:null,tdst:0,left:null,right:null};X.bst=Z(T,X.i0,X.i1),X.est=j(X.bst);const M={i0:te,i1:N.i1,bst:null,est:null,tdst:0,left:null,right:null};for(M.bst={R:[],m:[],N:N.bst.N-X.bst.N},K=0;K<16;K++)M.bst.R[K]=N.bst.R[K]-X.bst.R[K];for(K=0;K<4;K++)M.bst.m[K]=N.bst.m[K]-X.bst.m[K];M.est=j(M.bst),N.left=X,N.right=M,C[R]=X,C.push(M)}for(C.sort(((Y,R)=>R.bst.N-Y.bst.N)),K=0;K<C.length;K++)C[K].ind=K;return[P,C]}function k(T,b,x,D,P){if(T.left==null)return T.tdst=(function(X,M,ee,re,ie){const ue=M-X[0],ae=ee-X[1],ge=re-X[2],De=ie-X[3];return ue*ue+ae*ae+ge*ge+De*De})(T.est.q,b,x,D,P),T;const C=B(T.est,b,x,D,P);let K=T.left,Y=T.right;C>0&&(K=T.right,Y=T.left);const R=k(K,b,x,D,P);if(R.tdst<=C*C)return R;const N=k(Y,b,x,D,P);return N.tdst<R.tdst?N:R}function B(T,b,x,D,P){const{e:C}=T;return C[0]*b+C[1]*x+C[2]*D+C[3]*P-T.eMq}function H(T,b,x,D,P,C){for(D-=4;x<D;){for(;G(T,x,P)<=C;)x+=4;for(;G(T,D,P)>C;)D-=4;if(x>=D)break;const K=b[x>>2];b[x>>2]=b[D>>2],b[D>>2]=K,x+=4,D-=4}for(;G(T,x,P)>C;)x-=4;return x+4}function G(T,b,x){return T[b]*x[0]+T[b+1]*x[1]+T[b+2]*x[2]+T[b+3]*x[3]}function Z(T,b,x){const D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],P=[0,0,0,0],C=x-b>>2;for(let K=b;K<x;K+=4){const Y=T[K]*.00392156862745098,R=T[K+1]*(1/255),N=T[K+2]*(1/255),te=T[K+3]*(1/255);P[0]+=Y,P[1]+=R,P[2]+=N,P[3]+=te,D[0]+=Y*Y,D[1]+=Y*R,D[2]+=Y*N,D[3]+=Y*te,D[5]+=R*R,D[6]+=R*N,D[7]+=R*te,D[10]+=N*N,D[11]+=N*te,D[15]+=te*te}return D[4]=D[1],D[8]=D[2],D[9]=D[6],D[12]=D[3],D[13]=D[7],D[14]=D[11],{R:D,m:P,N:C}}function j(T){const{R:b}=T,{m:x}=T,{N:D}=T,P=x[0],C=x[1],K=x[2],Y=x[3],R=D==0?0:1/D,N=[b[0]-P*P*R,b[1]-P*C*R,b[2]-P*K*R,b[3]-P*Y*R,b[4]-C*P*R,b[5]-C*C*R,b[6]-C*K*R,b[7]-C*Y*R,b[8]-K*P*R,b[9]-K*C*R,b[10]-K*K*R,b[11]-K*Y*R,b[12]-Y*P*R,b[13]-Y*C*R,b[14]-Y*K*R,b[15]-Y*Y*R],te=N,X=U;let M=[Math.random(),Math.random(),Math.random(),Math.random()],ee=0,re=0;if(D!=0)for(let ue=0;ue<16&&(M=X.multVec(te,M),re=Math.sqrt(X.dot(M,M)),M=X.sml(1/re,M),!(ue!=0&&Math.abs(re-ee)<1e-9));ue++)ee=re;const ie=[P*R,C*R,K*R,Y*R];return{Cov:N,q:ie,e:M,L:ee,eMq255:X.dot(X.sml(255,ie),M),eMq:X.dot(M,ie),rgba:(Math.round(255*ie[3])<<24|Math.round(255*ie[2])<<16|Math.round(255*ie[1])<<8|Math.round(255*ie[0])<<0)>>>0}}var U={multVec:(T,b)=>[T[0]*b[0]+T[1]*b[1]+T[2]*b[2]+T[3]*b[3],T[4]*b[0]+T[5]*b[1]+T[6]*b[2]+T[7]*b[3],T[8]*b[0]+T[9]*b[1]+T[10]*b[2]+T[11]*b[3],T[12]*b[0]+T[13]*b[1]+T[14]*b[2]+T[15]*b[3]],dot:(T,b)=>T[0]*b[0]+T[1]*b[1]+T[2]*b[2]+T[3]*b[3],sml:(T,b)=>[T*b[0],T*b[1],T*b[2],T*b[3]]};Tr.encode=function(b,x,D,P,C,K,Y){P==null&&(P=0),Y==null&&(Y=!1);const R=g(b,x,D,P,[!1,!1,!1,0,Y,!1]);return y(R,-1),m(R,x,D,C,K)},Tr.encodeLL=function(b,x,D,P,C,K,Y,R){const N={ctype:0+(P==1?0:2)+(C==0?0:4),depth:K,frames:[]},te=(P+C)*K,X=te*x;for(let M=0;M<b.length;M++)N.frames.push({rect:{x:0,y:0,width:x,height:D},img:new Uint8Array(b[M]),blend:0,dispose:1,bpp:Math.ceil(te/8),bpl:Math.ceil(X/8)});return y(N,0,!0),m(N,x,D,Y,R)},Tr.encode.compress=g,Tr.encode.dither=f,Tr.quantize=q,Tr.quantize.getKDtree=V,Tr.quantize.getNearest=k})();const jb={toArrayBuffer(r,e){const n=r.width,a=r.height,s=n<<2,l=r.getContext("2d").getImageData(0,0,n,a),c=new Uint32Array(l.data.buffer),f=(32*n+31)/32<<2,m=f*a,y=122+m,g=new ArrayBuffer(y),v=new DataView(g),_=1<<20;let A,I,q,V,k=_,B=0,H=0,G=0;function Z(T){v.setUint16(H,T,!0),H+=2}function j(T){v.setUint32(H,T,!0),H+=4}function U(T){H+=T}Z(19778),j(y),U(4),j(122),j(108),j(n),j(-a>>>0),Z(1),Z(32),j(3),j(m),j(2835),j(2835),U(8),j(16711680),j(65280),j(255),j(4278190080),j(1466527264),(function T(){for(;B<a&&k>0;){for(V=122+B*f,A=0;A<s;)k--,I=c[G++],q=I>>>24,v.setUint32(V+A,I<<8|q),A+=4;B++}G<c.length?(k=_,setTimeout(T,jb._dly)):e(g)})()},toBlob(r,e){this.toArrayBuffer(r,(n=>{e(new Blob([n],{type:"image/bmp"}))}))},_dly:9};var zn={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},V6={[zn.CHROME]:16384,[zn.FIREFOX]:11180,[zn.DESKTOP_SAFARI]:16384,[zn.IE]:8192,[zn.IOS]:4096,[zn.ETC]:8192};const Eg=typeof window<"u",zb=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Bh=Eg&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),U6=(Eg||zb)&&(Bh&&Bh.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Bb=(Eg||zb)&&(Bh&&Bh.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Tg(r,e,n=Date.now()){return new Promise((a=>{const s=r.split(","),l=s[0].match(/:(.*?);/)[1],c=globalThis.atob(s[1]);let f=c.length;const m=new Uint8Array(f);for(;f--;)m[f]=c.charCodeAt(f);const y=new Blob([m],{type:l});y.name=e,y.lastModified=n,a(y)}))}function Fb(r){return new Promise(((e,n)=>{const a=new Bb;a.onload=()=>e(a.result),a.onerror=s=>n(s),a.readAsDataURL(r)}))}function Hb(r){return new Promise(((e,n)=>{const a=new Image;a.onload=()=>e(a),a.onerror=s=>n(s),a.src=r}))}function us(){if(us.cachedResult!==void 0)return us.cachedResult;let r=zn.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?r=zn.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?r=zn.IOS:/Safari/i.test(e)?r=zn.DESKTOP_SAFARI:/Firefox/i.test(e)?r=zn.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(r=zn.IE),us.cachedResult=r,us.cachedResult}function Gb(r,e){const n=us(),a=V6[n];let s=r,l=e,c=s*l;const f=s>l?l/s:s/l;for(;c>a*a;){const m=(a+s)/2,y=(a+l)/2;m<y?(l=y,s=y*f):(l=m*f,s=m),c=s*l}return{width:s,height:l}}function pd(r,e){let n,a;try{if(n=new OffscreenCanvas(r,e),a=n.getContext("2d"),a===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),a=n.getContext("2d")}return n.width=r,n.height=e,[n,a]}function Qb(r,e){const{width:n,height:a}=Gb(r.width,r.height),[s,l]=pd(n,a);return e&&/jpe?g/.test(e)&&(l.fillStyle="white",l.fillRect(0,0,s.width,s.height)),l.drawImage(r,0,0,s.width,s.height),s}function Eh(){return Eh.cachedResult!==void 0||(Eh.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Eh.cachedResult}function Fh(r,e={}){return new Promise((function(n,a){let s,l;var c=function(){try{return l=Qb(s,e.fileType||r.type),n([s,l])}catch(m){return a(m)}},f=function(m){try{var y=function(g){try{throw g}catch(v){return a(v)}};try{let g;return Fb(r).then((function(v){try{return g=v,Hb(g).then((function(_){try{return s=_,(function(){try{return c()}catch(A){return a(A)}})()}catch(A){return y(A)}}),y)}catch(_){return y(_)}}),y)}catch(g){y(g)}}catch(g){return a(g)}};try{if(Eh()||[zn.DESKTOP_SAFARI,zn.MOBILE_SAFARI].includes(us()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(r).then((function(m){try{return s=m,c()}catch{return f()}}),f)}catch{f()}}))}function Hh(r,e,n,a,s=1){return new Promise((function(l,c){let f;if(e==="image/png"){let v,_,A;return v=r.getContext("2d"),{data:_}=v.getImageData(0,0,r.width,r.height),A=Tr.encode([_.buffer],r.width,r.height,4096*s),f=new Blob([A],{type:e}),f.name=n,f.lastModified=a,m.call(this)}{let v=function(){return m.call(this)};var y=v;if(e==="image/bmp")return new Promise((_=>jb.toBlob(r,_))).then((function(_){try{return f=_,f.name=n,f.lastModified=a,v.call(this)}catch(A){return c(A)}}).bind(this),c);{let _=function(){return v.call(this)};var g=_;if(typeof OffscreenCanvas=="function"&&r instanceof OffscreenCanvas)return r.convertToBlob({type:e,quality:s}).then((function(A){try{return f=A,f.name=n,f.lastModified=a,_.call(this)}catch(I){return c(I)}}).bind(this),c);{let A;return A=r.toDataURL(e,s),Tg(A,n,a).then((function(I){try{return f=I,_.call(this)}catch(q){return c(q)}}).bind(this),c)}}}function m(){return l(f)}}))}function Fr(r){r.width=0,r.height=0}function vo(){return new Promise((function(r,e){let n,a,s,l;return vo.cachedResult!==void 0?r(vo.cachedResult):Tg("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(c){try{return n=c,Fh(n).then((function(f){try{return a=f[1],Hh(a,n.type,n.name,n.lastModified).then((function(m){try{return s=m,Fr(a),Fh(s).then((function(y){try{return l=y[0],vo.cachedResult=l.width===1&&l.height===2,r(vo.cachedResult)}catch(g){return e(g)}}),e)}catch(y){return e(y)}}),e)}catch(m){return e(m)}}),e)}catch(f){return e(f)}}),e)}))}function Kb(r){return new Promise(((e,n)=>{const a=new Bb;a.onload=s=>{const l=new DataView(s.target.result);if(l.getUint16(0,!1)!=65496)return e(-2);const c=l.byteLength;let f=2;for(;f<c;){if(l.getUint16(f+2,!1)<=8)return e(-1);const m=l.getUint16(f,!1);if(f+=2,m==65505){if(l.getUint32(f+=2,!1)!=1165519206)return e(-1);const y=l.getUint16(f+=6,!1)==18761;f+=l.getUint32(f+4,y);const g=l.getUint16(f,y);f+=2;for(let v=0;v<g;v++)if(l.getUint16(f+12*v,y)==274)return e(l.getUint16(f+12*v+8,y))}else{if((65280&m)!=65280)break;f+=l.getUint16(f,!1)}}return e(-1)},a.onerror=s=>n(s),a.readAsArrayBuffer(r)}))}function Yb(r,e){const{width:n}=r,{height:a}=r,{maxWidthOrHeight:s}=e;let l,c=r;return isFinite(s)&&(n>s||a>s)&&([c,l]=pd(n,a),n>a?(c.width=s,c.height=a/n*s):(c.width=n/a*s,c.height=s),l.drawImage(r,0,0,c.width,c.height),Fr(r)),c}function $b(r,e){const{width:n}=r,{height:a}=r,[s,l]=pd(n,a);switch(e>4&&e<9?(s.width=a,s.height=n):(s.width=n,s.height=a),e){case 2:l.transform(-1,0,0,1,n,0);break;case 3:l.transform(-1,0,0,-1,n,a);break;case 4:l.transform(1,0,0,-1,0,a);break;case 5:l.transform(0,1,1,0,0,0);break;case 6:l.transform(0,1,-1,0,a,0);break;case 7:l.transform(0,-1,-1,0,a,n);break;case 8:l.transform(0,-1,1,0,0,n)}return l.drawImage(r,0,0,n,a),Fr(r),s}function x0(r,e,n=0){return new Promise((function(a,s){let l,c,f,m,y,g,v,_,A,I,q,V,k,B,H,G,Z,j,U,T;function b(D=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;l+=D,e.onProgress(Math.min(l,100))}function x(D){if(e.signal&&e.signal.aborted)throw e.signal.reason;l=Math.min(Math.max(D,l),100),e.onProgress(l)}return l=n,c=e.maxIteration||10,f=1024*e.maxSizeMB*1024,b(),Fh(r,e).then((function(D){try{return[,m]=D,b(),y=Yb(m,e),b(),new Promise((function(P,C){var K;if(!(K=e.exifOrientation))return Kb(r).then((function(R){try{return K=R,Y.call(this)}catch(N){return C(N)}}).bind(this),C);function Y(){return P(K)}return Y.call(this)})).then((function(P){try{return g=P,b(),vo().then((function(C){try{return v=C?y:$b(y,g),b(),_=e.initialQuality||1,A=e.fileType||r.type,Hh(v,A,r.name,r.lastModified,_).then((function(K){try{{let te=function(){if(c--&&(H>f||H>k)){let M,ee;return M=T?.95*U.width:U.width,ee=T?.95*U.height:U.height,[Z,j]=pd(M,ee),j.drawImage(U,0,0,M,ee),_*=A==="image/png"?.85:.95,Hh(Z,A,r.name,r.lastModified,_).then((function(re){try{return G=re,Fr(U),U=Z,H=G.size,x(Math.min(99,Math.floor((B-H)/(B-f)*100))),te}catch(ie){return s(ie)}}),s)}return[1]},X=function(){return Fr(U),Fr(Z),Fr(y),Fr(v),Fr(m),x(100),a(G)};var R=te,N=X;if(I=K,b(),q=I.size>f,V=I.size>r.size,!q&&!V)return x(100),a(I);var Y;return k=r.size,B=I.size,H=B,U=v,T=!e.alwaysKeepResolution&&q,(Y=(function(M){for(;M;){if(M.then)return void M.then(Y,s);try{if(M.pop){if(M.length)return M.pop()?X.call(this):M;M=te}else M=M.call(this)}catch(ee){return s(ee)}}}).bind(this))(te)}}catch(te){return s(te)}}).bind(this),s)}catch(K){return s(K)}}).bind(this),s)}catch(C){return s(C)}}).bind(this),s)}catch(P){return s(P)}}).bind(this),s)}))}const k6=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Vm;function q6(r,e){return new Promise(((n,a)=>{Vm||(Vm=(function(c){const f=[];return f.push(c),URL.createObjectURL(new Blob(f))})(k6));const s=new Worker(Vm);s.addEventListener("message",(function(c){if(e.signal&&e.signal.aborted)s.terminate();else if(c.data.progress===void 0){if(c.data.error)return a(new Error(c.data.error)),void s.terminate();n(c.data.file),s.terminate()}else e.onProgress(c.data.progress)})),s.addEventListener("error",a),e.signal&&e.signal.addEventListener("abort",(()=>{a(e.signal.reason),s.terminate()})),s.postMessage({file:r,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})}))}function yn(r,e){return new Promise((function(n,a){let s,l,c,f,m,y;if(s={...e},c=0,{onProgress:f}=s,s.maxSizeMB=s.maxSizeMB||Number.POSITIVE_INFINITY,m=typeof s.useWebWorker!="boolean"||s.useWebWorker,delete s.useWebWorker,s.onProgress=A=>{c=A,typeof f=="function"&&f(c)},!(r instanceof Blob||r instanceof U6))return a(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(r.type))return a(new Error("The file given is not an image"));if(y=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!m||typeof Worker!="function"||y)return x0(r,s).then((function(A){try{return l=A,_.call(this)}catch(I){return a(I)}}).bind(this),a);var g=(function(){try{return _.call(this)}catch(A){return a(A)}}).bind(this),v=function(A){try{return x0(r,s).then((function(I){try{return l=I,g()}catch(q){return a(q)}}),a)}catch(I){return a(I)}};try{return s.libURL=s.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",q6(r,s).then((function(A){try{return l=A,g()}catch{return v()}}),v)}catch{v()}function _(){try{l.name=r.name,l.lastModified=r.lastModified}catch{}try{s.preserveExif&&r.type==="image/jpeg"&&(!s.fileType||s.fileType&&s.fileType===r.type)&&(l=qb(r,l))}catch{}return n(l)}}))}yn.getDataUrlFromFile=Fb,yn.getFilefromDataUrl=Tg,yn.loadImage=Hb,yn.drawImageInCanvas=Qb,yn.drawFileInCanvas=Fh,yn.canvasToFile=Hh,yn.getExifOrientation=Kb,yn.handleMaxWidthOrHeight=Yb,yn.followExifOrientation=$b,yn.cleanupCanvasMemory=Fr,yn.isAutoOrientationInBrowser=vo,yn.approximateBelowMaximumCanvasSizeOfBrowser=Gb,yn.copyExifWithoutOrientation=qb,yn.getBrowserName=us,yn.version="2.0.2";const j6=({item:r})=>{switch(r.type){case"paragraph":return F.jsx("p",{className:"whitespace-pre-line mb-4 dark:text-gray-300",children:r.content});case"instruction":return F.jsx("p",{className:"whitespace-pre-line mb-4 dark:text-gray-200 font-semibold",children:r.content});case"image":return F.jsx("img",{src:r.src,alt:r.alt,className:"my-4 rounded-lg shadow-md max-w-full mx-auto"});default:return null}};function z6({ejercicioId:r,onRegresar:e,onSave:n,user:a,groupKey:s}){const l=vg.find(V=>V.id===r),[c,f]=le.useState(null),[m,y]=le.useState(null),[g,v]=le.useState(!1);le.useEffect(()=>{f(null),y(null),v(!1)},[r]);const _=async V=>{const k=V.target.files[0];if(k)if(k.type.startsWith("image/"))try{const H=await yn(k,{maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0});f(H)}catch(B){console.error("Error al comprimir la imagen:",B),f(k)}else f(k)},A=async V=>{const k=V.target.files[0];if(k)if(k.type.startsWith("image/"))try{const H=await yn(k,{maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0});y(H)}catch(B){console.error("Error al comprimir la imagen:",B),y(k)}else y(k)},I=async(V,k)=>{if(!V||!a)return null;let B=V;if(typeof V=="string"&&V.startsWith("blob:")){const H=await fetch(V).then(G=>G.blob());B=new File([H],k,{type:H.type})}if(!(B instanceof File))return null;try{const H=`uploads/${a.uid}/${Date.now()}-${B.name}`,G=A6(x6,H),Z=await T6(G,B);return await b6(Z.ref)}catch(H){return console.error("Error al subir archivo:",H),null}},q=async()=>{if(!a)return alert("Debes iniciar sesión para poder enviar.");v(!0);const V=await I(c,"adjunto_1"),k=l.consigna2?await I(m,"adjunto_2"):null;try{await cp(pu(gu,"submissions"),{userId:a.uid,userEmail:a.email,userName:a.displayName||"",groupKey:s,ejercicioId:l.id,ejercicioTitle:l.title,fileUrlConsigna1:V,fileUrlConsigna2:k,createdAt:hp()})}catch(B){console.error("Error al guardar en Firestore: ",B),v(!1);return}n(null,null,V,k,null,null),v(!1)};return l?F.jsxs("div",{className:"ejercicio-integrador-container",children:[F.jsx("h2",{className:"text-2xl font-bold mb-4 text-center dark:text-white",children:l.title}),F.jsx("div",{className:"problema-container bg-gray-100 dark:bg-gray-800 p-4 rounded-md mb-6",children:l.mainContent.map((V,k)=>F.jsx(j6,{item:V},k))}),F.jsxs("div",{className:"consignas-container",children:[F.jsxs("div",{className:"mb-8 p-4 border rounded-lg dark:border-gray-700",children:[F.jsx("p",{className:"mb-2 dark:text-white",children:F.jsx("strong",{children:"Consigna 1"})}),F.jsx("p",{className:"mb-4 dark:text-gray-300",children:l.consigna1}),F.jsx("p",{className:"mb-4 dark:text-gray-300",children:"Envía tu respuesta en una imagen."}),F.jsxs("div",{className:"mt-4",children:[F.jsx("h4",{className:"text-md font-semibold mb-2 dark:text-white",children:"SUBE TU IMAGEN"}),F.jsx("input",{type:"file",accept:"image/*",onChange:_,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-blue-50 dark:file:bg-gray-600 hover:file:bg-blue-100"})]})]}),l.consigna2&&F.jsxs("div",{className:"p-4 border rounded-lg dark:border-gray-700",children:[F.jsx("p",{className:"mb-2 dark:text-white",children:F.jsx("strong",{children:"Consigna 2"})}),F.jsx("p",{className:"mb-4 dark:text-gray-300",children:l.consigna2}),F.jsx("p",{className:"mb-4 dark:text-gray-300",children:"Envía tu respuesta en una imagen."}),F.jsxs("div",{className:"mt-4",children:[F.jsx("h4",{className:"text-md font-semibold mb-2 dark:text-white",children:"SUBE TU IMAGEN"}),F.jsx("input",{type:"file",accept:"image/*",onChange:A,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-blue-50 dark:file:bg-gray-600 hover:file:bg-blue-100"})]})]})]}),F.jsxs("div",{className:"flex justify-end space-x-4 mt-8",children:[F.jsx("button",{onClick:e,className:"btn-3d btn-gray",disabled:g,children:"Volver"}),F.jsx("button",{onClick:q,className:"btn-3d btn-green",disabled:g,children:g?"Enviando...":"Guardar y Enviar"})]})]}):F.jsx("div",{className:"text-center p-10",children:"Ejercicio no encontrado."})}const B6={"Recta Numérica":[{id:"recta_numerica_1",texto:`
        <p><strong>Tema:</strong> Fracciones en la recta numérica.</p>
        <p><strong>Explicación:</strong></p>
        <ol>
          <li><strong>Identifica el entero:</strong> La pregunta dice que A es igual a 1. Nuestro "todo" es el segmento de 0 hasta A.</li>
          <li><strong>Cuenta el denominador:</strong> El espacio entre 0 y A está dividido en 10 partes.</li>
          <li><strong>Cuenta el numerador:</strong> La línea azul abarca 7 de esas partes.</li>
          <li><strong>Resultado:</strong> La fracción correcta es 7/10.</li>
        </ol>
      `},{id:"recta_numerica_2",texto:`
        <p><strong>Tema:</strong> Fracciones en la recta numérica.</p>
        <p><strong>Explicación:</strong></p>
        <ol>
          <li><strong>Identifica el entero:</strong> La pregunta indica que B es igual a 1. Nuestro "todo" es el segmento de 0 hasta B.</li>
          <li><strong>Cuenta el denominador:</strong> El espacio entre 0 y B está dividido en 14 partes.</li>
          <li><strong>Cuenta el numerador:</strong> La línea azul abarca 7 partes.</li>
          <li><strong>Resultado:</strong> La fracción es 7/14.</li>
        </ol>
      `},{id:"recta_numerica_3",texto:`
        <p><strong>Tema:</strong> Fracciones en la recta numérica.</p>
        <p><strong>Explicación:</strong></p>
        <ol>
          <li><strong>Identifica el entero:</strong> La pregunta establece que C es igual a 1.</li>
          <li><strong>Cuenta el denominador:</strong> El espacio total entre 0 y C está dividido en 18 partes.</li>
          <li><strong>Cuenta el numerador:</strong> La línea azul abarca 7 partes.</li>
          <li><strong>Resultado:</strong> La fracción correcta es 7/18.</li>
        </ol>
      `},{id:"recta_numerica_4",texto:`
        <p><strong>Tema:</strong> Decimales en la recta numérica.</p>
        <p><strong>Explicación:</strong></p>
        <ol>
          <li><strong>Analiza el intervalo:</strong> La recta va de 5.9 a 6.0 (un espacio de 0.1).</li>
          <li><strong>Valor de cada división:</strong> Este espacio se divide en 10, así que cada rayita vale 0.01.</li>
          <li><strong>Ubica la flecha:</strong> La flecha está en la 9ª rayita después de 5.9.</li>
          <li><strong>Resultado:</strong> Sumamos 5.9 + 0.09, lo que nos da 5.99.</li>
        </ol>
      `},{id:"recta_numerica_5",texto:`
        <p><strong>Tema:</strong> Números mixtos en la recta numérica.</p>
        <p><strong>Explicación:</strong></p>
        <ol>
          <li><strong>Parte entera:</strong> La flecha está después del 1, así que la parte entera es 1.</li>
          <li><strong>Parte fraccionaria:</strong> El espacio entre 1 y 2 está dividido en 10 partes. La flecha está en la 2ª marca.</li>
          <li><strong>Resultado:</strong> El número mixto es 1 2/10.</li>
        </ol>
      `},{id:"recta_numerica_6",texto:`
        <p><strong>Tema:</strong> Simplificación de fracciones.</p>
        <p><strong>Explicación:</strong></p>
        <ol>
          <li><strong>Fracción inicial:</strong> Hay 3 partes pintadas de un total de 6. La fracción es 3/6.</li>
          <li><strong>Simplificación:</strong> La pregunta pide la forma más simple. Dividimos tanto el numerador como el denominador entre 3 (3 ÷ 3 = 1; 6 ÷ 3 = 2).</li>
          <li><strong>Resultado:</strong> La fracción simplificada es 1/2.</li>
        </ol>
      `},{id:"recta_numerica_7",texto:`
        <p><strong>Tema:</strong> Ubicación de puntos en una recta.</p>
        <p><strong>Explicación:</strong></p>
        <ol>
          <li><strong>Analiza la escala:</strong> El segmento de 0 a 5 está dividido en 3 partes iguales. Cada parte vale 5/3.</li>
          <li><strong>Ubica la flecha:</strong> La flecha está en la segunda marca, por lo que su valor es 2 * (5/3) = 10/3.</li>
          <li><strong>Convierte a número mixto:</strong> El 3 cabe 3 veces en el 10 y sobra 1.</li>
          <li><strong>Resultado:</strong> El número mixto es 3 1/3.</li>
        </ol>
      `},{id:"recta_numerica_8",texto:`
        <p><strong>Tema:</strong> Decimales en la recta numérica.</p>
        <p><strong>Explicación:</strong></p>
        <ol>
          <li><strong>Analiza el intervalo:</strong> La recta va de 6.0 a 6.1 (un espacio de 0.1).</li>
          <li><strong>Valor de cada división:</strong> Cada una de las 10 divisiones vale 0.01.</li>
          <li><strong>Ubica el punto 'k':</strong> El punto está en la 7ª rayita después de 6.0.</li>
          <li><strong>Resultado:</strong> Sumamos 6.0 + 0.07, lo que nos da 6.07.</li>
        </ol>
      `},{id:"recta_numerica_9",texto:`
        <p><strong>Tema:</strong> Decimales de alta precisión.</p>
        <p><strong>Explicación:</strong></p>
        <ol>
          <li><strong>Identifica las marcas:</strong> La recta va de 3.3 a 3.4. La 4ª marca es 3.34 y la 5ª es 3.35.</li>
          <li><strong>Ubica la flecha:</strong> La flecha está a la mitad entre 3.34 y 3.35.</li>
          <li><strong>Calcula el promedio:</strong> (3.34 + 3.35) / 2 = 3.345.</li>
          <li><strong>Resultado:</strong> El número mixto es 3 345/1000.</li>
        </ol>
      `},{id:"recta_numerica_10",texto:`
        <p><strong>Tema:</strong> Múltiples números mixtos.</p>
        <p><strong>Explicación:</strong></p>
        <ol>
          <li><strong>Análisis de la recta:</strong> Entre cada número entero (de 2 a 3, y de 3 a 4), el espacio está dividido en 5 partes iguales. Por lo tanto, cada marca representa un quinto (1/5).</li>
          <li><strong>Primera flecha:</strong> Está entre 2 y 3, en la segunda marca. Esto representa el número 2 y 2/5.</li>
          <li><strong>Segunda flecha:</strong> Está entre 3 y 4, en la tercera marca. Esto representa el número 3 y 3/5.</li>
          <li><strong>Resultado:</strong> Los números son 2 2/5 y 3 3/5.</li>
        </ol>
      `}],Sucesiones:[{id:"sucesiones_1",texto:`
        <p><strong>Tema:</strong> Sucesiones Lineales.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Observa la secuencia:</strong> La Figura 1 tiene 5 cuadritos. La Figura 2 tiene 9. La Figura 3 tiene 13.</li>
          <li><strong>Identifica el patrón:</strong> La diferencia entre cada figura es de +4 cuadritos. La regla es "sumar 4".</li>
          <li><strong>Formula la regla algebraica:</strong> Como la diferencia es 4, la regla contiene "4n". Para n=1, 4(1)=4. Para llegar a 5, necesitamos sumar 1. La regla es <strong>4n + 1</strong>.</li>
          <li><strong>Aplica la regla para la Figura 6:</strong> (4 * 6) + 1 = 24 + 1 = 25.</li>
          <li><strong>Resultado:</strong> La figura 6 tendrá 25 cuadritos.</li>
        </ol>
      `},{id:"sucesiones_2",texto:`
        <p><strong>Tema:</strong> Sucesiones Lineales (Progresión Aritmética).</p>
        <p><strong>Error común:</strong> No identificar correctamente la constante que se suma o no formular bien la regla algebraica.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Encuentra la diferencia:</strong> De la Figura 1 (4 círculos) a la Figura 2 (7 círculos) hay una diferencia de +3. De la Figura 2 (7) a la 3 (10) también es +3.</li>
          <li><strong>Confirma la constante:</strong> La sucesión siempre suma 3 al término anterior. Esto significa que la regla algebraica contendrá "3n".</li>
          <li><strong>Ajusta la regla:</strong> Probemos con 3n. Para la Figura 1 (n=1), 3(1) = 3. Pero necesitamos 4. Nos falta 1. Así que la regla es 3n + 1.</li>
          <li><strong>Comprueba la regla:</strong> Para n=2: 3(2)+1 = 7. Para n=3: 3(3)+1 = 10. ¡La regla es correcta!</li>
          <li><strong>Calcula el término 7:</strong> Para la Figura 7, aplicamos la regla: 3(7) + 1 = 21 + 1 = 22.</li>
        </ol>
      `},{id:"sucesiones_3",texto:`
        <p><strong>Tema:</strong> Regla Algebraica de una Sucesión.</p>
        <p><strong>Error común:</strong> Probar solo con el primer término. Una regla debe funcionar para TODOS los términos de la sucesión.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Analiza la secuencia:</strong> Figura 1 tiene 1 cuadrito. Figura 2 tiene 3. Figura 3 tiene 5. La diferencia entre términos es de +2.</li>
          <li><strong>Formula la base de la regla:</strong> Como la diferencia es 2, la regla debe contener "2n".</li>
          <li><strong>Ajusta la regla:</strong> Probemos 2n. Para n=1, 2(1) = 2. Necesitamos 1. Debemos restar 1. La regla propuesta es 2n - 1.</li>
          <li><strong>Verifica con otros términos:</strong> Para n=2: 2(2)-1 = 3 (Correcto). Para n=3: 2(3)-1 = 5 (Correcto).</li>
          <li><strong>Resultado:</strong> La regla que describe la sucesión es 2n - 1.</li>
        </ol>
      `},{id:"sucesiones_4",texto:`
        <p><strong>Tema:</strong> Sucesiones Lineales (Múltiplos).</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Observa la secuencia:</strong> La Figura 1 tiene 4 puntos. La Figura 2 tiene 8. La Figura 3 tiene 12.</li>
          <li><strong>Identifica el patrón:</strong> Cada figura tiene un número de puntos que es exactamente 4 veces el número de la figura.</li>
          <li><strong>Formula la regla algebraica:</strong> La regla es <strong>4n</strong>.</li>
          <li><strong>Aplica la regla para la Figura 10:</strong> 4 * 10 = 40.</li>
          <li><strong>Resultado:</strong> La figura 10 tendrá 40 puntos.</li>
        </ol>
      `},{id:"sucesiones_5",texto:`
        <p><strong>Tema:</strong> Sucesiones Cuadráticas.</p>
        <p><strong>Error común:</strong> No reconocer el patrón de los números cuadrados (1, 4, 9, 16, 25...). Es una de las sucesiones más importantes que hay que memorizar.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Cuenta los elementos:</strong> Figura 1: 1 triángulo. Figura 2: 4 triángulos. Figura 3: 9 triángulos.</li>
          <li><strong>Analiza la secuencia de números:</strong> La secuencia es 1, 4, 9.</li>
          <li><strong>Identifica el patrón:</strong> Estos números son los cuadrados perfectos. 1 = 1², 4 = 2², 9 = 3².</li>
          <li><strong>Formula la regla:</strong> El número de triángulos para la figura 'n' es simplemente n².</li>
        </ol>
      `},{id:"sucesiones_6",texto:`
        <p><strong>Tema:</strong> Regla Algebraica de una Sucesión Lineal.</p>
        <p><strong>Error común:</strong> Asumir que la regla es solo la diferencia (2n) sin verificar si se necesita un ajuste (+1 en este caso).</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Cuenta los cubos:</strong> Figura 1: 3 cubos. Figura 2: 5 cubos. Figura 3: 7 cubos.</li>
          <li><strong>Encuentra la diferencia:</strong> La diferencia entre cada figura es de +2 cubos.</li>
          <li><strong>Formula la base de la regla:</strong> Al ser la diferencia 2, la regla base es "2n".</li>
          <li><strong>Ajusta la regla:</strong> Para n=1, 2(1) = 2. Pero la figura tiene 3 cubos. Necesitamos sumar 1. La regla es 2n + 1.</li>
          <li><strong>Verifica la regla:</strong> Para n=2: 2(2)+1 = 5 (Correcto). Para n=3: 2(3)+1 = 7 (Correcto).</li>
        </ol>
      `},{id:"sucesiones_7",texto:`
        <p><strong>Tema:</strong> Sucesiones Lineales (Progresión Aritmética).</p>
        <p><strong>Error común:</strong> Equivocarse en la multiplicación o en la suma final al aplicar la regla para un término alto como el 9.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Encuentra la diferencia:</strong> Figura 1 (6 puntos) a Figura 2 (11 puntos) es +5. Figura 2 (11) a Figura 3 (16) es +5.</li>
          <li><strong>Formula la base de la regla:</strong> La constante es +5, por lo que la regla contiene "5n".</li>
          <li><strong>Ajusta la regla:</strong> Para n=1, 5(1) = 5. Pero necesitamos 6. Hay que sumar 1. La regla propuesta es 5n + 1.</li>
          <li><strong>Verifica la regla:</strong> Para n=2: 5(2)+1 = 11 (Correcto). Para n=3: 5(3)+1 = 16 (Correcto).</li>
          <li><strong>Calcula el término 9:</strong> Para la Figura 9, aplicamos la regla: 5(9) + 1 = 45 + 1 = 46.</li>
        </ol>
      `},{id:"sucesiones_8",texto:`
        <p><strong>Tema:</strong> Regla Algebraica a partir de una Tabla.</p>
        <p><strong>Error común:</strong> No probar la regla con al menos dos pares de valores para confirmar que es correcta.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Analiza la relación:</strong> Cuando 'f' aumenta en 1 (de 1 a 2), 'e' aumenta en 3 (de 5 a 8). Esto se repite (de 2 a 3, 'e' va de 8 a 11).</li>
          <li><strong>Formula la base de la regla:</strong> El aumento constante de 3 nos dice que la regla contiene "3f".</li>
          <li><strong>Ajusta la regla:</strong> Tomemos el primer par (f=1, e=5). Si la regla fuera 3f, tendríamos 3(1)=3. Para llegar a 5, necesitamos sumar 2. La regla propuesta es e = 3f + 2.</li>
          <li><strong>Verifica con otro par:</strong> Probemos con f=3. e = 3(3) + 2 = 9 + 2 = 11. Coincide con la tabla.</li>
          <li><strong>Resultado:</strong> La expresión correcta es e = 3f + 2.</li>
        </ol>
      `},{id:"sucesiones_9",texto:`
        <p><strong>Tema:</strong> Regla Algebraica a partir de una Tabla.</p>
        <p><strong>Error común:</strong> Similar al anterior, un error de cálculo al probar la regla o al determinar el ajuste.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Analiza la relación:</strong> Cuando 'n' aumenta en 1 (de 1 a 2), 'p' aumenta en 2 (de 4 a 6). La diferencia es constante.</li>
          <li><strong>Formula la base de la regla:</strong> El aumento constante de 2 nos dice que la regla contiene "2n".</li>
          <li><strong>Ajusta la regla:</strong> Usemos el primer par (n=1, p=4). Con 2n, tenemos 2(1)=2. Para llegar a 4, debemos sumar 2. La regla propuesta es p = 2n + 2.</li>
          <li><strong>Verifica con otro par:</strong> Probemos con n=3. p = 2(3) + 2 = 6 + 2 = 8. Coincide con la tabla.</li>
          <li><strong>Resultado:</strong> La expresión correcta es p = 2n + 2.</li>
        </ol>
      `},{id:"sucesiones_10",texto:`
        <p><strong>Tema:</strong> Regla Algebraica a partir de una Tabla.</p>
        <p><strong>Error común:</strong> Confundir el número que multiplica con el que se suma. Es vital ser metódico.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Analiza la relación:</strong> Cuando 'x' aumenta en 1 (de 1 a 2), 'y' aumenta en 3 (de 8 a 11). La diferencia es constante.</li>
          <li><strong>Formula la base de la regla:</strong> El aumento constante de 3 nos dice que la regla contiene "3x".</li>
          <li><strong>Ajusta la regla:</strong> Usemos el primer par (x=1, y=8). Con 3x, tenemos 3(1)=3. Para llegar a 8, debemos sumar 5. La regla propuesta es y = 3x + 5.</li>
          <li><strong>Verifica con otro par:</strong> Probemos con x=3. y = 3(3) + 5 = 9 + 5 = 14. Coincide con la tabla.</li>
          <li><strong>Resultado:</strong> La expresión correcta es y = 3x + 5.</li>
        </ol>
      `}],Perímetro:[{id:"perimetro_1",texto:`
        <p><strong>Tema:</strong> Perímetro Algebraico.</p>
        <p><strong>Error común:</strong> Sumar términos que no son semejantes (por ejemplo, intentar sumar 'm' con 'n'). El perímetro es solo el contorno, no se debe multiplicar nada a menos que sea parte de la fórmula de una curva.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Identifica los lados:</strong> La figura es un rectángulo con lados 5m y 2n. El perímetro es la suma de sus cuatro lados: 5m + 2n + 5m + 2n.</li>
          <li><strong>Agrupa términos semejantes:</strong> Junta todos los términos que contienen 'm' y todos los que contienen 'n'.</li>
          <li><strong>Suma los términos con 'm':</strong> 5m + 5m = 10m.</li>
          <li><strong>Suma los términos con 'n':</strong> 2n + 2n = 4n.</li>
          <li><strong>Combina los resultados:</strong> La expresión final para el perímetro es la suma de los resultados anteriores: 10m + 4n.</li>
        </ol>
      `},{id:"perimetro_2",texto:`
        <p><strong>Tema:</strong> Perímetro Algebraico (Trapecio Isósceles).</p>
        <p><strong>Error común:</strong> No identificar correctamente los lados a sumar o cometer un error al agrupar términos semejantes.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
            <li><strong>Analiza la figura y la pregunta:</strong> Se nos pide el perímetro de un trapecio isósceles. Esto significa que los dos lados no paralelos (las "patas" del trapecio) deben ser iguales.</li>
            <li><strong>Identifica los lados:</strong> La figura muestra tres lados con las expresiones: <code>(3y+4)</code>, <code>(5y+8)</code> y <code>(4y+3)</code>. Hay un cuarto lado sin expresión.</li>
            <li><strong>Aplica la propiedad del trapecio isósceles:</strong> Al ser isósceles, debe tener dos lados iguales. Asumimos que el lado sin expresión es la otra "pata" y, por lo tanto, es igual al lado <code>(4y+3)</code>.</li>
            <li><strong>Plantea la suma:</strong> Perímetro = <code>(3y + 4)</code> + <code>(5y + 8)</code> + <code>(4y + 3)</code> + <code>(4y + 3)</code>.</li>
            <li><strong>Agrupa y suma los términos con 'y':</strong> 3y + 5y + 4y + 4y = 16y.</li>
            <li><strong>Agrupa y suma los números constantes:</strong> 4 + 8 + 3 + 3 = 18.</li>
            <li><strong>Resultado final:</strong> Al combinar ambos resultados, el perímetro es <code>16y + 18</code>.</li>
        </ol>
      `},{id:"perimetro_3",texto:`
        <p><strong>Tema:</strong> Perímetro de un Rectángulo Algebraico.</p>
        <p><strong>Error común:</strong> Sumar solo los dos lados visibles en lugar de los cuatro, o cometer un error en la propiedad distributiva.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
            <li><strong>Identifica la figura y sus lados:</strong> La figura es un rectángulo. Su largo es <code>(3x + 2)</code> y su ancho es <code>5</code>.</li>
            <li><strong>Recuerda la fórmula del perímetro:</strong> El perímetro de un rectángulo es <code>2 * (largo + ancho)</code>.</li>
            <li><strong>Sustituye los valores:</strong> P = 2 * ( (3x + 2) + 5 ).</li>
            <li><strong>Simplifica dentro del paréntesis:</strong> P = 2 * (3x + 7).</li>
            <li><strong>Aplica la propiedad distributiva:</strong> P = (2 * 3x) + (2 * 7).</li>
            <li><strong>Expresión final:</strong> El perímetro es <code>6x + 14</code>.</li>
        </ol>
      `},{id:"perimetro_4",texto:`
        <p><strong>Tema:</strong> Perímetro de un Polígono Irregular.</p>
        <p><strong>Error común:</strong> No contar bien cuántos términos 'x' hay en total. Es fácil olvidar las 'x' que están solas.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Identifica los cinco lados:</strong> Los lados son x, (2x+1), (3x+5), x, y x.</li>
          <li><strong>Plantea la suma:</strong> P = x + (2x + 1) + (3x + 5) + x + x.</li>
          <li><strong>Suma todos los términos con 'x':</strong> x + 2x + 3x + x + x = 1x + 2x + 3x + 1x + 1x = 8x.</li>
          <li><strong>Suma los números:</strong> 1 + 5 = 6.</li>
          <li><strong>Expresión final:</strong> El perímetro es 8x + 6.</li>
        </ol>
      `},{id:"perimetro_5",texto:`
        <p><strong>Tema:</strong> Perímetro Algebraico.</p>
        <p><strong>Error común:</strong> Errores de signo si los hubiera, o un simple despiste al sumar los números.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Identifica los tres lados:</strong> Los lados son (x+2), (3x+4) y (3x+2).</li>
          <li><strong>Plantea la suma:</strong> P = (x + 2) + (3x + 4) + (3x + 2).</li>
          <li><strong>Suma los términos con 'x':</strong> x + 3x + 3x = 7x.</li>
          <li><strong>Suma los números:</strong> 2 + 4 + 2 = 8.</li>
          <li><strong>Expresión final:</strong> El perímetro es 7x + 8.</li>
        </ol>
      `},{id:"perimetro_6",texto:`
        <p><strong>Tema:</strong> Perímetro de Figuras Compuestas.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
            <li><strong>Descompón la figura:</strong> El perímetro es la suma de todos los segmentos y curvas del contorno.</li>
            <li><strong>Suma los lados rectos:</strong> La figura tiene dos lados horizontales de 7 cm y dos lados inclinados de 3 cm. Su suma es: 7 + 7 + 3 + 3 = 20 cm.</li>
            <li><strong>Calcula la longitud de la curva:</strong> Se incluye una media circunferencia de 5 cm de diámetro. Su longitud es (π × 5) / 2 = 7.85 cm.</li>
            <li><strong>Calcula el perímetro total:</strong> Se suma todo: 20 cm (lados rectos) + 7.85 cm (curva).</li>
            <li><strong>Resultado:</strong> El perímetro total es 27.85 cm.</li>
        </ol>
      `},{id:"perimetro_7",texto:`
        <p><strong>Tema:</strong> Perímetro de Figuras Compuestas.</p>
        <p><strong>Error común:</strong> No identificar correctamente las partes del contorno o usar un diámetro incorrecto para la curva.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
            <li><strong>Descompón la figura:</strong> El contorno azul está formado por dos lados rectos de 4 cm cada uno y tres cuartas partes (3/4) de una circunferencia.</li>
            <li><strong>Analiza la curva:</strong> La curva corresponde a 3/4 de una circunferencia completa que tiene un diámetro de 8 cm.</li>
            <li><strong>Calcula la longitud de la curva:</strong> La fórmula es (π × d) × (3/4). Aplicando los valores: (3.14 × 8 cm) × (3/4) = 18.84 cm.</li>
            <li><strong>Suma las partes rectas:</strong> El contorno también incluye dos lados rectos. Suma: 4 cm + 4 cm = 8 cm.</li>
            <li><strong>Suma total:</strong> Perímetro total = Longitud de la curva + Suma de lados rectos = 18.84 cm + 8 cm = 26.84 cm.</li>
        </ol>
      `},{id:"perimetro_8",texto:`
        <p><strong>Tema:</strong> Perímetro de Figuras Compuestas.</p>
        <p><strong>Error común:</strong> No encontrar la descomposición correcta de la figura para encontrar el perímetro de cada parte.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
            <li><strong>Descompón la figura:</strong> El perímetro de la parte roja se compone de tres arcos: una media circunferencia grande (diámetro 6 cm) y dos medias circunferencias más pequeñas (diámetro 3 cm cada una).</li>
            <li><strong>Calcula la curva grande:</strong> La longitud es (π × d) / 2 = (3.14 × 6 cm) / 2 = 9.42 cm.</li>
            <li><strong>Calcula las curvas pequeñas:</strong> Cada una mide (π × d) / 2 = (3.14 × 3 cm) / 2 = 4.71 cm. Como son dos, su longitud combinada es 4.71 + 4.71 = 9.42 cm.</li>
            <li><strong>Suma todas las partes:</strong> Perímetro total = 9.42 cm (curva grande) + 9.42 cm (las dos curvas pequeñas).</li>
            <li><strong>Resultado:</strong> El perímetro total es 18.84 cm.</li>
        </ol>
      `},{id:"perimetro_9",texto:`
        <p><strong>Tema:</strong> Perímetro de Figuras Compuestas.</p>
        <p><strong>Error común:</strong> Pensar que hay que calcular el perímetro de los 4 cuadrados pequeños. El perímetro es solo el contorno exterior de la figura sombreada.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Analiza el contorno:</strong> El perímetro de la figura sombreada está formado por 4 arcos. Cada arco es un cuarto de círculo.</li>
          <li><strong>Junta las partes:</strong> Si unes los 4 cuartos de círculo, formas una circunferencia completa.</li>
          <li><strong>Encuentra el radio y diámetro:</strong> El radio de cada arco es de 3 cm. Por lo tanto, el diámetro de la circunferencia completa que forman es de 6 cm.</li>
          <li><strong>Aplica la fórmula del perímetro:</strong> P = π × d = 3.14 × 6 cm = 18.84 cm.</li>
        </ol>
      `},{id:"perimetro_10",texto:`
        <p><strong>Tema:</strong> Perímetro de un Sector Circular.</p>
        <p><strong>Error común:</strong> Calcular la longitud de una semicircunferencia en lugar de un cuarto de circunferencia, u olvidar sumar los lados rectos del contorno.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
            <li><strong>Identifica el contorno:</strong> La parte azul está formada por un <strong>cuarto de circunferencia</strong> y dos lados rectos (que son los radios).</li>
            <li><strong>Calcula la longitud de la curva:</strong> El radio es de 6 cm (diámetro 12 cm). La longitud de un cuarto de circunferencia es (π × d) / 4.</li>
            <li><strong>Aplica la fórmula:</strong> Longitud de la curva = (3.14 × 12 cm) / 4 = 9.42 cm.</li>
            <li><strong>Suma los lados rectos:</strong> El contorno también incluye los dos radios, cada uno de 6 cm. Suma: 6 cm + 6 cm = 12 cm.</li>
            <li><strong>Suma total:</strong> Perímetro = Curva + Lados rectos = 9.42 cm + 12 cm = 21.42 cm.</li>
        </ol>
      `}],"Jerarquía de Operaciones":[{id:"jerarquia_1",texto:`
        <p><strong>Tema:</strong> Jerarquía de Operaciones (PEMDAS/BIDMAS).</p>
        <p><strong>Error común:</strong> Realizar las operaciones de izquierda a derecha sin respetar la jerarquía, especialmente restando 5 antes de multiplicar.</p>
        <p><strong>Análisis paso a paso (PEMDAS):</strong></p>
        <ol>
          <li><strong>Paréntesis:</strong> Primero, lo que está dentro del paréntesis: (-4 + 6) = 2.</li>
          <li><strong>Corchetes (Exponentes/Multiplicación):</strong> Ahora dentro de los corchetes: [2 × 3] = 6.</li>
          <li><strong>Llaves (Suma/Resta):</strong> Resolvemos lo que queda en las llaves: {6 - 5} = 1.</li>
          <li><strong>División:</strong> Finalmente, la última operación: 1 ÷ (-1) = -1.</li>
        </ol>
      `},{id:"jerarquia_2",texto:`
        <p><strong>Tema:</strong> Jerarquía de Operaciones.</p>
        <p><strong>Error común:</strong> No manejar correctamente los signos, especialmente en la parte {3 - [1 + (-2)]}, donde un doble negativo se convierte en positivo.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Primer Grupo (Corchetes):</strong>
            <ul>
              <li>División interna: (-8 ÷ 2) = -4.</li>
              <li>Suma interna: [-4 + 5] = 1.</li>
            </ul>
          </li>
          <li><strong>Segundo Grupo (Llaves):</strong>
            <ul>
              <li>Paréntesis interno: [1 + (-2)] = [1 - 2] = -1.</li>
              <li>Resta en llaves: {3 - [-1]} = {3 + 1} = 4.</li>
            </ul>
          </li>
          <li><strong>Operación Final:</strong> Multiplicamos los resultados de ambos grupos: 1 × 4 = 4.</li>
        </ol>
      `},{id:"jerarquia_3",texto:`
        <p><strong>Tema:</strong> Jerarquía de Operaciones.</p>
        <p><strong>Error común:</strong> Confundirse con los signos al final. Restar un número negativo (- (-3)) es lo mismo que sumar.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Paréntesis:</strong> (2 - 5) = -3.</li>
          <li><strong>Corchetes:</strong> [4 × (-3)] = -12.</li>
          <li><strong>Llaves:</strong> {-6 ÷ 2} = -3.</li>
          <li><strong>Operación Completa:</strong> La expresión es: -3 + [-12] - [-3].</li>
          <li><strong>Simplifica Signos:</strong> -3 - 12 + 3.</li>
          <li><strong>Suma y Resta:</strong> -3 + 3 = 0. El resultado final es -12.</li>
        </ol>
      `},{id:"jerarquia_4",texto:`
        <p><strong>Tema:</strong> Jerarquía de Operaciones.</p>
        <p><strong>Error común:</strong> Un error en la multiplicación de signos, como (-5) × (-3), que debe dar un resultado positivo.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Primer Grupo (Llaves):</strong>
            <ul>
              <li>Paréntesis: (-10 ÷ 2) = -5.</li>
              <li>Multiplicación: [(-5) × (-3)] = 15 (menos por menos da más).</li>
              <li>Suma: {15 + 4} = 19.</li>
            </ul>
          </li>
          <li><strong>Segundo Grupo (Corchetes):</strong>
            <ul>
              <li>División: [(-8) ÷ (-4)] = 2.</li>
            </ul>
          </li>
          <li><strong>Operación Final:</strong> Restamos los resultados: 19 - 2 = 17.</li>
        </ol>
      `},{id:"jerarquia_5",texto:`
        <p><strong>Tema:</strong> Jerarquía de Operaciones.</p>
        <p><strong>Error común:</strong> No resolver completamente un lado de la división antes de intentar dividir. Hay que tener el resultado de la izquierda y el de la derecha antes de la división final.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Numerador (Primer Corchete):</strong>
            <ul>
              <li>Paréntesis: (-6 + 2) = -4.</li>
              <li>Multiplicación: [(-4) × 3] = -12.</li>
            </ul>
          </li>
          <li><strong>Denominador (Llaves):</strong>
            <ul>
              <li>Paréntesis interno: [1 - (-1)] = [1 + 1] = 2.</li>
              <li>Suma en llaves: {2 + 2} = 4.</li>
            </ul>
          </li>
          <li><strong>División Final:</strong> -12 ÷ 4 = -3.</li>
        </ol>
      `},{id:"jerarquia_6",texto:`
        <p><strong>Tema:</strong> Propiedad Cero de la Multiplicación.</p>
        <p><strong>Error común:</strong> No darse cuenta de que el primer grupo da cero y seguir calculando innecesariamente. Cualquier número multiplicado por cero es cero.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Primer Grupo (Llaves):</strong>
            <ul>
              <li>Paréntesis: (-5 - 1) = -6.</li>
              <li>División: [(-6) ÷ 3] = -2.</li>
              <li>Suma: {-2 + 2} = 0.</li>
            </ul>
          </li>
          <li><strong>Segundo Grupo (Corchetes):</strong> [4 - (-2)] = [4 + 2] = 6.</li>
          <li><strong>Multiplicación Final:</strong> 0 × 6 = 0. En cuanto vimos que el primer grupo era 0, ya sabíamos el resultado final.</li>
        </ol>
      `},{id:"jerarquia_7",texto:`
        <p><strong>Tema:</strong> Jerarquía de Operaciones con Signos.</p>
        <p><strong>Error común:</strong> Un error en la cadena de signos negativos en el segundo grupo: {-3-[-1-(-2)]}.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Primer Grupo (Corchetes):</strong>
            <ul>
              <li>División: (-12 ÷ 4) = -3.</li>
              <li>Suma: [-3 + 5] = 2.</li>
            </ul>
          </li>
          <li><strong>Segundo Grupo (Llaves):</strong>
            <ul>
              <li>Paréntesis interno: [-1 - (-2)] = [-1 + 2] = 1.</li>
              <li>Resta en llaves: {-3 - [1]} = -3 - 1 = -4.</li>
            </ul>
          </li>
          <li><strong>Multiplicación Final:</strong> 2 × (-4) = -8.</li>
        </ol>
      `},{id:"jerarquia_8",texto:`
        <p><strong>Tema:</strong> Jerarquía de Operaciones.</p>
        <p><strong>Error común:</strong> Calcular 3 - 5 antes de la multiplicación en el primer grupo, o un error de signos.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Primer Grupo (Llaves):</strong>
            <ul>
              <li>Paréntesis: (-6 ÷ 2) = -3.</li>
              <li>Suma: [(-3) + 4] = 1.</li>
              <li>Multiplicación: {1 × 3} = 3.</li>
            </ul>
          </li>
          <li><strong>Segundo Grupo (Corchetes):</strong> [5 - (-1)] = [5 + 1] = 6.</li>
          <li><strong>Resta Final:</strong> 3 - 6 = -3.</li>
        </ol>
      `},{id:"jerarquia_9",texto:`
        <p><strong>Tema:</strong> Propiedad Cero de la Multiplicación.</p>
        <p><strong>Error común:</strong> No reconocer que el segundo grupo se convierte en cero, lo que anula toda la operación.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Primer Grupo (Corchetes):</strong> [(-15 ÷ 5) + 2] = [-3 + 2] = -1.</li>
          <li><strong>Segundo Grupo (Llaves):</strong>
            <ul>
              <li>Paréntesis: [3 - (-1)] = [3 + 1] = 4.</li>
              <li>Resta en llaves: {4 - [4]} = 0.</li>
            </ul>
          </li>
          <li><strong>Multiplicación Final:</strong> -1 × 0 = 0.</li>
        </ol>
      `},{id:"jerarquia_10",texto:`
        <p><strong>Tema:</strong> Jerarquía de Operaciones.</p>
        <p><strong>Error común:</strong> Olvidar que la resta final ( - [(-4)÷(-2)] ) afecta al resultado de la división de signos negativos.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Primer Grupo (Llaves):</strong>
            <ul>
              <li>Paréntesis: (-10 ÷ 2) = -5.</li>
              <li>Suma: [(-5) + 3] = -2.</li>
              <li>Multiplicación: {(-2) × (-2)} = 4.</li>
            </ul>
          </li>
          <li><strong>Segundo Grupo (Corchetes):</strong> [(-4) ÷ (-2)] = 2.</li>
          <li><strong>Resta Final:</strong> 4 - 2 = 2.</li>
        </ol>
      `}],"Lenguaje Algebraico":[{id:"algebra_1",texto:`
        <p><strong>Tema:</strong> Traducción a Lenguaje Algebraico.</p>
        <p><strong>Error común:</strong> No usar paréntesis para agrupar "la diferencia entre el número y 21", lo que cambiaría completamente el significado de la operación.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Primera parte:</strong> "siete veces un número" se traduce como <code>7n</code>.</li>
          <li><strong>Segunda parte (la diferencia):</strong> "la diferencia entre el número y 21" se traduce como <code>(n - 21)</code>. Es crucial usar el paréntesis para tratar esta diferencia como una sola cantidad.</li>
          <li><strong>Tercera parte (multiplicación):</strong> "14 veces la diferencia..." se traduce como <code>14 * (n - 21)</code>.</li>
          <li><strong>Final (la suma):</strong> "El total de..." indica que debemos sumar la primera y la tercera parte: <code>7n + 14(n - 21)</code>.</li>
        </ol>
      `},{id:"algebra_2",texto:`
        <p><strong>Tema:</strong> Traducción a Lenguaje Algebraico.</p>
        <p><strong>Error común:</strong> No agrupar "la suma de un número y nueve" en un paréntesis, lo que haría que el "un tercio" solo afectara al número y no a la suma completa.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>La suma:</strong> "la suma de un número y nueve" se traduce como <code>(n + 9)</code>.</li>
          <li><strong>La fracción:</strong> "un tercio de la suma" significa dividir toda esa suma entre 3: <code>(n + 9) / 3</code>.</li>
          <li><strong>La resta:</strong> "Seis menos..." significa que a 6 le restamos el resultado anterior.</li>
          <li><strong>Expresión final:</strong> <code>6 - (n + 9) / 3</code>.</li>
        </ol>
      `},{id:"algebra_3",texto:`
        <p><strong>Tema:</strong> Traducción a Lenguaje Algebraico.</p>
        <p><strong>Error común:</strong> Interpretar "Diez menos que..." como <code>10 - ...</code>. En lenguaje algebraico, "10 menos que X" se traduce como <code>X - 10</code>.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>La diferencia:</strong> "la diferencia entre un número y 15" es <code>(n - 15)</code>.</li>
          <li><strong>El triple:</strong> "el triple de la diferencia" es <code>3 * (n - 15)</code>.</li>
          <li><strong>La resta final:</strong> "Diez menos que [el resultado anterior]" significa que al resultado anterior le restamos 10.</li>
          <li><strong>Expresión final:</strong> <code>3(n - 15) - 10</code>.</li>
        </ol>
      `},{id:"algebra_4",texto:`
        <p><strong>Tema:</strong> Ambigüedad en Lenguaje Algebraico.</p>
        <p><strong>Error común:</strong> Interpretar la frase como "la mitad de la suma de un número y 8", lo que se escribiría <code>(n+8)/2</code>. La falta de una coma crea ambigüedad, pero la interpretación estándar sigue el orden de operaciones.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Primera parte:</strong> "La mitad de un número" se traduce directamente a <code>n/2</code>.</li>
          <li><strong>Segunda parte:</strong> "incrementado en 8" significa que al resultado anterior le sumamos 8.</li>
          <li><strong>Expresión final:</strong> <code>n/2 + 8</code>.</li>
        </ol>
      `},{id:"algebra_5",texto:`
        <p><strong>Tema:</strong> Uso de Paréntesis en Álgebra.</p>
        <p><strong>Error común:</strong> Escribir <code>2n + 7</code>, lo cual se leería como "el doble de un número más siete". Los paréntesis son esenciales para indicar que el 2 multiplica a toda la suma.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Agrupar la suma:</strong> "la suma de un número y 7" se debe agrupar para tratarla como una sola entidad: <code>(n + 7)</code>.</li>
          <li><strong>Aplicar el doble:</strong> "El doble de..." significa multiplicar por 2 toda la expresión agrupada.</li>
          <li><strong>Expresión final:</strong> <code>2(n + 7)</code>.</li>
        </ol>
      `},{id:"algebra_6",texto:`
        <p><strong>Tema:</strong> Traducción a Lenguaje Algebraico.</p>
        <p><strong>Error común:</strong> Invertir el orden de la resta. "Cinco menos que X" es <code>X - 5</code>, no <code>5 - X</code>. Este último se leería "cinco menos un número al cuadrado".</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>El término principal:</strong> "el cuadrado de un número" se traduce como <code>n²</code>.</li>
          <li><strong>La resta:</strong> "Cinco menos que..." indica que al término principal le debemos restar 5.</li>
          <li><strong>Expresión final:</strong> <code>n² - 5</code>.</li>
        </ol>
      `},{id:"algebra_7",texto:`
        <p><strong>Tema:</strong> Uso de Paréntesis en Álgebra.</p>
        <p><strong>Error común:</strong> Omitir los paréntesis (<code>3n - 4</code>), lo que significaría "tres veces un número, menos 4", en lugar de multiplicar el 3 por el resultado de la resta.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Agrupar la diferencia:</strong> "la diferencia entre un número y 4" se agrupa como <code>(n - 4)</code>.</li>
          <li><strong>Aplicar la multiplicación:</strong> "Tres veces..." multiplica por 3 a todo el grupo.</li>
          <li><strong>Expresión final:</strong> <code>3(n - 4)</code>.</li>
        </ol>
      `},{id:"algebra_8",texto:`
        <p><strong>Tema:</strong> Traducción a Lenguaje Algebraico.</p>
        <p><strong>Error común:</strong> Confundir la expresión con "el cuadrado de la suma de un número y dos", que sería <code>(n + 2)²</code>.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Primer término:</strong> "Un número elevado al cuadrado" es <code>n²</code>.</li>
          <li><strong>Segundo término:</strong> "el doble del mismo número" es <code>2n</code>.</li>
          <li><strong>La conexión:</strong> La palabra "más" nos indica que debemos sumar los dos términos.</li>
          <li><strong>Expresión final:</strong> <code>n² + 2n</code>.</li>
        </ol>
      `},{id:"algebra_9",texto:`
        <p><strong>Tema:</strong> Ambigüedad en Lenguaje Algebraico.</p>
        <p><strong>Error común:</strong> Agrupar la resta antes de la división, como en <code>(n-6)/3</code>. Esto se leería "la tercera parte de la diferencia de un número y 6".</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Primer término:</strong> "La tercera parte de un número" se traduce como <code>n/3</code>.</li>
          <li><strong>Segundo término:</strong> "disminuido en 6" significa restar 6 al resultado anterior.</li>
          <li><strong>Expresión final:</strong> <code>n/3 - 6</code>.</li>
        </ol>
      `},{id:"algebra_10",texto:`
        <p><strong>Tema:</strong> Uso de Paréntesis en Álgebra.</p>
        <p><strong>Error común:</strong> Omitir el paréntesis (<code>4n + 9</code>), lo que se leería como "el producto de 4 y un número, más 9".</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Agrupar la suma:</strong> "la suma de un número con 9" se agrupa como <code>(n + 9)</code>.</li>
          <li><strong>Aplicar el producto:</strong> "El producto de 4 y..." significa multiplicar 4 por toda la expresión agrupada.</li>
          <li><strong>Expresión final:</strong> <code>4(n + 9)</code>.</li>
        </ol>
      `}],Ecuaciones:[{id:"ecuaciones_1",texto:`
        <p><strong>Tema:</strong> Ecuaciones de Primer Grado con Paréntesis.</p>
        <p><strong>Error común:</strong> Multiplicar el 3 solo por la 'm' y no por el 2 (error en la propiedad distributiva). Un método más rápido es dividir ambos lados por 3.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Método 1: Propiedad Distributiva</strong>
            <ul>
              <li>Multiplica el 3 por cada término dentro del paréntesis: <code>3*m + 3*2 = 21</code>, lo que da <code>3m + 6 = 21</code>.</li>
              <li>Resta 6 de ambos lados: <code>3m = 21 - 6</code>, lo que da <code>3m = 15</code>.</li>
              <li>Divide ambos lados entre 3: <code>m = 15 / 3</code>.</li>
              <li><strong>Resultado:</strong> <code>m = 5</code>.</li>
            </ul>
          </li>
          <li><strong>Método 2: División Directa</strong>
            <ul>
              <li>Como el 3 multiplica a todo el paréntesis, podemos dividir ambos lados de la ecuación por 3 directamente: <code>(m + 2) = 21 / 3</code>.</li>
              <li>Esto simplifica a <code>m + 2 = 7</code>.</li>
              <li>Resta 2 de ambos lados: <code>m = 7 - 2</code>.</li>
              <li><strong>Resultado:</strong> <code>m = 5</code>.</li>
            </ul>
          </li>
        </ol>
      `},{id:"ecuaciones_2",texto:`
        <p><strong>Tema:</strong> Ecuaciones con Variables en Ambos Lados.</p>
        <p><strong>Error común:</strong> Cometer errores con los signos al mover términos de un lado a otro de la ecuación.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Aplica la propiedad distributiva:</strong> En el lado derecho, multiplica el 3 por ambos términos: <code>3*y - 3*3</code>, lo que da <code>3y - 9</code>. La ecuación queda: <code>2y - 4 = 3y - 9</code>.</li>
          <li><strong>Agrupa las variables ('y'):</strong> Para evitar negativos, es buena idea mover el término más pequeño. Resta <code>2y</code> de ambos lados: <code>-4 = y - 9</code>.</li>
          <li><strong>Agrupa los números:</strong> Suma 9 a ambos lados para despejar 'y': <code>-4 + 9 = y</code>.</li>
          <li><strong>Resultado:</strong> <code>y = 5</code>.</li>
        </ol>
      `},{id:"ecuaciones_3",texto:`
        <p><strong>Tema:</strong> Ecuaciones con Fracciones.</p>
        <p><strong>Error común:</strong> Intentar multiplicar por 2 antes de aislar el término que contiene la fracción.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Aislar la fracción:</strong> Primero, debemos dejar el término <code>(z-1)/2</code> solo. Para ello, resta 3 de ambos lados: <code>(z-1)/2 = 7 - 3</code>, lo que da <code>(z-1)/2 = 4</code>.</li>
          <li><strong>Eliminar el denominador:</strong> Ahora, multiplica ambos lados por 2 para eliminar la fracción: <code>z - 1 = 4 * 2</code>, lo que da <code>z - 1 = 8</code>.</li>
          <li><strong>Despejar la variable:</strong> Finalmente, suma 1 a ambos lados: <code>z = 8 + 1</code>.</li>
          <li><strong>Resultado:</strong> <code>z = 9</code>.</li>
        </ol>
      `},{id:"ecuaciones_4",texto:`
        <p><strong>Tema:</strong> Ecuaciones con Paréntesis.</p>
        <p><strong>Error común:</strong> Errores al aplicar la propiedad distributiva o al agrupar términos semejantes.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Propiedad Distributiva:</strong> Expande el lado derecho: <code>2*(a) + 2*(8)</code>, lo que da <code>2a + 16</code>. La ecuación es: <code>4a + 6 = 2a + 16</code>.</li>
          <li><strong>Agrupa las 'a':</strong> Resta <code>2a</code> de ambos lados: <code>2a + 6 = 16</code>.</li>
          <li><strong>Agrupa los números:</strong> Resta 6 de ambos lados: <code>2a = 10</code>.</li>
          <li><strong>Despeja 'a':</strong> Divide ambos lados entre 2: <code>a = 5</code>.</li>
        </ol>
      `},{id:"ecuaciones_5",texto:`
        <p><strong>Tema:</strong> Ecuaciones con Variables en Ambos Lados.</p>
        <p><strong>Error común:</strong> Un simple error de signo al mover el -10 al otro lado (debe pasar sumando).</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Propiedad Distributiva:</strong> Expande el lado izquierdo: <code>5b - 10 = 3b + 4</code>.</li>
          <li><strong>Agrupa las 'b':</strong> Resta <code>3b</code> de ambos lados: <code>2b - 10 = 4</code>.</li>
          <li><strong>Agrupa los números:</strong> Suma 10 a ambos lados: <code>2b = 4 + 10</code>, lo que da <code>2b = 14</code>.</li>
          <li><strong>Despeja 'b':</strong> Divide ambos lados entre 2: <code>b = 7</code>.</li>
        </ol>
      `},{id:"ecuaciones_6",texto:`
        <p><strong>Tema:</strong> Ecuaciones Racionales (Multiplicación Cruzada).</p>
        <p><strong>Error común:</strong> No multiplicar correctamente en cruz o fallar al aplicar la propiedad distributiva después de cruzar.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Multiplicación Cruzada:</strong> Cuando tienes una fracción igual a otra, puedes multiplicar en cruz. El numerador de la izquierda por el denominador de la derecha, y viceversa. <code>2 * (2x + 1) = 3 * (x - 2)</code>.</li>
          <li><strong>Propiedad Distributiva:</strong> Expande ambos lados. Izquierda: <code>4x + 2</code>. Derecha: <code>3x - 6</code>. La ecuación queda: <code>4x + 2 = 3x - 6</code>.</li>
          <li><strong>Agrupa las 'x':</strong> Resta <code>3x</code> de ambos lados: <code>x + 2 = -6</code>.</li>
          <li><strong>Despeja 'x':</strong> Resta 2 de ambos lados: <code>x = -6 - 2</code>.</li>
          <li><strong>Resultado:</strong> <code>x = -8</code>.</li>
        </ol>
      `},{id:"ecuaciones_7",texto:`
        <p><strong>Tema:</strong> Ecuaciones con Signos de Agrupación.</p>
        <p><strong>Error común:</strong> El signo de resta antes de un paréntesis cambia el signo de TODO lo que está adentro. Un error frecuente es cambiar solo el signo del primer término: <code>6 - p + 1</code> en lugar de <code>6 - p - 1</code>.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Resolver Paréntesis:</strong> El signo negativo afecta a ambos términos dentro: <code>6 - p - 1 = 2p - 4</code>.</li>
          <li><strong>Simplifica:</strong> Combina los números en el lado izquierdo: <code>5 - p = 2p - 4</code>.</li>
          <li><strong>Agrupa las 'p':</strong> Suma <code>p</code> a ambos lados: <code>5 = 3p - 4</code>.</li>
          <li><strong>Agrupa los números:</strong> Suma 4 a ambos lados: <code>9 = 3p</code>.</li>
          <li><strong>Despeja 'p':</strong> Divide entre 3: <code>p = 3</code>.</li>
        </ol>
      `},{id:"ecuaciones_8",texto:`
        <p><strong>Tema:</strong> Ecuaciones de Primer Grado.</p>
        <p><strong>Error común:</strong> Errores de cálculo al aplicar la propiedad distributiva en ambos lados de la ecuación.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Distributiva Izquierda:</strong> <code>3(q - 4) + 2</code> se convierte en <code>3q - 12 + 2</code>, que simplifica a <code>3q - 10</code>.</li>
          <li><strong>Distributiva Derecha:</strong> <code>5(q - 2)</code> se convierte en <code>5q - 10</code>.</li>
          <li><strong>Ecuación Simplificada:</strong> <code>3q - 10 = 5q - 10</code>.</li>
          <li><strong>Agrupa los números:</strong> Suma 10 a ambos lados: <code>3q = 5q</code>.</li>
          <li><strong>Agrupa las 'q':</strong> Resta <code>3q</code> de ambos lados: <code>0 = 2q</code>.</li>
          <li><strong>Resultado:</strong> La única forma de que 2q sea 0 es si <code>q = 0</code>.</li>
        </ol>
      `},{id:"ecuaciones_9",texto:`
        <p><strong>Tema:</strong> Ecuaciones de Primer Grado.</p>
        <p><strong>Error común:</strong> No simplificar un lado de la ecuación antes de empezar a mover términos.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Simplifica el lado derecho:</strong> Primero, expande el paréntesis: <code>3(r + 1) - 2</code> se convierte en <code>3r + 3 - 2</code>, lo que simplifica a <code>3r + 1</code>.</li>
          <li><strong>Ecuación Simplificada:</strong> <code>2r + 5 = 3r + 1</code>.</li>
          <li><strong>Agrupa las 'r':</strong> Resta <code>2r</code> de ambos lados: <code>5 = r + 1</code>.</li>
          <li><strong>Despeja 'r':</strong> Resta 1 de ambos lados: <code>4 = r</code>.</li>
          <li><strong>Resultado:</strong> <code>r = 4</code>.</li>
        </ol>
      `},{id:"ecuaciones_10",texto:`
        <p><strong>Tema:</strong> Ecuaciones con Fracciones.</p>
        <p><strong>Error común:</strong> Multiplicar solo la fracción por el denominador (3) y olvidar multiplicar CADA término de la ecuación.</p>
        <p><strong>Análisis paso a paso:</strong></p>
        <ol>
          <li><strong>Eliminar la fracción:</strong> Para deshacernos del denominador 3, multiplicamos CADA término de la ecuación por 3.</li>
          <li><strong>Aplica la multiplicación:</strong> <code>3 * ((m+2)/3) + 3 * 7 = 3 * m + 3 * 1</code>.</li>
          <li><strong>Simplifica:</strong> Esto resulta en <code>(m + 2) + 21 = 3m + 3</code>.</li>
          <li><strong>Combina términos semejantes:</strong> <code>m + 23 = 3m + 3</code>.</li>
          <li><strong>Agrupa las 'm':</strong> Resta <code>m</code> de ambos lados: <code>23 = 2m + 3</code>.</li>
          <li><strong>Agrupa los números:</strong> Resta 3 de ambos lados: <code>20 = 2m</code>.</li>
          <li><strong>Despeja 'm':</strong> Divide entre 2: <code>m = 10</code>.</li>
        </ol>
      `}]};function Xb({historial:r,tema:e,onVolver:n}){const a=r.filter(m=>!m.esCorrecta),s=le.useRef(null);le.useEffect(()=>{a.length===0&&s.current&&s.current.play().catch(m=>console.log("La reproducción automática fue bloqueada por el navegador."))},[a.length]);const l=()=>{const m=r.length-a.length,y=r.length,g=m/y*100;return g>=90?"¡Garra de Jaguar! Estás a un paso de la perfección. ¡Sigue así y dominarás la selva del conocimiento!":g>=70?"¡Con la fuerza de un Jaguar! Has demostrado un gran progreso. Analiza estos puntos y tu próximo intento será impecable.":g>=50?"¡No te rindas, joven Jaguar! Cada error es una lección. Estás construyendo tu camino hacia la maestría.":"¡El camino del Jaguar empieza con un solo paso! Revisa estos conceptos, son la base para tu crecimiento. ¡Tú puedes!"},c=B6[e]||[],f=m=>{const y=c.find(g=>g.id===m);return y?y.texto:"<p>No hay una explicación detallada disponible para este reactivo.</p>"};return a.length===0?F.jsxs("div",{className:"ejercicio-integrador-container all-correct-container",children:[F.jsx("audio",{ref:s,src:"/urra.mp3",preload:"auto"}),F.jsx("img",{src:"/logo-jaguar.png",alt:"Felicitaciones",className:"felicitaciones-jaguar"}),F.jsx("h1",{className:"revision-title",children:"¡Felicidades, eres un Maestro Jaguar!"}),F.jsx("p",{className:"felicitaciones-texto",children:"¡Has respondido correctamente a todas las preguntas!"}),F.jsx("p",{className:"felicitaciones-texto",children:"Tu dedicación y agilidad mental son impresionantes. ¡Ningún desafío es demasiado grande para ti!"}),F.jsx("div",{className:"flex space-x-4 mt-8",children:F.jsx("button",{onClick:n,className:"btn-3d btn-gray",children:"Volver"})})]}):F.jsxs("div",{className:"ejercicio-integrador-container",children:[F.jsx("h1",{className:"revision-title",children:"¡Afila tus garras, Jaguar!"}),F.jsx("p",{className:"revision-subtitle",children:l()}),F.jsx("p",{className:"revision-subtitle",children:"Aquí tienes la retroalimentación de los reactivos a mejorar:"}),F.jsx("div",{className:"revision-list",children:a.map((m,y)=>{const{preguntaActual:g,respuestaUsuario:v}=m,_=f(g.id);return F.jsxs("div",{className:"revision-item",children:[g.imagen&&F.jsx("img",{src:`/images/${g.imagen}`,alt:"Reactivo",className:"reactivo-imagen"}),F.jsxs("p",{className:"revision-pregunta",children:[F.jsx("strong",{children:"Pregunta:"})," ",g.pregunta]}),F.jsxs("div",{className:"revision-respuestas",children:[F.jsxs("p",{children:["Tu respuesta:",F.jsx("span",{className:"respuesta-incorrecta",children:F.jsx(yu,{texto:v})})," ❌"]}),F.jsxs("p",{children:["Respuesta correcta:",F.jsx("span",{className:"respuesta-correcta",children:F.jsx(yu,{texto:g.respuesta_correcta})})]})]}),F.jsx("div",{className:"explicacion-box",dangerouslySetInnerHTML:{__html:_}})]},y)})}),F.jsx("div",{className:"flex space-x-4 mt-8",children:F.jsx("button",{onClick:n,className:"btn-3d btn-gray",children:"Volver"})})]})}const F6=({resultData:r,resultType:e,onGoToMenu:n})=>{const{studentName:a,groupKey:s}=r,[l,c]=le.useState(1),f=()=>{c(e==="integrador"?3:2)},m=()=>{let v=`*Resultados de Máticas Jaguar*

`;if(v+=`*Alumno:* ${a}
`,v+=`*Grupo:* ${s}

`,e==="quiz"){const I=Math.round(r.puntuacion/r.total*100);v+=`*Evaluación:* ${r.tema}
`,v+=`*Porcentaje de Aciertos:* ${I}%
`}else v+=`*Ejercicio Integrador:* ${r.ejercicioTitulo}

`,v+=`*Consigna 1:*
`,v+=`Respuesta: ${r.argumentosConsigna1||"No se proporcionó texto."}
`,r.fileUrlConsigna1&&(v+=`Archivo: ${r.fileUrlConsigna1}
`),r.audioUrl1&&(v+=`Nota de Voz: ${r.audioUrl1}
`),v+=`
`,(r.argumentosConsigna2||r.fileUrlConsigna2||r.audioUrl2)&&(v+=`*Consigna 2:*
`,v+=`Respuesta: ${r.argumentosConsigna2||"No se proporcionó texto."}
`,r.fileUrlConsigna2&&(v+=`Archivo: ${r.fileUrlConsigna2}
`),r.audioUrl2&&(v+=`Nota de Voz: ${r.audioUrl2}
`));const A=`https://wa.me/?text=${encodeURIComponent(v)}`;window.open(A,"_blank"),n()},y=()=>{switch(l){case 1:return F.jsxs("div",{className:"text-center",children:[F.jsx("h2",{className:"text-3xl font-bold mb-4 dark:text-white",children:"Resultados de la Evaluación"}),e==="quiz"?F.jsxs("p",{className:"text-2xl dark:text-gray-200",children:["Tu puntuación: ",F.jsxs("span",{className:"font-bold text-blue-500 dark:text-blue-400",children:[r.puntuacion," / ",r.total]})]}):F.jsx("p",{className:"text-2xl dark:text-gray-200",children:"Has completado el Ejercicio Integrador."})]});case 2:return F.jsx(Xb,{historial:r.historial,tema:r.tema,onVolver:()=>{}});case 3:return F.jsxs("div",{className:"text-center",children:[F.jsx("h2",{className:"text-3xl font-bold mb-4 dark:text-white",children:"Confirmar Envío"}),F.jsx("p",{className:"text-lg dark:text-gray-300 mb-6",children:"Estás a punto de enviar tus resultados. Se abrirá WhatsApp para que elijas un contacto."})]});default:return null}},g=()=>F.jsxs("div",{className:"flex flex-col items-center space-y-4 mt-8",children:[l===1&&F.jsx("button",{onClick:f,className:"btn-3d btn-blue w-full max-w-xs",children:"Continuar con Enviar Resultados"}),l===2&&F.jsx("button",{onClick:()=>c(3),className:"btn-3d btn-blue w-full max-w-xs",children:"Continuar para Enviar Resultados"}),l===3&&F.jsx("button",{onClick:m,className:"btn-3d btn-blue w-full max-w-xs",children:"Enviar por WhatsApp"}),F.jsx("button",{onClick:n,className:"btn-3d btn-gray w-full max-w-xs",children:"Volver al Menú Principal"})]});return F.jsxs("div",{className:"ejercicio-integrador-container",children:[y(),g()]})},H6=({onSelectEjercicio:r,onRegresar:e})=>F.jsxs("div",{className:"menu-principal",children:[F.jsx("h2",{className:"text-3xl font-bold mb-6 text-center text-orange-500 dark:text-white",children:"Selecciona un Ejercicio"}),F.jsx("div",{className:"main-menu-buttons",children:vg.map(n=>F.jsx("button",{onClick:()=>r(n.id),className:"btn-3d btn-blue w-full max-w-lg whitespace-pre-line",children:n.title},n.id))}),F.jsx("div",{className:"text-center mt-8",children:F.jsx("button",{onClick:e,className:"btn-3d btn-gray",children:"Volver al Menú Principal"})})]}),N0=["JAGUAR","TIGRE","PUMA","LEON","SOL","LUNA","ESTRELLA","COMETA"];function G6(){const r=N0[Math.floor(Math.random()*N0.length)],e=Math.floor(Math.random()*9e3)+1e3;return`${r}-${e}`}const Q6=({onRegresar:r})=>{const[e,n]=le.useState(null),a=()=>{n(G6())};return F.jsxs("div",{className:"text-center p-6 bg-white dark:bg-gray-800 rounded-lg shadow-xl",children:[F.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800 dark:text-white",children:"Generador de Clave para Maestros"}),e?F.jsxs("div",{className:"mt-6",children:[F.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:["¡Tu clave única ha sido generada! ",F.jsx("br",{}),"Anótala, guárdala en un lugar seguro y compártela con tus alumnos."]}),F.jsx("div",{className:"bg-gray-200 dark:bg-gray-900 p-4 rounded-lg",children:F.jsx("p",{className:"text-3xl font-mono font-bold text-blue-600 dark:text-blue-400 tracking-widest",children:e})}),F.jsxs("p",{className:"text-sm text-red-500 dark:text-red-400 mt-4",children:[F.jsx("strong",{children:"Importante:"})," Si pierdes esta clave, no podrás ver los resultados de tus alumnos."]})]}):F.jsxs(F.Fragment,{children:[F.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Aquí puedes generar una clave única para tu clase. Deberás compartir esta clave con tus alumnos para que puedan registrar sus resultados bajo tu seguimiento."}),F.jsx("button",{onClick:a,className:"btn-3d btn-blue",children:"Generar mi Clave Única"})]}),F.jsx("div",{className:"mt-8",children:F.jsx("button",{onClick:r,className:"btn-3d btn-gray",children:"Volver al Inicio"})})]})},K6=({onRegresar:r})=>{const[e,n]=le.useState(""),[a,s]=le.useState([]),[l,c]=le.useState(!1),[f,m]=le.useState(null),[y,g]=le.useState(!1),v=async()=>{if(!e){m("Por favor, introduce la Clave de la Clase.");return}c(!0),m(null),s([]),g(!0);try{const A=pu(gu,"resultados"),I=yb(A,_b("groupKey","==",e),vb("createdAt","desc")),q=await Tb(I),V=[];q.forEach(k=>{V.push({id:k.id,...k.data()})}),s(V)}catch(A){console.error("Error al buscar resultados: ",A),m("Ocurrió un error al buscar los resultados. Inténtalo de nuevo.")}finally{c(!1)}},_=A=>{var q;const I=((q=A.createdAt)==null?void 0:q.toDate().toLocaleString())||"Fecha no disponible";return F.jsxs("tr",{className:"bg-white dark:bg-gray-800 border-b dark:border-gray-700",children:[F.jsx("td",{className:"py-4 px-6",children:A.studentName}),F.jsx("td",{className:"py-4 px-6",children:A.type==="quiz"?`Evaluación: ${A.tema}`:`Integrador: ${A.ejercicioTitulo}`}),F.jsx("td",{className:"py-4 px-6 text-center",children:A.type==="quiz"?`${A.puntuacion}/${A.total}`:"N/A"}),F.jsx("td",{className:"py-4 px-6",children:I})]},A.id)};return F.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-900 rounded-lg shadow-xl w-full max-w-4xl mx-auto",children:[F.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800 dark:text-white",children:"Visor de Resultados de la Clase"}),F.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Introduce la Clave de la Clase que generaste para ver los resultados de tus alumnos."}),F.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[F.jsx("input",{type:"text",value:e,onChange:A=>n(A.target.value),placeholder:"Introduce tu Clave de la Clase...",className:"input-3d w-full"}),F.jsx("button",{onClick:v,className:"btn-3d btn-blue",disabled:l,children:l?"Buscando...":"Buscar"})]}),f&&F.jsx("p",{className:"text-red-500 text-center mb-4",children:f}),y&&!l&&F.jsx("div",{children:a.length>0?F.jsx("div",{className:"overflow-x-auto relative shadow-md sm:rounded-lg",children:F.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[F.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-100 dark:bg-gray-700 dark:text-gray-400",children:F.jsxs("tr",{children:[F.jsx("th",{scope:"col",className:"py-3 px-6",children:"Alumno"}),F.jsx("th",{scope:"col",className:"py-3 px-6",children:"Actividad"}),F.jsx("th",{scope:"col",className:"py-3 px-6 text-center",children:"Resultado"}),F.jsx("th",{scope:"col",className:"py-3 px-6",children:"Fecha"})]})}),F.jsx("tbody",{children:a.map(_)})]})}):F.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 mt-8",children:"No se encontraron resultados para esta clave."})}),F.jsx("div",{className:"mt-8 text-center",children:F.jsx("button",{onClick:r,className:"btn-3d btn-gray",children:"Volver al Inicio"})})]})},Y6=({onRegresar:r})=>{const[e,n]=le.useState(null),[a,s]=le.useState(!0),[l,c]=le.useState([]),[f,m]=le.useState(null),[y,g]=le.useState(null);le.useEffect(()=>{const _=Dp(fp,A=>{n(A),s(!1)});return()=>_()},[]),le.useEffect(()=>{!a&&e&&(async()=>{if(e){s(!0),m(null),c([]);try{const A=pu(gu,"resultados"),I=yb(A,_b("userId","==",e.uid),vb("createdAt","desc")),q=await Tb(I),V=[];q.forEach(k=>{V.push({id:k.id,...k.data()})}),c(V)}catch(A){console.error("Error al buscar resultados históricos: ",A),m("Ocurrió un error al buscar tus resultados. Inténtalo de nuevo.")}finally{s(!1)}}})()},[e,a]);const v=_=>{g(_)};return a?F.jsx("div",{className:"text-center p-10 dark:text-white",children:"Cargando tus resultados..."}):e?y?F.jsx(Xb,{historial:y.historial,tema:y.tema,onVolver:()=>g(null)}):F.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-900 rounded-lg shadow-xl w-full max-w-4xl mx-auto",children:[F.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800 dark:text-white",children:"Mis Resultados Históricos"}),F.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Aquí puedes ver un historial de tus evaluaciones y ejercicios integradores."}),f&&F.jsx("p",{className:"text-red-500 text-center mb-4",children:f}),l.length>0?F.jsx("div",{className:"overflow-x-auto relative shadow-md sm:rounded-lg",children:F.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[F.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-100 dark:bg-gray-700 dark:text-gray-400",children:F.jsxs("tr",{children:[F.jsx("th",{scope:"col",className:"py-3 px-6",children:"Actividad"}),F.jsx("th",{scope:"col",className:"py-3 px-6 text-center",children:"Resultado"}),F.jsx("th",{scope:"col",className:"py-3 px-6",children:"Fecha"}),F.jsx("th",{scope:"col",className:"py-3 px-6",children:"Acciones"})]})}),F.jsx("tbody",{children:l.map(_=>{var I;const A=((I=_.createdAt)==null?void 0:I.toDate().toLocaleString())||"Fecha no disponible";return F.jsxs("tr",{className:"bg-white dark:bg-gray-800 border-b dark:border-gray-700",children:[F.jsx("td",{className:"py-4 px-6",children:_.type==="quiz"?`Evaluación: ${_.tema}`:`Integrador: ${_.ejercicioTitulo}`}),F.jsx("td",{className:"py-4 px-6 text-center",children:_.type==="quiz"?`${_.puntuacion}/${_.total}`:"N/A"}),F.jsx("td",{className:"py-4 px-6",children:A}),F.jsx("td",{className:"py-4 px-6",children:_.type==="quiz"&&F.jsx("button",{onClick:()=>v(_),className:"font-medium text-blue-600 dark:text-blue-500 hover:underline",children:"Ver Detalle"})})]},_.id)})})]})}):F.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 mt-8",children:"No has completado ninguna actividad aún."}),F.jsx("div",{className:"mt-8 text-center",children:F.jsx("button",{onClick:r,className:"btn-3d btn-gray",children:"Volver al Menú Principal"})})]}):F.jsx("div",{className:"text-center p-10 dark:text-white",children:"Debes iniciar sesión para ver tus resultados históricos."})},D0=[{id:"recta_numerica_1",materia:"Matemáticas",tema:"Recta Numérica",pregunta:"¿A qué fracción corresponde la longitud del segmento azul si A es igual a 1?",imagen:"Reactivo1.png",opciones:["3/5","7/10","1/2","7/8"],respuesta_correcta:"7/10",explicacion:"Paso 1: Identifica el total de divisiones. La recta desde 0 hasta 1 (punto A) está dividida en 10 partes iguales. Esto significa que el denominador será 10. Paso 2: Cuenta las divisiones del segmento azul. El segmento azul abarca 7 de esas 10 divisiones. Por lo tanto, la fracción es 7/10."},{id:"recta_numerica_2",materia:"Matemáticas",tema:"Recta Numérica",pregunta:"¿A qué fracción corresponde la longitud del segmento azul si B es igual a 1?",imagen:"Reactivo2.png",opciones:["7/14","1/2","7/8","7/10"],respuesta_correcta:"7/14",explicacion:"Paso 1: Observa el total de divisiones en la unidad. La recta desde 0 hasta 1 (punto B) está dividida en 14 partes iguales, así que el denominador es 14. Paso 2: Cuenta las marcas que abarca el segmento azul. El segmento llega hasta la séptima marca. La fracción correspondiente es 7/14."},{id:"recta_numerica_3",materia:"Matemáticas",tema:"Recta Numérica",pregunta:"¿A qué fracción corresponde la longitud del segmento azul si C es igual a 1?",imagen:"Reactivo3.png",opciones:["1/2","3/5","7/18","7/8"],respuesta_correcta:"7/18",explicacion:"Paso 1: Determina el denominador contando las divisiones totales desde 0 hasta 1 (punto C). Hay 18 divisiones en total. Paso 2: Determina el numerador contando las divisiones que ocupa el segmento azul. El segmento ocupa 7 divisiones. Por lo tanto, la fracción es 7/18."},{id:"recta_numerica_4",materia:"Matemáticas",tema:"Recta Numérica",pregunta:"¿Cuál es el número decimal indicado por la flecha roja en la recta numérica?",imagen:"Reactivo4.png",opciones:["5.91","5.99","5.19","5.999"],respuesta_correcta:"5.99",explicacion:"La flecha está ubicada justo antes del número 6. La recta entre el 5 y el 6 está dividida en 10 partes, representando las décimas. La flecha está en la novena décima (5.9). A su vez, el espacio entre 5.9 y 6.0 está dividido en 10 partes (centésimas). La flecha está en la novena de esas partes. Por lo tanto, el número es 5.99."},{id:"recta_numerica_5",materia:"Matemáticas",tema:"Recta Numérica",pregunta:"¿Qué número mixto representa la ubicación de la flecha azul?",imagen:"Reactivo5.png",opciones:["1 2/10","1 1/6","1 1/4","1 1/8"],respuesta_correcta:"1 2/10",explicacion:"Paso 1: Identifica la parte entera. La flecha está después del 1 y antes del 2, por lo que la parte entera es 1. Paso 2: Identifica la parte fraccionaria. El espacio entre 1 y 2 está dividido en 10 partes iguales. La flecha está en la segunda de esas partes. Por lo tanto, la fracción es 2/10. El número mixto es 1 2/10."},{id:"recta_numerica_6",materia:"Matemáticas",tema:"Recta Numérica",pregunta:"¿Qué fracción, en su forma más simple, representa la parte pintada?",imagen:"Reactivo6.png",opciones:["3/6","3/5","2/3","1/2"],respuesta_correcta:"1/2",explicacion:"Paso 1: Escribe la fracción inicial. El círculo está dividido en 6 partes iguales y 3 de ellas están pintadas. La fracción es 3/6. Paso 2: Simplifica la fracción. Buscamos el máximo común divisor de 3 y 6, que es 3. Dividimos el numerador y el denominador entre 3: (3 ÷ 3) / (6 ÷ 3) = 1/2."},{id:"recta_numerica_7",materia:"Matemáticas",tema:"Recta Numérica",pregunta:"¿Cuál es el número que corresponde al punto señalado con la flecha azul?",imagen:"Reactivo7.png",opciones:["2/3","2/5","3 1/3","0.66"],respuesta_correcta:"3 1/3",explicacion:"Paso 1: Identifica la parte entera. La flecha se encuentra después del 3, por lo tanto, el entero es 3. Paso 2: Identifica la fracción. El espacio entre el 3 y el 4 está dividido en 3 partes iguales, y la flecha está en la primera de esas partes. La fracción es 1/3. El número mixto es 3 1/3."},{id:"recta_numerica_8",materia:"Matemáticas",tema:"Recta Numérica",pregunta:"¿Qué número decimal representa el punto k en la recta numérica?",imagen:"Reactivo8.png",opciones:["6.7","6 7/10","6.07","6.71"],respuesta_correcta:"6.07",explicacion:"La recta está mostrando un 'zoom' entre 6 y 6.1. Este espacio está dividido en 10 partes, que representan las centésimas. El punto k está en la séptima de estas divisiones. Por lo tanto, el número es 6.0 (la décima inicial) más 7 centésimas, es decir, 6.07."},{id:"recta_numerica_9",materia:"Matemáticas",tema:"Recta Numérica",pregunta:"¿Qué número mixto representa la flecha en la recta numérica?",imagen:"Reactivo9.png",opciones:["3.35","3 345/1000","3.5","3 35/100"],respuesta_correcta:"3 345/1000",explicacion:"La flecha está a la mitad entre 3.34 y 3.35, lo que corresponde a 3.345. Para convertirlo a número mixto, la parte entera es 3. La parte decimal es .345, que se escribe como la fracción 345/1000. El resultado es 3 345/1000."},{id:"recta_numerica_10",materia:"Matemáticas",tema:"Recta Numérica",pregunta:"¿Qué números mixtos representan las flechas en la recta numérica?",imagen:"Reactivo10.png",opciones:["2 1/5 y 3 2/5","2 2/5 y 3 4/5","2 2/5 y 3 3/5","2 3/5 y 3 2/5"],respuesta_correcta:"2 2/5 y 3 3/5",explicacion:"Análisis de la recta: Entre cada número entero (de 2 a 3, y de 3 a 4), el espacio está dividido en 5 partes iguales. Por lo tanto, cada marca representa un quinto (1/5). Primera flecha: Está entre 2 y 3, en la segunda marca. Esto representa el número 2 y 2/5. Segunda flecha: Está entre 3 y 4, en la tercera marca. Esto representa el número 3 y 3/5."},{id:"sucesiones_1",materia:"Matemáticas",tema:"Sucesiones",pregunta:"¿Cuántos cuadritos tendrá la figura 6?",imagen:"Reactivo1_suce.png",opciones:["25","27","23","36"],respuesta_correcta:"25",explicacion:"La secuencia de cuadritos sigue el patrón de 4n+1. Para la figura 6, el número de cuadritos será 4(6)+1 = 25."},{id:"sucesiones_2",materia:"Matemáticas",tema:"Sucesiones",pregunta:"¿Cuántos círculos tendrá la figura 7?",imagen:"Reactivo2_suce.png",opciones:["19","22","23","24"],respuesta_correcta:"22",explicacion:"Observa el patrón de aumento. Figura 1: 4 círculos. Figura 2: 7 (+3). Figura 3: 10 (+3). Figura 4: 13 (+3). La regla es 'sumar 3' al término anterior. La regla algebraica es 3n+1. Para la figura 7: (3 * 7) + 1 = 21 + 1 = 22 círculos."},{id:"sucesiones_3",materia:"Matemáticas",tema:"Sucesiones",pregunta:"¿Cuál es la regla para encontrar el número de cuadritos que tendrá la figura n?",imagen:"Reactivo3_suce.png",opciones:["n²","n + 2","2n - 1","3n - 2"],respuesta_correcta:"2n - 1",explicacion:"Analicemos la secuencia. Figura 1: 1 cuadrito. Figura 2: 3 cuadritos. Figura 3: 5 cuadritos. La secuencia aumenta de 2 en 2. Probemos la regla '2n-1'. Para n=1: 2(1)-1=1. Para n=2: 2(2)-1=3. Para n=3: 2(3)-1=5. La regla '2n - 1' funciona correctamente."},{id:"sucesiones_4",materia:"Matemáticas",tema:"Sucesiones",pregunta:"¿Cuántos puntos tendrá la figura numero 10?",imagen:"Reactivo4_suce.png",opciones:["38","39","40","41"],respuesta_correcta:"40",explicacion:"La secuencia de puntos sigue el patrón de 4n. Para la figura 10, el número de puntos será 4(10) = 40."},{id:"sucesiones_5",materia:"Matemáticas",tema:"Sucesiones",pregunta:"¿Cuál es la regla para encontrar el número de triángulos iguales que tendrá la figura n?",imagen:"Reactivo5_suce.png",opciones:["3n - 1","n(n+1)","n²","2n"],respuesta_correcta:"n²",explicacion:"Contemos los triángulos. Figura 1: 1. Figura 2: 4. Figura 3: 9. La secuencia es 1, 4, 9,... que son los cuadrados de los números de figura. Para n=1, 1²=1. Para n=2, 2²=4. Para n=3, 3²=9. La regla general es n²."},{id:"sucesiones_6",materia:"Matemáticas",tema:"Sucesiones",pregunta:"¿Cuál es la regla para encontrar el número de cubos que tendrá la figura n?",imagen:"Reactivo6_suce.png",opciones:["2n","2n + 1","3n - 1","4n - 2"],respuesta_correcta:"2n + 1",explicacion:"Analicemos la cantidad de cubos. Figura 1: 3. Figura 2: 5. Figura 3: 7. La secuencia aumenta de 2 en 2. Esto indica que la regla tiene '2n'. Probemos '2n+1'. Para n=1: 2(1)+1=3. Para n=2: 2(2)+1=5. Para n=3: 2(3)+1=7. La regla es correcta."},{id:"sucesiones_7",materia:"Matemáticas",tema:"Sucesiones",pregunta:"¿Cuántos puntos tendrá la figura 9 para seguir la secuencia?",imagen:"Reactivo7_suce.png",opciones:["43","44","45","46"],respuesta_correcta:"46",explicacion:"Contemos los puntos. Figura 1: 6. Figura 2: 11 (+5). Figura 3: 16 (+5). La secuencia aumenta de 5 en 5. La regla es 5n+1. Para la figura 9: (5 * 9) + 1 = 45 + 1 = 46 puntos."},{id:"sucesiones_8",materia:"Matemáticas",tema:"Sucesiones",pregunta:"¿Cuál es la expresión algebraica que se usó para completar la tabla?",imagen:"Reactivo8_suce.png",opciones:["e = 3f - 1","e = 3f","e = 3f + 2","e = 3f + 1"],respuesta_correcta:"e = 3f + 2",explicacion:"Para encontrar la regla, veamos la relación entre 'f' y 'e'. Cuando f=1, e=5. Cuando f=2, e=8 (+3). Cuando f=3, e=11 (+3). El aumento constante de 3 indica que la regla contiene '3f'. Probemos '3f+2'. Para f=1: 3(1)+2=5. Para f=2: 3(2)+2=8. Para f=3: 3(3)+2=11. La expresión es e = 3f+2."},{id:"sucesiones_9",materia:"Matemáticas",tema:"Sucesiones",pregunta:"¿Cuál es la expresión algebraica que se usó para completar la tabla?",imagen:"Reactivo9_suce.png",opciones:["p = 2n - 1","p = 2n + 1","p = 2n + 2","p = n + 1"],respuesta_correcta:"p = 2n + 2",explicacion:"Analicemos la tabla. Cuando n=1, p=4. Cuando n=2, p=6 (+2). Cuando n=3, p=8 (+2). El aumento constante de 2 significa que la regla tiene '2n'. Probemos '2n+2'. Para n=1: 2(1)+2=4. Para n=2: 2(2)+2=6. Para n=3: 2(3)+2=8. La regla es p = 2n+2."},{id:"sucesiones_10",materia:"Matemáticas",tema:"Sucesiones",pregunta:"¿Cuál es la expresión algebraica que se usó para completar la tabla?",imagen:"Reactivo10_suce.png",opciones:["y = 3x - 1","y = 3x + 5","y = 3x + 2","y = x + 4"],respuesta_correcta:"y = 3x + 5",explicacion:"Veamos la relación en la tabla. Cuando x=1, y=8. Cuando x=2, y=11 (+3). Cuando x=3, y=14 (+3). El incremento de 3 nos dice que la regla incluye '3x'. Probemos '3x+5'. Para x=1: 3(1)+5=8. Para x=2: 3(2)+5=11. Para x=3: 3(3)+5=14. La expresión es y = 3x+5."},{id:"perimetro_1",materia:"Matemáticas",tema:"Perímetro",pregunta:"¿Cuál es la expresión para el perímetro de la figura?",imagen:"Reactivo1_peri.png",opciones:["8m+2mn+n","8m+4n","5n+4m+n","10m+4n"],respuesta_correcta:"10m+4n",explicacion:"El perímetro es la suma de todos los lados. Sumamos: 5m + 2n + 5m + 2n. Paso 1: Agrupamos términos con 'm': 5m + 5m = 10m. Paso 2: Agrupamos términos con 'n': 2n + 2n = 4n. La expresión final es 10m + 4n."},{id:"perimetro_2",materia:"Matemáticas",tema:"Perímetro",pregunta:"¿Cuál es la expresión para el perímetro del trapecio isosceles?",imagen:"Reactivo2_peri.png",opciones:["16y + 11","16y + 12","16y + 18","16y + 19"],respuesta_correcta:"16y + 18",explicacion:"Sumamos todos los lados: (8y+3) + 6 + (8y+3) + 6. Paso 1: Sumamos los términos con 'y': 8y + 8y = 16y. Paso 2: Sumamos los números: 3 + 6 + 3 + 6 = 18. El perímetro total es 16y + 18."},{id:"perimetro_3",materia:"Matemáticas",tema:"Perímetro",pregunta:"¿Cuál es la expresión para el perímetro de la figura?",imagen:"Reactivo3_peri.png",opciones:["6x + 7","6x + 14","6x + 10","5x + 12"],respuesta_correcta:"6x + 14",explicacion:"El perímetro es la suma de los tres lados del triángulo: (2x+5) + (x+7) + (3x+2). Paso 1: Sumamos los términos con 'x': 2x + x + 3x = 6x. Paso 2: Sumamos los números: 5 + 7 + 2 = 14. La expresión es 6x + 14."},{id:"perimetro_4",materia:"Matemáticas",tema:"Perímetro",pregunta:"¿Cuál es la expresión para el perímetro de la figura?",imagen:"Reactivo4_peri.png",opciones:["8x + 10","8x + 11","8x + 6","8x + 12"],respuesta_correcta:"8x + 6",explicacion:"Sumamos los cinco lados del pentágono: x + (2x+1) + (3x+5) + x + x. Paso 1: Agrupamos las 'x': x + 2x + 3x + x + x = 8x. Paso 2: Agrupamos los números: 1 + 5 = 6. El perímetro es 8x + 6."},{id:"perimetro_5",materia:"Matemáticas",tema:"Perímetro",pregunta:"¿Cuál es la expresión para el perímetro de la figura?",imagen:"Reactivo5_peri.png",opciones:["7x + 8","7x - 8","7x + 6","7x + 7"],respuesta_correcta:"7x + 8",explicacion:"Sumamos los tres lados: (x+2) + (3x+4) + (3x+2). Paso 1: Sumamos los términos con 'x': x + 3x + 3x = 7x. Paso 2: Sumamos los números: 2 + 4 + 2 = 8. La expresión del perímetro es 7x + 8."},{id:"perimetro_6",materia:"Matemáticas",tema:"Perímetro",pregunta:"¿Cuánto mide el perímetro de la figura, considera π=3.14?",imagen:"Reactivo6_peri.png",opciones:["21.56 cm","27.85 cm","24.13 cm","23.75 cm"],respuesta_correcta:"27.85 cm",explicacion:"Análisis paso a paso: 1. Descompón la figura: El perímetro es la suma de todos los segmentos y curvas del contorno. 2. Suma los lados rectos: La figura tiene dos lados horizontales de 7 cm y dos lados inclinados de 3 cm. Su suma es: 7 + 7 + 3 + 3 = 20 cm. 3. Calcula la longitud de la curva: Se incluye una media circunferencia de 5 cm de diámetro. Su longitud es (π × 5) / 2 = 7.85 cm. 4. Calcula el perímetro total: Se suma todo: 20 cm (lados rectos) + 7.85 cm (curva). 5. Resultado: El perímetro total es 27.85 cm."},{id:"perimetro_7",materia:"Matemáticas",tema:"Perímetro",pregunta:"¿Cuánto mide el perímetro de la línea azul, considera π=3.14?",imagen:"Reactivo7_peri.png",opciones:["33.12 cm","34.53 cm","26.84 cm","27.15 cm"],respuesta_correcta:"26.84 cm",explicacion:"La figura tiene 2 lados de 4cm y dos semicircunferencias. Las dos semicircunferencias juntas forman una circunferencia completa. El diámetro es 6cm. Paso 1: Calcular el perímetro de la circunferencia completa: P = π * d = 3.14 * 6 = 18.84 cm. Paso 2: Sumar los lados rectos: 4 cm + 4 cm = 8 cm. Paso 3: Sumar todo: 18.84 cm + 8 cm = 26.84 cm."},{id:"perimetro_8",materia:"Matemáticas",tema:"Perímetro",pregunta:"¿Cuánto mide el perímetro de la parte roja, considera π=3.14?",imagen:"Reactivo8_peri.png",opciones:["18.84 cm","20.14 cm","19.4 cm","21.8 cm"],respuesta_correcta:"18.84 cm",explicacion:"La parte roja es una circunferencia completa. Se nos da el radio, que es la mitad del lado del cuadrado: radio = 6 cm / 2 = 3 cm. El diámetro es el doble del radio: d = 6 cm. El perímetro de una circunferencia es P = π * d = 3.14 * 6 cm = 18.84 cm."},{id:"perimetro_9",materia:"Matemáticas",tema:"Perímetro",pregunta:"¿Cuánto mide el perímetro de la figura sombreada, considera π=3.14?",imagen:"Reactivo9_peri.png",opciones:["20.14 cm","18.84 cm","19.4 cm","21.8 cm"],respuesta_correcta:"18.84 cm",explicacion:"El perímetro de la figura sombreada es el contorno. Consiste en 4 cuartos de círculo. Juntos, los 4 cuartos forman una circunferencia completa. El radio de cada cuarto es 3 cm. El diámetro de la circunferencia completa sería 6 cm. P = π * d = 3.14 * 6 = 18.84 cm."},{id:"perimetro_10",materia:"Matemáticas",tema:"Perímetro",pregunta:"¿Cuánto mide el perímetro de la parte azul, considera π=3.14?",imagen:"Reactivo10_peri.png",opciones:["21.12 cm","21.58 cm","21.42 cm","21.76 cm"],respuesta_correcta:"21.42 cm",explicacion:"El perímetro se compone de 2 lados rectos de 6 cm y media circunferencia. Paso 1: El diámetro de la semicircunferencia es 3 cm. Su perímetro es (π * d) / 2 = (3.14 * 3) / 2 = 9.42 / 2 = 4.71 cm. Este cálculo es incorrecto. El radio es 3cm, diámetro es 6cm. Perímetro semicírculo: (3.14*6)/2 = 9.42cm. Paso 2: Sumar los lados rectos (radios): 6cm + 6cm = 12cm. Paso 3: Suma total: 12cm + 9.42cm = 21.42cm."},{id:"jerarquia_1",materia:"Matemáticas",tema:"Jerarquía de Operaciones",pregunta:"¿Cuál es el resultado de la operación? {[(-4 + 6) × 3] - 5} ÷ (-1)",opciones:["1","-1","3","-3"],respuesta_correcta:"-1",explicacion:"Seguimos la jerarquía: 1. Paréntesis: (-4+6) = 2. 2. Corchetes: [2 × 3] = 6. 3. Llaves: {6 - 5} = 1. 4. División final: 1 ÷ (-1) = -1."},{id:"jerarquia_2",materia:"Matemáticas",tema:"Jerarquía de Operaciones",pregunta:"¿Cuál es el resultado de la operación? [(-8÷2) + 5 ] × { 3 - [1 + (−2)]}",opciones:["9","-3","6","4"],respuesta_correcta:"4",explicacion:"Primer paréntesis: [(-8÷2)+5] = [-4+5] = 1. Segundo paréntesis: {3-[1-2]} = {3-[-1]} = {3+1} = 4. Multiplicación final: 1 × 4 = 4."},{id:"jerarquia_3",materia:"Matemáticas",tema:"Jerarquía de Operaciones",pregunta:"¿Cuál es el resultado de la operación? -3 + [4 × (2 - 5)] - {-6 ÷ 2}",opciones:["-6","-12","0","-9"],respuesta_correcta:"-12",explicacion:"Resolvemos por partes. Paréntesis: (2-5) = -3. Corchetes: [4 × -3] = -12. Llaves: {-6 ÷ 2} = -3. Operación completa: -3 + (-12) - (-3) = -3 - 12 + 3 = -12."},{id:"jerarquia_4",materia:"Matemáticas",tema:"Jerarquía de Operaciones",pregunta:"¿Cuál es el resultado de la operación? {[(-10÷2)×(-3)]+4} - [(-8)÷(-4)]",opciones:["17","15","13","11"],respuesta_correcta:"17",explicacion:"Primer corchete: {[(-5)×(-3)]+4} = {[15]+4} = 19. Segundo corchete: [(-8)÷(-4)] = 2. Resta final: 19 - 2 = 17."},{id:"jerarquia_5",materia:"Matemáticas",tema:"Jerarquía de Operaciones",pregunta:"¿Cuál es el resultado de la operación? [(-6+2)×3] ÷ {2+[1-(-1)]}",opciones:["-6","-3","3","6"],respuesta_correcta:"-3",explicacion:"Primer corchete: [(-4)×3] = -12. Segundo grupo: {2+[1+1]} = {2+2} = 4. División final: -12 ÷ 4 = -3."},{id:"jerarquia_6",materia:"Matemáticas",tema:"Jerarquía de Operaciones",pregunta:"¿Cuál es el resultado de la operación? {[(-5-1)÷3]+2} × [4-(-2)]",opciones:["24","0","6","4"],respuesta_correcta:"0",explicacion:"Primer grupo: {[(-6)÷3]+2} = {[-2]+2} = 0. Segundo corchete: [4+2] = 6. Multiplicación final: 0 × 6 = 0."},{id:"jerarquia_7",materia:"Matemáticas",tema:"Jerarquía de Operaciones",pregunta:"¿Cuál es el resultado de la operación? [(-12÷4)+5] × {-3-[-1-(-2)]}",opciones:["0","-4","4","-8"],respuesta_correcta:"-8",explicacion:"Primer corchete: [(-3)+5] = 2. Segundo grupo: {-3-[-1+2]} = {-3-[1]} = -3-1 = -4. Multiplicación final: 2 × (-4) = -8."},{id:"jerarquia_8",materia:"Matemáticas",tema:"Jerarquía de Operaciones",pregunta:"¿Cuál es el resultado de la operación? {[(-6÷2)+4]×3} - [5-(-1)]",opciones:["-3","0","3","6"],respuesta_correcta:"-3",explicacion:"Primer grupo: {[(-3)+4]×3} = {[1]×3} = 3. Segundo corchete: [5+1] = 6. Resta final: 3 - 6 = -3."},{id:"jerarquia_9",materia:"Matemáticas",tema:"Jerarquía de Operaciones",pregunta:"¿Cuál es el resultado de la operación? [(-15÷5)+2] × {4-[3-(-1)]}",opciones:["0","-2","2","-4"],respuesta_correcta:"0",explicacion:"Primer corchete: [(-3)+2] = -1. Segundo grupo: {4-[3+1]} = {4-[4]} = 0. Multiplicación final: -1 × 0 = 0."},{id:"jerarquia_10",materia:"Matemáticas",tema:"Jerarquía de Operaciones",pregunta:"¿Cuál es el resultado de la operación? {[(-10÷2)+3]×(-2)} - [(-4)÷(-2)]",opciones:["4","2","8","10"],respuesta_correcta:"2",explicacion:"Primer grupo: {[(-5)+3]×(-2)} = {[-2]×(-2)} = 4. Segundo corchete: [(-4)÷(-2)] = 2. Resta final: 4 - 2 = 2."},{id:"algebra_1",materia:"Matemáticas",tema:"Lenguaje Algebraico",pregunta:"El total de siete veces un número y 14 veces la diferencia entre el número y 21",opciones:["7n + 14(n - 21)","7n + 14n - 21","7n + 14(21 - n)","7n - 14(n - 21)"],respuesta_correcta:"7n + 14(n - 21)",explicacion:"Descomponemos la frase: 'siete veces un número' es 7n. 'la diferencia entre el número y 21' es (n-21). '14 veces la diferencia...' es 14(n-21). 'El total de...' indica una suma: 7n + 14(n-21). Un error común es no usar paréntesis."},{id:"algebra_2",materia:"Matemáticas",tema:"Lenguaje Algebraico",pregunta:"Seis menos un tercio de la suma de un número y nueve",opciones:["6 - (n+9)/3","6 - n/3 + 9","(6-n+9)/3","6 - 1/3n + 9"],respuesta_correcta:"6 - (n+9)/3",explicacion:"'La suma de un número y nueve' es (n+9). 'Un tercio de la suma' es (n+9)/3. 'Seis menos...' significa que a 6 le restamos lo anterior: 6 - (n+9)/3. Es crucial usar paréntesis para indicar que el tercio afecta a toda la suma."},{id:"algebra_3",materia:"Matemáticas",tema:"Lenguaje Algebraico",pregunta:"Diez menos que el triple de la diferencia entre un número y 15",opciones:["3n - 15 - 10","3(n - 15) - 10","3(n - 15) + 10","3n - 15 + 10"],respuesta_correcta:"3(n - 15) - 10",explicacion:"'La diferencia entre un número y 15' es (n-15). 'El triple de la diferencia' es 3(n-15). 'Diez menos que...' significa que a la expresión anterior le restamos 10. Resultado: 3(n-15) - 10."},{id:"algebra_4",materia:"Matemáticas",tema:"Lenguaje Algebraico",pregunta:"La mitad de un número incrementado en 8",opciones:["n/2 + 8","(n+8)/2","n/2 - 8","2n + 8"],respuesta_correcta:"n/2 + 8",explicacion:"Esta frase puede ser ambigua, pero la interpretación más común es: 'La mitad de un número' (n/2), y a ese resultado se le 'incrementa 8' (+8). Resultado: n/2 + 8. La opción (n+8)/2 sería 'la mitad de la suma de un número y 8'."},{id:"algebra_5",materia:"Matemáticas",tema:"Lenguaje Algebraico",pregunta:"El doble de la suma de un número y 7",opciones:["2n + 7","2(n + 7)","2n + 14","n + 14"],respuesta_correcta:"2(n + 7)",explicacion:"'La suma de un número y 7' se escribe como (n+7). 'El doble de...' significa multiplicar toda la expresión anterior por 2. Por eso, se usan paréntesis: 2(n+7). Sin paréntesis (2n+7), significaría 'siete más el doble de un número'."},{id:"algebra_6",materia:"Matemáticas",tema:"Lenguaje Algebraico",pregunta:"Cinco menos que el cuadrado de un número.",opciones:["5 - n²","n² - 5","(5 - n)²","(n - 5)²"],respuesta_correcta:"n² - 5",explicacion:"'El cuadrado de un número' es n². La frase 'cinco menos que...' indica que al término principal (n²) le vamos a restar 5. Por lo tanto, la expresión es n² - 5."},{id:"algebra_7",materia:"Matemáticas",tema:"Lenguaje Algebraico",pregunta:"Tres veces la diferencia entre un número y 4",opciones:["3n - 4","3(n - 4)","3(4 - n)","3n + 4"],respuesta_correcta:"3(n - 4)",explicacion:"'La diferencia entre un número y 4' es (n-4). 'Tres veces...' significa que multiplicamos esa diferencia por 3, usando paréntesis para agrupar: 3(n-4)."},{id:"algebra_8",materia:"Matemáticas",tema:"Lenguaje Algebraico",pregunta:"Un número elevado al cuadrado más el doble del mismo número",opciones:["n² + n","n² + 2n","(n + 2)²","2n² + n"],respuesta_correcta:"n² + 2n",explicacion:"Se descompone en dos partes. 'Un número elevado al cuadrado' es n². 'El doble del mismo número' es 2n. La palabra 'más' indica que debemos sumarlas: n² + 2n."},{id:"algebra_9",materia:"Matemáticas",tema:"Lenguaje Algebraico",pregunta:"La tercera parte de un número disminuido en 6",opciones:["n/3 - 6","(n-6)/3","3n - 6","(n-6)/3"],respuesta_correcta:"n/3 - 6",explicacion:"Similar al reactivo 4, se interpreta por partes. 'La tercera parte de un número' es n/3. 'disminuido en 6' significa que le restamos 6 al resultado anterior: n/3 - 6. La opción (n-6)/3 correspondería a 'la tercera parte de la diferencia de un número y 6'."},{id:"algebra_10",materia:"Matemáticas",tema:"Lenguaje Algebraico",pregunta:"El producto de 4 y la suma de un número con 9",opciones:["4n + 9","4(n + 9)","4 + n + 9","4n + 36"],respuesta_correcta:"4(n + 9)",explicacion:"'La suma de un número con 9' es (n+9). 'El producto de 4 y la suma...' significa que debemos multiplicar 4 por toda la suma anterior, lo que requiere paréntesis: 4(n+9)."},{id:"ecuaciones_1",materia:"Matemáticas",tema:"Ecuaciones",pregunta:"¿Cuál es el valor de m en la ecuación? 3(m + 2) = 21",opciones:["m = 3","m = 5","m = 7","m = 9"],respuesta_correcta:"m = 5",explicacion:"Paso 1: Dividimos ambos lados entre 3: (m+2) = 21/3, que es m+2=7. Paso 2: Restamos 2 de ambos lados para despejar m: m = 7 - 2. Resultado: m = 5."},{id:"ecuaciones_2",materia:"Matemáticas",tema:"Ecuaciones",pregunta:"¿Cuál es el valor de y en la ecuación? 2y - 4 = 3(y - 3)",opciones:["y = 2","y = 3","y = 4","y = 5"],respuesta_correcta:"y = 5",explicacion:"Paso 1: Expandimos el lado derecho: 2y - 4 = 3y - 9. Paso 2: Agrupamos las 'y' en un lado y los números en el otro. Sumamos 9 a ambos lados: 2y + 5 = 3y. Paso 3: Restamos 2y de ambos lados: 5 = y. Resultado: y = 5."},{id:"ecuaciones_3",materia:"Matemáticas",tema:"Ecuaciones",pregunta:"¿Cuál es el valor de z en la ecuación? (z-1)/2 + 3 = 7",opciones:["z = 6","z = 7","z = 8","z = 9"],respuesta_correcta:"z = 9",explicacion:"Paso 1: Restamos 3 de ambos lados: (z-1)/2 = 7 - 3, que es (z-1)/2 = 4. Paso 2: Multiplicamos ambos lados por 2: z-1 = 4 * 2, que es z-1 = 8. Paso 3: Sumamos 1 a ambos lados: z = 8 + 1. Resultado: z = 9."},{id:"ecuaciones_4",materia:"Matemáticas",tema:"Ecuaciones",pregunta:"¿Cuál es el valor de a en la ecuación? 4a + 6 = 2(a + 8)",opciones:["a = 3","a = 4","a = 5","a = 6"],respuesta_correcta:"a = 5",explicacion:"Paso 1: Expandimos el lado derecho: 4a + 6 = 2a + 16. Paso 2: Restamos 2a de ambos lados: 2a + 6 = 16. Paso 3: Restamos 6 de ambos lados: 2a = 10. Paso 4: Dividimos entre 2: a = 5."},{id:"ecuaciones_5",materia:"Matemáticas",tema:"Ecuaciones",pregunta:"¿Cuál es el valor de b en la ecuación? 5(b - 2) = 3b + 4",opciones:["b = 6","b = 7","b = 8","b = 9"],respuesta_correcta:"b = 7",explicacion:"Paso 1: Expandimos el lado izquierdo: 5b - 10 = 3b + 4. Paso 2: Restamos 3b de ambos lados: 2b - 10 = 4. Paso 3: Sumamos 10 a ambos lados: 2b = 14. Paso 4: Dividimos entre 2: b = 7."},{id:"ecuaciones_6",materia:"Matemáticas",tema:"Ecuaciones",pregunta:"¿Cuál es el valor de x en la ecuación? (2x+1)/3 = (x-2)/2",opciones:["x = 2","x = -8","x = 7","x = 5"],respuesta_correcta:"x = -8",explicacion:"Usamos la multiplicación cruzada. Paso 1: 2 * (2x+1) = 3 * (x-2). Paso 2: Expandimos ambos lados: 4x + 2 = 3x - 6. Paso 3: Restamos 3x de ambos lados: x + 2 = -6. Paso 4: Restamos 2 de ambos lados: x = -8."},{id:"ecuaciones_7",materia:"Matemáticas",tema:"Ecuaciones",pregunta:"¿Cuál es el valor de p en la ecuación? 6 - (p + 1) = 2p - 4",opciones:["p = 2","p = 3","p = 4","p = 5"],respuesta_correcta:"p = 3",explicacion:"Paso 1: Resolvemos el paréntesis: 6 - p - 1 = 2p - 4, que simplifica a 5 - p = 2p - 4. Paso 2: Sumamos 'p' a ambos lados: 5 = 3p - 4. Paso 3: Sumamos 4 a ambos lados: 9 = 3p. Paso 4: Dividimos entre 3: p = 3."},{id:"ecuaciones_8",materia:"Matemáticas",tema:"Ecuaciones",pregunta:"¿Cuál es el valor de q en la ecuación? 3(q - 4) + 2 = 5(q - 2)",opciones:["q = 1","q = 2","q = 0","q = 4"],respuesta_correcta:"q = 0",explicacion:"Paso 1: Expandimos ambos lados: 3q - 12 + 2 = 5q - 10. Simplificamos: 3q - 10 = 5q - 10. Paso 2: Sumamos 10 a ambos lados: 3q = 5q. Paso 3: Restamos 3q de ambos lados: 0 = 2q. Dividiendo entre 2, obtenemos q = 0."},{id:"ecuaciones_9",materia:"Matemáticas",tema:"Ecuaciones",pregunta:"¿Cuál es el valor de r en la ecuación? 2r + 5 = 3(r + 1) - 2",opciones:["r = 2","r = 3","r = 4","r = 5"],respuesta_correcta:"r = 4",explicacion:"Paso 1: Expandimos el lado derecho: 2r + 5 = 3r + 3 - 2. Simplificamos: 2r + 5 = 3r + 1. Paso 2: Restamos 2r de ambos lados: 5 = r + 1. Paso 3: Restamos 1 de ambos lados: 4 = r. Resultado: r = 4."},{id:"ecuaciones_10",materia:"Matemáticas",tema:"Ecuaciones",pregunta:"¿Cuál es el valor de m en la ecuación? (m+2)/3 + 7 = m + 1",opciones:["m = 8","m = 10","m = 11","m = 12"],respuesta_correcta:"m = 10",explicacion:"Paso 1: Para eliminar la fracción, multiplicamos toda la ecuación por 3: 3*[(m+2)/3] + 3*7 = 3*(m+1). Esto nos da: (m+2) + 21 = 3m + 3. Paso 2: Simplificamos: m + 23 = 3m + 3. Paso 3: Restamos 'm' de ambos lados: 23 = 2m + 3. Paso 4: Restamos 3: 20 = 2m. Paso 5: Dividimos entre 2: m = 10."}];function $6(r){let e=[...r];for(let n=e.length-1;n>0;n--){const a=Math.floor(Math.random()*(n+1));[e[n],e[a]]=[e[a],e[n]]}return e}function X6(){const[r,e]=le.useState(null),[n,a]=le.useState(!0),[s,l]=le.useState(""),[c,f]=le.useState("menu"),[m,y]=le.useState(!0),[g,v]=le.useState({tema:null,reactivos:[]}),[_,A]=le.useState(null),[I,q]=le.useState(null);le.useEffect(()=>{const Y=Dp(fp,R=>{e(R),a(!1)});return()=>Y()},[]);const V=()=>y(Y=>!Y),k=async()=>{await UC(fp),f("menu")},B=()=>f("menu"),H=()=>f("generarClave"),G=()=>f("verResultados"),Z=()=>f("topicSelection"),j=()=>f("seleccionEjercicio"),U=()=>f("historicalResults"),T=Y=>{A(Y),f("ejercicioIntegrador")},b=Y=>{const R=D0.filter(te=>te.tema===Y),N=$6(R).slice(0,10);v({tema:Y,reactivos:N}),f("quiz")},x=async(Y,R)=>{const N={puntuacion:Y,historial:R,total:g.reactivos.length,tema:g.tema,studentName:r.displayName||r.email,groupKey:s,userId:r.uid,type:"quiz",createdAt:hp()};try{await cp(pu(gu,"resultados"),N)}catch(te){console.error("Error al guardar el resultado del quiz: ",te)}q({type:"quiz",data:N}),f("resultadosUnificados")},D=async(Y,R,N,te,X,M)=>{const re={ejercicioTitulo:vg.find(ie=>ie.id===_).title,argumentosConsigna1:Y,argumentosConsigna2:R,fileUrlConsigna1:N,fileUrlConsigna2:te,audioUrl1:X,audioUrl2:M,studentName:r.displayName||r.email,groupKey:s,userId:r.uid,type:"integrador",createdAt:hp()};try{await cp(pu(gu,"resultados"),re)}catch(ie){console.error("Error al guardar el ejercicio integrador: ",ie)}q({type:"integrador",data:re}),f("resultadosUnificados")},P=Y=>F.jsxs("header",{className:"app-header",children:[F.jsx("img",{src:"/logo-jaguar.png",alt:"Logo Máticas Jaguar",className:"logo"}),F.jsxs("div",{children:[F.jsx("h1",{children:Y}),F.jsx("p",{className:"text-center text-lg font-semibold text-gray-600 dark:text-white mb-4",children:"Creado por: Jairo Farrera"})]}),F.jsxs("div",{className:"absolute top-4 right-4 flex items-center space-x-4",children:[F.jsx("button",{onClick:V,className:"btn-3d btn-gray text-xs",children:m?"Modo Claro":"Modo Oscuro"}),r&&F.jsx("button",{onClick:k,className:"btn-3d btn-red text-xs",children:"Cerrar Sesión"})]})]}),C=()=>{if(c==="generarClave"||c==="verResultados")return"Portal para Maestros";if(!r)return"Bienvenido a Máticas Jaguar";switch(c){case"topicSelection":return"Selecciona un Tema";case"quiz":return`Tema: ${g.tema}`;case"seleccionEjercicio":return"Ejercicios Integradores";case"ejercicioIntegrador":return"Resolviendo Ejercicio";case"resultadosUnificados":return"Resultados de la Evaluación";case"historicalResults":return"Mis Resultados Históricos";default:return"Máticas Jaguar"}},K=()=>{if(n)return F.jsx("div",{className:"text-center p-10",children:"Cargando..."});if(c==="generarClave")return F.jsx(Q6,{onRegresar:B});if(c==="verResultados")return F.jsx(K6,{onRegresar:B});if(r)switch(c){case"quiz":return F.jsx(D6,{reactivos:g.reactivos,onQuizFinish:x,onGoToMenu:B});case"topicSelection":const Y=[...new Set(D0.map(R=>R.tema))];return F.jsxs("div",{className:"menu-principal",children:[F.jsx("div",{className:"temas-container",children:Y.map(R=>F.jsx("button",{onClick:()=>b(R),className:"btn-3d btn-blue",children:R},R))}),F.jsx("button",{onClick:B,className:"btn-3d btn-gray mt-8",children:"Volver al Menú"})]});case"seleccionEjercicio":return F.jsx(H6,{onSelectEjercicio:T,onRegresar:B});case"ejercicioIntegrador":return F.jsx(z6,{ejercicioId:_,onRegresar:()=>f("seleccionEjercicio"),onSave:D,user:r,groupKey:s});case"resultadosUnificados":return F.jsx(F6,{resultType:I.type,resultData:I.data,onGoToMenu:B});case"historicalResults":return F.jsx(Y6,{onRegresar:B});default:return F.jsx("div",{className:"menu-principal",children:F.jsxs("div",{className:"main-menu-buttons",children:[F.jsxs("h2",{className:"welcome-heading dark:text-white",children:["¡Hola, ",r.displayName||r.email,"!"]}),F.jsx("p",{className:"text-center mb-4 text-orange-500 dark:text-white",children:"Ingresa la Clave de la Clase"}),F.jsx("input",{type:"text",placeholder:"Clave de la Clase aquí...",className:"name-input input-3d mb-6",value:s,onChange:R=>l(R.target.value)}),F.jsx("button",{onClick:j,className:"btn-3d btn-blue w-full max-w-md",children:"Ejercicios integradores de aprendizaje"}),F.jsx("button",{onClick:Z,className:"btn-3d btn-blue w-full max-w-md mt-4",children:"Evaluación de Contenidos"}),F.jsx("button",{onClick:U,className:"btn-3d btn-blue w-full max-w-md mt-4",children:"Mis Resultados Históricos"})," // NEW BUTTON"]})})}return F.jsxs("div",{className:"menu-principal",children:[F.jsx(N6,{}),F.jsx("div",{className:"mt-8 pt-6 border-t border-gray-300 dark:border-gray-600",children:F.jsxs("div",{className:"text-center space-y-2",children:[F.jsx("button",{onClick:H,className:"text-blue-600 dark:text-blue-400 hover:underline",children:"¿Eres maestro? Genera tu clave aquí"}),F.jsx("br",{}),F.jsx("button",{onClick:G,className:"text-green-600 dark:text-green-400 hover:underline",children:"Ver Resultados (Maestros)"})]})})]})};return F.jsxs("div",{className:`App ${m?"dark":""}`,children:[P(C()),F.jsx("main",{className:"app-main-content",children:K()})]})}const W6=document.getElementById("root"),J6=OA.createRoot(W6);J6.render(F.jsx(SA.StrictMode,{children:F.jsx(HS,{children:F.jsx(X6,{})})}));
